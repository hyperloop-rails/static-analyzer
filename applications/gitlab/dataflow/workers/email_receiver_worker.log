SET IRMethod, name = perform instanceMethod = true
BB 1
	outgoing: 21 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_raw 
		 6: 
		 7: (Gitlab) def_%v_3 
		 8: (inherit IncomingEmail) def_%v_4 %v_3[2.7,] 
		 9: %v_4[2.8,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %v_3->const_missing def_%v_4 %v_3[2.7,] 	 SYMBOL:IncomingEmail,	 ARGS:Symbol,
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: %v_4->enabled? def_%v_5 %v_4[3.0,2.8,] 	 SYMBOL:	 ARGS:
		 1: BRANCH %v_5[4.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: GLOBALVAR $! def_%v_7 
BB 6
	outgoing: 21 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 10 11 15 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: (Gitlab) def_%v_10 
		 3: (inherit Email) def_%v_11 %v_10[8.2,] 
		 4: %v_11[8.3,] 
BB 10
	outgoing: 11 15 
	datadep: 
	instructions:
		 0: %v_10->const_missing def_%v_11 %v_10[8.2,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 11
	outgoing: 12 13 15 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_12 %v_11[10.0,8.3,] 
		 1: %v_12[11.0,] 
BB 12
	outgoing: 13 15 
	datadep: 
	instructions:
		 0: %v_11->const_missing def_%v_12 %v_11[10.0,8.3,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: %v_12->new def_%v_13 %v_12[12.0,11.0,] raw[2.5,] 	 SYMBOL:	 ARGS:raw,
		 1: %v_13->execute def_%v_14 %v_13[13.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_9 %v_14[13.1,] 
		 3: %v_7[5.2,] 
BB 14
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
BB 15
	outgoing: 16 17 19 
	datadep: 
	instructions:
		 0: def_%v_15 
		 1: def_%v_16 %v_15[15.0,] 
		 2: BRANCH %v_16[15.1,] 
BB 16
	outgoing: 19 21 
	datadep: 
	instructions:
		 0: %v_15[15.0,] 
BB 17
	outgoing: 18 19 
	datadep: 
	instructions:
		 0: GLOBALVAR $! def_%v_17 
		 1: COPY TYPE_PASS def_e %v_17[17.0,] 
		 2: 
		 3: %self->handle_failure def_%v_18 %self[2.0,] raw[2.5,] %v_17[17.0,] 	 SYMBOL:	 ARGS:raw,e,
		 4: COPY TYPE_PASS def_%v_9 %v_18[17.3,] 
		 5: %v_7[5.2,] 
BB 18
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
BB 19
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%v_19 
		 1: def_%v_20 %v_19[19.0,] %v_7[5.2,] 
		 2: %v_19[19.0,] 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: RETURN %v_9[13.2,17.4,] %self[2.0,] 
BB 21
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = handle_failure instanceMethod = true
BB 1
	outgoing: 73 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_raw 
		 6: RECEIVEARG def_e 
		 7: 
		 8: (Rails) def_%v_3 
		 9: %v_3->logger def_%v_4 %v_3[2.8,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral "Email can not be processed: " def_%v_5 
		 11: COPY TYPE_StringLiteral "

" def_%v_6 
		 12: BUILDSTRING def_%v_7 %v_5[2.10,] e[2.6,] %v_6[2.11,] raw[2.5,] 
		 13: %v_4->warn def_%v_8 %v_4[2.9,] %v_7[2.12,] 	 SYMBOL:	 ARGS:%v_7,
		 14: 
		 15: raw->present? def_%v_9 raw[2.5,] 	 SYMBOL:	 ARGS:
		 16: BRANCH %v_9[2.15,] 
BB 3
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
		 1: 
		 2: COPY TYPE_Boolean def_can_retry 
		 3: 
		 4: COPY TYPE_Nil def_reason 
		 5: 
		 6: (Gitlab) def_%v_13 
		 7: (inherit Email) def_%v_14 %v_13[3.6,] 
		 8: %v_14[3.7,] 
BB 4
	outgoing: 73 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: %v_13->const_missing def_%v_14 %v_13[3.6,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_15 %v_14[6.0,3.7,] 
		 1: %v_15[7.0,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: %v_14->const_missing def_%v_15 %v_14[6.0,3.7,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: (inherit SentNotificationNotFoundError) def_%v_16 %v_15[8.0,7.0,] 
		 1: %v_16[9.0,] 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: %v_15->const_missing def_%v_16 %v_15[8.0,7.0,] 	 SYMBOL:SentNotificationNotFoundError,	 ARGS:Symbol,
BB 11
	outgoing: 12 62 
	datadep: 
	instructions:
		 0: def_%v_12 %v_16[10.0,9.0,] e[2.6,] 
		 1: BRANCH %v_12[11.0,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_18 
		 1: (inherit Email) def_%v_19 %v_18[12.0,] 
		 2: %v_19[12.1,] 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: %v_18->const_missing def_%v_19 %v_18[12.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_20 %v_19[13.0,12.1,] 
		 1: %v_20[14.0,] 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: %v_19->const_missing def_%v_20 %v_19[13.0,12.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 16
	outgoing: 17 18 
	datadep: 
	instructions:
		 0: (inherit EmptyEmailError) def_%v_21 %v_20[15.0,14.0,] 
		 1: %v_21[16.0,] 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: %v_20->const_missing def_%v_21 %v_20[15.0,14.0,] 	 SYMBOL:EmptyEmailError,	 ARGS:Symbol,
BB 18
	outgoing: 19 63 
	datadep: 
	instructions:
		 0: def_%v_17 %v_21[17.0,16.0,] e[2.6,] 
		 1: BRANCH %v_17[18.0,] 
BB 19
	outgoing: 20 21 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_23 
		 1: (inherit Email) def_%v_24 %v_23[19.0,] 
		 2: %v_24[19.1,] 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: %v_23->const_missing def_%v_24 %v_23[19.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 21
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_25 %v_24[20.0,19.1,] 
		 1: %v_25[21.0,] 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: %v_24->const_missing def_%v_25 %v_24[20.0,19.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: (inherit AutoGeneratedEmailError) def_%v_26 %v_25[22.0,21.0,] 
		 1: %v_26[23.0,] 
BB 24
	outgoing: 25 
	datadep: 
	instructions:
		 0: %v_25->const_missing def_%v_26 %v_25[22.0,21.0,] 	 SYMBOL:AutoGeneratedEmailError,	 ARGS:Symbol,
BB 25
	outgoing: 26 64 
	datadep: 
	instructions:
		 0: def_%v_22 %v_26[24.0,23.0,] e[2.6,] 
		 1: BRANCH %v_22[25.0,] 
BB 26
	outgoing: 27 28 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_28 
		 1: (inherit Email) def_%v_29 %v_28[26.0,] 
		 2: %v_29[26.1,] 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: %v_28->const_missing def_%v_29 %v_28[26.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_30 %v_29[27.0,26.1,] 
		 1: %v_30[28.0,] 
BB 29
	outgoing: 30 
	datadep: 
	instructions:
		 0: %v_29->const_missing def_%v_30 %v_29[27.0,26.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 30
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: (inherit UserNotFoundError) def_%v_31 %v_30[29.0,28.0,] 
		 1: %v_31[30.0,] 
BB 31
	outgoing: 32 
	datadep: 
	instructions:
		 0: %v_30->const_missing def_%v_31 %v_30[29.0,28.0,] 	 SYMBOL:UserNotFoundError,	 ARGS:Symbol,
BB 32
	outgoing: 33 65 
	datadep: 
	instructions:
		 0: def_%v_27 %v_31[31.0,30.0,] e[2.6,] 
		 1: BRANCH %v_27[32.0,] 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_33 
		 1: (inherit Email) def_%v_34 %v_33[33.0,] 
		 2: %v_34[33.1,] 
BB 34
	outgoing: 35 
	datadep: 
	instructions:
		 0: %v_33->const_missing def_%v_34 %v_33[33.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 35
	outgoing: 36 37 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_35 %v_34[34.0,33.1,] 
		 1: %v_35[35.0,] 
BB 36
	outgoing: 37 
	datadep: 
	instructions:
		 0: %v_34->const_missing def_%v_35 %v_34[34.0,33.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 37
	outgoing: 38 39 
	datadep: 
	instructions:
		 0: (inherit UserBlockedError) def_%v_36 %v_35[36.0,35.0,] 
		 1: %v_36[37.0,] 
BB 38
	outgoing: 39 
	datadep: 
	instructions:
		 0: %v_35->const_missing def_%v_36 %v_35[36.0,35.0,] 	 SYMBOL:UserBlockedError,	 ARGS:Symbol,
BB 39
	outgoing: 40 66 
	datadep: 
	instructions:
		 0: def_%v_32 %v_36[38.0,37.0,] e[2.6,] 
		 1: BRANCH %v_32[39.0,] 
BB 40
	outgoing: 41 42 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_38 
		 1: (inherit Email) def_%v_39 %v_38[40.0,] 
		 2: %v_39[40.1,] 
BB 41
	outgoing: 42 
	datadep: 
	instructions:
		 0: %v_38->const_missing def_%v_39 %v_38[40.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 42
	outgoing: 43 44 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_40 %v_39[41.0,40.1,] 
		 1: %v_40[42.0,] 
BB 43
	outgoing: 44 
	datadep: 
	instructions:
		 0: %v_39->const_missing def_%v_40 %v_39[41.0,40.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 44
	outgoing: 45 46 
	datadep: 
	instructions:
		 0: (inherit UserNotAuthorizedError) def_%v_41 %v_40[43.0,42.0,] 
		 1: %v_41[44.0,] 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: %v_40->const_missing def_%v_41 %v_40[43.0,42.0,] 	 SYMBOL:UserNotAuthorizedError,	 ARGS:Symbol,
BB 46
	outgoing: 47 67 
	datadep: 
	instructions:
		 0: def_%v_37 %v_41[45.0,44.0,] e[2.6,] 
		 1: BRANCH %v_37[46.0,] 
BB 47
	outgoing: 48 49 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_43 
		 1: (inherit Email) def_%v_44 %v_43[47.0,] 
		 2: %v_44[47.1,] 
BB 48
	outgoing: 49 
	datadep: 
	instructions:
		 0: %v_43->const_missing def_%v_44 %v_43[47.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 49
	outgoing: 50 51 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_45 %v_44[48.0,47.1,] 
		 1: %v_45[49.0,] 
BB 50
	outgoing: 51 
	datadep: 
	instructions:
		 0: %v_44->const_missing def_%v_45 %v_44[48.0,47.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 51
	outgoing: 52 53 
	datadep: 
	instructions:
		 0: (inherit NoteableNotFoundError) def_%v_46 %v_45[50.0,49.0,] 
		 1: %v_46[51.0,] 
BB 52
	outgoing: 53 
	datadep: 
	instructions:
		 0: %v_45->const_missing def_%v_46 %v_45[50.0,49.0,] 	 SYMBOL:NoteableNotFoundError,	 ARGS:Symbol,
BB 53
	outgoing: 54 68 
	datadep: 
	instructions:
		 0: def_%v_42 %v_46[52.0,51.0,] e[2.6,] 
		 1: BRANCH %v_42[53.0,] 
BB 54
	outgoing: 55 56 
	datadep: 
	instructions:
		 0: (Gitlab) def_%v_48 
		 1: (inherit Email) def_%v_49 %v_48[54.0,] 
		 2: %v_49[54.1,] 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: %v_48->const_missing def_%v_49 %v_48[54.0,] 	 SYMBOL:Email,	 ARGS:Symbol,
BB 56
	outgoing: 57 58 
	datadep: 
	instructions:
		 0: (inherit Receiver) def_%v_50 %v_49[55.0,54.1,] 
		 1: %v_50[56.0,] 
BB 57
	outgoing: 58 
	datadep: 
	instructions:
		 0: %v_49->const_missing def_%v_50 %v_49[55.0,54.1,] 	 SYMBOL:Receiver,	 ARGS:Symbol,
BB 58
	outgoing: 59 60 
	datadep: 
	instructions:
		 0: (inherit InvalidNoteError) def_%v_51 %v_50[57.0,56.0,] 
		 1: %v_51[58.0,] 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: %v_50->const_missing def_%v_51 %v_50[57.0,56.0,] 	 SYMBOL:InvalidNoteError,	 ARGS:Symbol,
BB 60
	outgoing: 61 69 
	datadep: 
	instructions:
		 0: def_%v_47 %v_51[59.0,58.0,] e[2.6,] 
		 1: BRANCH %v_47[60.0,] 
BB 61
	outgoing: 73 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[2.0,] 
BB 62
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "We couldn't figure out what the email is in reply to. Please create your comment through the web interface." def_%v_52 
		 2: COPY TYPE_PASS def_reason %v_52[62.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_52[62.1,] 
		 4: 
BB 63
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Boolean def_can_retry 
		 2: 
		 3: COPY TYPE_StringLiteral "It appears that the email is blank. Make sure your reply is at the top of the email, we can't process inline replies." def_%v_53 
		 4: COPY TYPE_PASS def_reason %v_53[63.3,] 
		 5: COPY TYPE_PASS def_%v_11 %v_53[63.3,] 
		 6: 
BB 64
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "The email was marked as 'auto generated', which we can't accept. Please create your comment through the web interface." def_%v_54 
		 2: COPY TYPE_PASS def_reason %v_54[64.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_54[64.1,] 
		 4: 
BB 65
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "We couldn't figure out what user corresponds to the email. Please create your comment through the web interface." def_%v_55 
		 2: COPY TYPE_PASS def_reason %v_55[65.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_55[65.1,] 
		 4: 
BB 66
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "Your account has been blocked. If you believe this is in error, contact a staff member." def_%v_56 
		 2: COPY TYPE_PASS def_reason %v_56[66.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_56[66.1,] 
		 4: 
BB 67
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "You are not allowed to respond to the thread you are replying to. If you believe this is in error, contact a staff member." def_%v_57 
		 2: COPY TYPE_PASS def_reason %v_57[67.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_57[67.1,] 
		 4: 
BB 68
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "The thread you are replying to no longer exists, perhaps it was deleted? If you believe this is in error, contact a staff member." def_%v_58 
		 2: COPY TYPE_PASS def_reason %v_58[68.1,] 
		 3: COPY TYPE_PASS def_%v_11 %v_58[68.1,] 
		 4: 
BB 69
	outgoing: 72 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Boolean def_can_retry 
		 2: 
		 3: e->message def_%v_59 e[2.6,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_reason %v_59[69.3,] 
		 5: COPY TYPE_PASS def_%v_11 %v_59[69.3,] 
		 6: 
BB 72
	outgoing: 73 
	datadep: 
	instructions:
		 0: 
		 1: (EmailRejectionMailer) def_%v_60 
		 2: %v_60->rejection def_%v_61 %v_60[72.1,] reason[62.2,63.4,64.2,65.2,66.2,67.2,68.2,69.4,] raw[2.5,] can_retry[63.1,69.1,3.2,] 	 SYMBOL:	 ARGS:reason,raw,can_retry,
		 3: %v_61->deliver_later def_%v_62 %v_61[72.2,] 	 SYMBOL:	 ARGS:
		 4: RETURN %v_62[72.3,] %self[2.0,] 
BB 73
	outgoing: 
	datadep: 
	instructions:

