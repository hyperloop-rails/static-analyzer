SET IRMethod, name = username instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->name def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: RETURN %v_3[2.6,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = password instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->name def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: RETURN %v_3[2.6,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = hostname instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "localhost" def_%v_3 
		 7: RETURN %v_3[2.6,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = after_create_hook instanceMethod = true
BB 1
	outgoing: 15 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Rails) def_%v_3 
		 7: %v_3->env def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->production? def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_5[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: %self->class def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_7->connection def_%v_8 %v_7[3.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_c %v_8[3.3,] 
		 5: 
		 6: %self->name def_%v_9 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_PASS def_password %v_9[3.6,] 
		 8: 
		 9: %self->name def_%v_10 %self[3.2,3.6,2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_PASS def_user %v_10[3.9,] 
		 11: 
		 12: COPY TYPE_StringLiteral "localhost" def_%v_11 
		 13: COPY TYPE_PASS def_host %v_11[3.12,] 
		 14: 
		 15: COPY TYPE_StringLiteral "CREATE DATABASE IF NOT EXISTS `" def_%v_12 
		 16: %self->name def_%v_13 %self[3.2,3.6,3.9,2.0,] 	 SYMBOL:	 ARGS:
		 17: COPY TYPE_StringLiteral "` DEFAULT CHARACTER SET utf8;" def_%v_14 
		 18: BUILDSTRING def_%v_15 %v_12[3.15,] %v_13[3.16,] %v_14[3.17,] 
		 19: c->execute def_%v_16 c[3.4,] %v_15[3.18,] 	 SYMBOL:	 ARGS:%v_15,
		 20: 
		 21: GLOBALVAR $! def_%v_17 
BB 4
	outgoing: 15 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "DROP USER '" def_%v_20 
		 2: COPY TYPE_StringLiteral "'@'" def_%v_21 
		 3: COPY TYPE_StringLiteral "';" def_%v_22 
		 4: BUILDSTRING def_%v_23 %v_20[6.1,] user[3.10,] %v_21[6.2,] host[3.13,] %v_22[6.3,] 
		 5: c->execute def_%v_24 c[3.4,] %v_23[6.4,] 	 SYMBOL:	 ARGS:%v_23,
		 6: COPY TYPE_PASS def_%v_19 %v_24[6.5,] 
		 7: 
		 8: %v_17[3.21,] 
BB 8
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 9
	outgoing: 10 11 13 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_25 
		 2: def_%v_26 %v_25[9.1,] 
		 3: BRANCH %v_26[9.2,] 
BB 10
	outgoing: 13 15 
	datadep: 
	instructions:
		 0: %v_25[9.1,] 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_19 
		 1: 
		 2: %v_17[3.21,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%v_27 
		 1: def_%v_28 %v_27[13.0,] %v_17[3.21,] 
		 2: %v_27[13.0,] 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "CREATE USER '" def_%v_29 
		 2: COPY TYPE_StringLiteral "'@'" def_%v_30 
		 3: COPY TYPE_StringLiteral "' IDENTIFIED BY '" def_%v_31 
		 4: COPY TYPE_StringLiteral "';" def_%v_32 
		 5: BUILDSTRING def_%v_33 %v_29[14.1,] user[3.10,] %v_30[14.2,] host[3.13,] %v_31[14.3,] password[3.7,] %v_32[14.4,] 
		 6: c->execute def_%v_34 c[3.4,] %v_33[14.5,] 	 SYMBOL:	 ARGS:%v_33,
		 7: 
		 8: COPY TYPE_StringLiteral "GRANT ALL PRIVILEGES ON `" def_%v_35 
		 9: %self->name def_%v_36 %self[2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral "`.* TO '" def_%v_37 
		 11: COPY TYPE_StringLiteral "'@'" def_%v_38 
		 12: COPY TYPE_StringLiteral "';" def_%v_39 
		 13: BUILDSTRING def_%v_40 %v_35[14.8,] %v_36[14.9,] %v_37[14.10,] user[3.10,] %v_38[14.11,] host[3.13,] %v_39[14.12,] 
		 14: c->execute def_%v_41 c[14.6,3.4,] %v_40[14.13,] 	 SYMBOL:	 ARGS:%v_40,
		 15: RETURN %v_41[14.14,] %self[14.9,2.0,] 
BB 15
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = after_destroy_hook instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Rails) def_%v_3 
		 7: %v_3->env def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->production? def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_5[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: %self->name def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_user %v_7[3.2,] 
		 4: 
		 5: (Time) def_%v_8 
		 6: %v_8->now def_%v_9 %v_8[3.5,] 	 SYMBOL:	 ARGS:
		 7: (DB_BACKUPS_DIR) def_%v_10 
		 8: COPY TYPE_StringLiteral "/%y%m%d-%H%M%S-" def_%v_11 
		 9: %self->name def_%v_12 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral ".sql.bz2" def_%v_13 
		 11: BUILDSTRING def_%v_14 %v_10[3.7,] %v_11[3.8,] %v_12[3.9,] %v_13[3.10,] 
		 12: %v_9->strftime def_%v_15 %v_9[3.6,] %v_14[3.11,] 	 SYMBOL:	 ARGS:%v_14,
		 13: COPY TYPE_PASS def_filename %v_15[3.12,] 
		 14: 
		 15: COPY TYPE_StringLiteral "mysqldump --add-drop-table -u" def_%v_16 
		 16: COPY TYPE_StringLiteral " -p" def_%v_17 
		 17: COPY TYPE_StringLiteral " " def_%v_18 
		 18: %self->name def_%v_19 %self[3.2,3.9,2.0,] 	 SYMBOL:	 ARGS:
		 19: COPY TYPE_StringLiteral " | bzip2 > " def_%v_20 
		 20: BUILDSTRING def_%v_21 %v_16[3.15,] user[3.3,] %v_17[3.16,] user[3.3,] %v_18[3.17,] %v_19[3.18,] %v_20[3.19,] filename[3.13,] 
		 21: %self->system def_%v_22 %self[3.2,3.9,3.18,2.0,] %v_21[3.20,] 	 SYMBOL:	 ARGS:%v_21,
		 22: 
		 23: (Dir) def_%v_23 
		 24: (DB_BACKUPS_DIR) def_%v_24 
		 25: %v_23->chdir def_%v_25 %v_23[3.23,] %v_24[3.24,] %self[3.2,3.9,3.18,3.21,2.0,] 	 SYMBOL:	 ARGS:%v_24,%v_23,
CLOSURE BEGIN: %self[3.2,3.9,3.18,3.21,2.0,] filename[3.13,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "ln -sf " def_%cl_1_3 
		 2: COPY TYPE_StringLiteral " latest-" def_%cl_1_4 
		 3: %self->name def_%cl_1_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral ".bz2" def_%cl_1_6 
		 5: BUILDSTRING def_%cl_1_7 %cl_1_3[3.1,] filename[] %cl_1_4[3.2,] %cl_1_5[3.3,] %cl_1_6[3.4,] 
		 6: %self->system def_%cl_1_8 %self[3.3,2.0,] %cl_1_7[3.5,] 	 SYMBOL:	 ARGS:%cl_1_7,
		 7: RETURN %cl_1_8[3.6,] %self[3.3,3.6,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_9 
		 1: def_%cl_1_10 %cl_1_9[4.0,] 
		 2: RETURN %cl_1_10[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 26: 
		 27: %self->class def_%v_26 %self[3.2,3.9,3.18,3.21,2.0,] 	 SYMBOL:	 ARGS:
		 28: %v_26->connection def_%v_27 %v_26[3.27,] 	 SYMBOL:	 ARGS:
		 29: COPY TYPE_PASS def_c %v_27[3.28,] 
		 30: 
		 31: COPY TYPE_StringLiteral "localhost" def_%v_28 
		 32: COPY TYPE_PASS def_host %v_28[3.31,] 
		 33: 
		 34: COPY TYPE_StringLiteral "drop user '" def_%v_29 
		 35: COPY TYPE_StringLiteral "'@'" def_%v_30 
		 36: COPY TYPE_StringLiteral "';" def_%v_31 
		 37: BUILDSTRING def_%v_32 %v_29[3.34,] user[3.3,] %v_30[3.35,] %v_28[3.31,] %v_31[3.36,] 
		 38: %v_27->execute def_%v_33 %v_27[3.28,] %v_32[3.37,] 	 SYMBOL:	 ARGS:%v_32,
		 39: 
		 40: COPY TYPE_StringLiteral "drop database if exists `" def_%v_34 
		 41: %self->name def_%v_35 %self[3.2,3.9,3.18,3.21,3.27,2.0,] 	 SYMBOL:	 ARGS:
		 42: COPY TYPE_StringLiteral "`;" def_%v_36 
		 43: BUILDSTRING def_%v_37 %v_34[3.40,] %v_35[3.41,] %v_36[3.42,] 
		 44: c->execute def_%v_38 c[3.29,] %v_37[3.43,] 	 SYMBOL:	 ARGS:%v_37,
		 45: RETURN %v_38[3.44,] %self[3.2,3.9,3.18,3.21,3.27,3.41,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

