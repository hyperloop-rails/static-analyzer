SET IRMethod, name = hidden_reasons instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->hidden_reasons def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (Enum) def_%v_6 
		 1: HASH-flag_threshold_reached-flag_threshold_reached_again-new_user_spam_threshold_reached-flagged_by_tl3_user- def_%v_7 
		 2: %v_6->new def_%v_8 %v_6[5.0,] %v_7[5.1,] 	 SYMBOL:	 ARGS:%v_7,
		 3: ATTRASSIGN %self->hidden_reasons %v_8[5.2,] 
		 4: RETURN %v_8[5.2,] %self[5.3,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = types instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->types def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (Enum) def_%v_6 
		 1: HASH-regular-moderator_action-small_action-whisper- def_%v_7 
		 2: %v_6->new def_%v_8 %v_6[5.0,] %v_7[5.1,] 	 SYMBOL:	 ARGS:%v_7,
		 3: ATTRASSIGN %self->types %v_8[5.2,] 
		 4: RETURN %v_8[5.2,] %self[5.3,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cook_methods instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->cook_methods def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (Enum) def_%v_6 
		 1: HASH-regular-raw_html-email- def_%v_7 
		 2: %v_6->new def_%v_8 %v_6[5.0,] %v_7[5.1,] 	 SYMBOL:	 ARGS:%v_7,
		 3: ATTRASSIGN %self->cook_methods %v_8[5.2,] 
		 4: RETURN %v_8[5.2,] %self[5.3,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = find_by_detail instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_key 
		 6: RECEIVEARG def_value 
		 7: 
		 8: %self->includes def_%v_3 %self[2.0,] 	 SYMBOL:post_details,	 ARGS:Symbol,
		 9: HASH-key-value- def_%v_4 key[2.5,] value[2.6,] 
		 10: HASH-post_details- def_%v_5 %v_4[2.9,] 
		 11: %v_3->find_by def_%v_6 %v_3[2.8,] %v_5[2.10,] 	 SYMBOL:	 ARGS:%v_5,
		 12: RETURN %v_6[2.11,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = whisper? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->post_type def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: (Post) def_%v_4 
		 8: %v_4->types def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_5->[] def_%v_6 %v_5[2.8,] 	 SYMBOL:whisper,	 ARGS:Symbol,
		 10: %v_3->== def_%v_7 %v_3[2.6,] %v_6[2.9,] 	 SYMBOL:	 ARGS:%v_6,
		 11: RETURN %v_7[2.10,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = add_detail instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_key 
		 6: RECEIVEARG def_value 
		 7: RECEIVECONSTARG def_extra 
		 8: extra[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_extra 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->post_details def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: HASH-key-value-extra- def_%v_4 key[2.5,] value[2.6,] extra[3.0,2.7,] 
		 3: %v_3->build def_%v_5 %v_3[4.1,] %v_4[4.2,] 	 SYMBOL:	 ARGS:%v_4,
		 4: RETURN %v_5[4.3,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = limit_posts_per_day instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_4->first_day_user? def_%v_5 %v_4[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.2,2.6,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->post_number def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_3 %v_6[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_3[5.1,3.2,2.6,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->post_number def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_7->> def_%v_8 %v_7[7.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: COPY TYPE_PASS def_%v_3 %v_8[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %v_3[7.2,5.1,3.2,2.6,] 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: (RateLimiter) def_%v_9 
		 2: %self->user def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "first-day-replies-per-day" def_%v_11 
		 4: (SiteSetting) def_%v_12 
		 5: %v_12->max_replies_in_first_day def_%v_13 %v_12[9.4,] 	 SYMBOL:	 ARGS:
		 6: CONSTANT def_%v_14 	 SYMBOL:	 ARGS:
		 7: %v_14->to_i def_%v_15 %v_14[9.6,] 	 SYMBOL:	 ARGS:
		 8: %v_9->new def_%v_16 %v_9[9.1,] %v_10[9.2,] %v_11[9.3,] %v_13[9.5,] %v_15[9.7,] 	 SYMBOL:	 ARGS:%v_10,%v_11,%v_13,%v_15,
		 9: RETURN %v_16[9.8,] %self[9.2,2.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = publish_change_to_clients! instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_type 
		 6: 
		 7: %self->topic def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: COPY TYPE_StringLiteral "/topic/" def_%v_5 
		 3: %self->topic_id def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: BUILDSTRING def_%v_7 %v_5[3.2,] %v_6[3.3,] 
		 5: COPY TYPE_PASS def_channel %v_7[3.4,] 
		 6: 
		 7: %self->id def_%v_8 %self[3.3,2.0,] 	 SYMBOL:	 ARGS:
		 8: %self->post_number def_%v_9 %self[3.3,3.7,2.0,] 	 SYMBOL:	 ARGS:
		 9: (Time) def_%v_10 
		 10: %v_10->now def_%v_11 %v_10[3.9,] 	 SYMBOL:	 ARGS:
		 11: %self->user_id def_%v_12 %self[3.3,3.7,3.8,2.0,] 	 SYMBOL:	 ARGS:
		 12: %self->last_editor_id def_%v_13 %self[3.3,3.7,3.8,3.11,2.0,] 	 SYMBOL:	 ARGS:
		 13: HASH-id-post_number-updated_at-user_id-last_editor_id-type- def_%v_14 %v_8[3.7,] %v_9[3.8,] %v_11[3.10,] %v_12[3.11,] %v_13[3.12,] type[2.5,] 
		 14: COPY TYPE_PASS def_msg %v_14[3.13,] 
		 15: 
		 16: (Topic) def_%v_15 
		 17: %v_15->visible_post_types def_%v_16 %v_15[3.16,] 	 SYMBOL:	 ARGS:
		 18: %self->post_type def_%v_17 %self[3.3,3.7,3.8,3.11,3.12,2.0,] 	 SYMBOL:	 ARGS:
		 19: %v_16->include? def_%v_18 %v_16[3.17,] %v_17[3.18,] 	 SYMBOL:	 ARGS:%v_17,
		 20: BRANCH %v_18[3.19,] 
BB 4
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: (MessageBus) def_%v_19 
		 2: %self->topic def_%v_20 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_20->secure_group_ids def_%v_21 %v_20[6.2,] 	 SYMBOL:	 ARGS:
		 4: HASH-group_ids- def_%v_22 %v_21[6.3,] 
		 5: %v_19->publish def_%v_23 %v_19[6.1,] channel[3.5,] msg[3.14,] %v_22[6.4,] 	 SYMBOL:	 ARGS:channel,msg,%v_22,
		 6: RETURN %v_23[6.5,] %self[6.2,2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: (User) def_%v_24 
		 2: COPY TYPE_StringLiteral "admin or moderator or id = ?" def_%v_25 
		 3: %self->user_id def_%v_26 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_24->where def_%v_27 %v_24[7.1,] %v_25[7.2,] %v_26[7.3,] 	 SYMBOL:	 ARGS:%v_25,%v_26,
		 5: %v_27->pluck def_%v_28 %v_27[7.4,] 	 SYMBOL:id,	 ARGS:Symbol,
		 6: COPY TYPE_PASS def_user_ids %v_28[7.5,] 
		 7: 
		 8: (MessageBus) def_%v_29 
		 9: HASH-user_ids- def_%v_30 %v_28[7.5,] 
		 10: %v_29->publish def_%v_31 %v_29[7.8,] channel[3.5,] msg[3.14,] %v_30[7.9,] 	 SYMBOL:	 ARGS:channel,msg,%v_30,
		 11: RETURN %v_31[7.10,] %self[7.3,2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = trash! instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_trashed_by 
		 6: trashed_by[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_trashed_by 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->topic_links def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_3->each def_%v_4 %v_3[4.1,] 	 SYMBOL:destroy,	 ARGS:
		 3: 
		 4: %self->super def_%v_5 %current_module[2.3,] trashed_by[3.0,2.5,] %v_0[2.1,] 	 SYMBOL:	 ARGS:trashed_by,
		 5: RETURN %v_5[4.4,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = recover! instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->super def_%v_3 %v_0[2.1,] 	 SYMBOL:	 ARGS:
		 7: 
		 8: %self->update_flagged_posts_count def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: 
		 10: (TopicLink) def_%v_5 
		 11: %v_5->extract_from def_%v_6 %v_5[2.10,] %self[2.0,2.8,] 	 SYMBOL:	 ARGS:%self,
		 12: 
		 13: (QuotedPost) def_%v_7 
		 14: %v_7->extract_from def_%v_8 %v_7[2.13,] %self[2.0,2.8,] 	 SYMBOL:	 ARGS:%self,
		 15: 
		 16: %self->topic def_%v_9 %self[2.0,2.8,] 	 SYMBOL:	 ARGS:
		 17: BRANCH %v_9[2.16,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->topic def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_10->category_id def_%v_11 %v_10[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_9 %v_11[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_9[3.2,2.16,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->topic def_%v_12 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_12->category def_%v_13 %v_12[5.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_9 %v_13[5.1,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_9[5.2,3.2,2.16,] 
BB 7
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: %self->topic def_%v_14 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_14->category def_%v_15 %v_14[7.1,] 	 SYMBOL:	 ARGS:
		 3: %v_15->update_latest def_%v_16 %v_15[7.2,] 	 SYMBOL:	 ARGS:
		 4: RETURN %v_16[7.3,] %self[7.1,2.0,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = unique_post_key instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "unique-post-" def_%v_3 
		 7: %self->user_id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_StringLiteral ":" def_%v_5 
		 9: %self->raw_hash def_%v_6 %self[2.0,2.7,] 	 SYMBOL:	 ARGS:
		 10: BUILDSTRING def_%v_7 %v_3[2.6,] %v_4[2.7,] %v_5[2.8,] %v_6[2.9,] 
		 11: RETURN %v_7[2.10,] %self[2.0,2.7,2.9,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = store_unique_post_key instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->unique_posts_mins def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->> def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:Fixnum,
		 9: BRANCH %v_5[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: GLOBALVAR $redis def_%v_6 
		 2: %self->unique_post_key def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: (SiteSetting) def_%v_8 
		 4: %v_8->unique_posts_mins def_%v_9 %v_8[3.3,] 	 SYMBOL:	 ARGS:
		 5: %v_9->minutes def_%v_10 %v_9[3.4,] 	 SYMBOL:	 ARGS:
		 6: %v_10->to_i def_%v_11 %v_10[3.5,] 	 SYMBOL:	 ARGS:
		 7: %self->id def_%v_12 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_6->setex def_%v_13 %v_6[3.1,] %v_7[3.2,] %v_11[3.6,] %v_12[3.7,] 	 SYMBOL:	 ARGS:%v_7,%v_11,%v_12,
		 9: RETURN %v_13[3.8,] %self[3.2,3.7,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = matches_recent_post? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GLOBALVAR $redis def_%v_3 
		 7: %self->unique_post_key def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->get def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: COPY TYPE_PASS def_post_id %v_5[2.8,] 
		 10: 
		 11: %v_5->!= def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:Nil,
		 12: BRANCH %v_6[2.11,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: post_id->to_i def_%v_7 post_id[2.9,] 	 SYMBOL:	 ARGS:
		 1: %self->id def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_7->!= def_%v_9 %v_7[3.0,] %v_8[3.1,] 	 SYMBOL:	 ARGS:%v_8,
		 3: RETURN %v_9[3.2,] %self[3.1,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_6[2.11,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = raw_hash instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->raw def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: (Digest) def_%v_6 
		 3: (inherit SHA1) def_%v_7 %v_6[4.2,] 
		 4: %v_7[4.3,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: %v_6->const_missing def_%v_7 %v_6[4.2,] 	 SYMBOL:SHA1,	 ARGS:Symbol,
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->raw def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_7->hexdigest def_%v_9 %v_7[6.0,4.3,] %v_8[7.0,] 	 SYMBOL:	 ARGS:%v_8,
		 2: RETURN %v_9[7.1,] %self[7.0,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = white_listed_image_classes instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->white_listed_image_classes def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "avatar" def_%v_6 
		 1: COPY TYPE_StringLiteral "favicon" def_%v_7 
		 2: COPY TYPE_StringLiteral "thumbnail" def_%v_8 
		 3: COPY TYPE_Array def_%v_9 %v_6[5.0,] %v_7[5.1,] %v_8[5.2,] 
		 4: ATTRASSIGN %self->white_listed_image_classes %v_9[5.3,] 
		 5: RETURN %v_9[5.3,] %self[5.4,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = post_analyzer instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->post_analyzers def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_6 
		 1: ATTRASSIGN %self->post_analyzers %v_6[5.0,] 
		 2: COPY TYPE_PASS def_%v_5 %v_6[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->post_analyzers def_%v_7 %self[5.1,2.0,] 
		 2: %self->raw_hash def_%v_9 %self[5.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_7->[] def_%v_8 %v_7[6.1,] %v_9[6.2,] 	 SYMBOL:	 ARGS:%v_9,
		 4: BRANCH %v_8[6.3,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: (PostAnalyzer) def_%v_10 
		 1: %self->raw def_%v_11 %self[5.1,2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->topic_id def_%v_12 %self[7.1,5.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_10->new def_%v_13 %v_10[7.0,] %v_11[7.1,] %v_12[7.2,] 	 SYMBOL:	 ARGS:%v_11,%v_12,
		 4: %v_7->[]= def_%v_8 %v_7[6.1,] %v_9[6.2,] %v_13[7.3,] 	 SYMBOL:	 ARGS:%v_9,%v_13,
		 5: RETURN %v_13[7.3,] %self[7.1,7.2,5.1,2.0,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %v_8[6.3,] %self[5.1,2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cook instanceMethod = true
BB 1
	outgoing: 31 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_args 
		 6: 
		 7: %self->cook_method def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: (Post) def_%v_4 
		 9: %v_4->cook_methods def_%v_5 %v_4[2.8,] 	 SYMBOL:	 ARGS:
		 10: %v_5->[] def_%v_6 %v_5[2.9,] 	 SYMBOL:raw_html,	 ARGS:Symbol,
		 11: %v_3->== def_%v_7 %v_3[2.7,] %v_6[2.10,] 	 SYMBOL:	 ARGS:%v_6,
		 12: BRANCH %v_7[2.11,] 
BB 3
	outgoing: 31 
	datadep: 
	instructions:
		 0: %self->raw def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_8[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
		 1: 
		 2: COPY TYPE_Nil def_cooked 
		 3: 
		 4: %self->cook_method def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: (Post) def_%v_11 
		 6: %v_11->cook_methods def_%v_12 %v_11[4.5,] 	 SYMBOL:	 ARGS:
		 7: %v_12->[] def_%v_13 %v_12[4.6,] 	 SYMBOL:email,	 ARGS:Symbol,
		 8: %v_10->== def_%v_14 %v_10[4.4,] %v_13[4.7,] 	 SYMBOL:	 ARGS:%v_13,
		 9: BRANCH %v_14[4.8,] 
BB 6
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: (EmailCook) def_%v_15 
		 2: %self->raw def_%v_16 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_15->new def_%v_17 %v_15[6.1,] %v_16[6.2,] 	 SYMBOL:	 ARGS:%v_16,
		 4: %v_17->cook def_%v_18 %v_17[6.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_PASS def_cooked %v_18[6.4,] 
		 6: 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->user def_%v_19 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_19->! def_%v_20 %v_19[7.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_20[7.2,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_21 
		 1: %v_21->tl3_links_no_follow def_%v_22 %v_21[8.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_20 %v_22[8.1,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_20[8.2,7.2,] 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: %self->user def_%v_23 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: (TrustLevel) def_%v_24 
		 2: %v_24->[] def_%v_25 %v_24[10.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: %v_23->has_trust_level? def_%v_26 %v_23[10.0,] %v_25[10.2,] 	 SYMBOL:	 ARGS:%v_25,
		 4: %v_26->! def_%v_27 %v_26[10.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_PASS def_%v_20 %v_27[10.4,] 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: BRANCH %v_20[10.5,8.2,7.2,] 
BB 12
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: %self->post_analyzer def_%v_28 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: def_%v_29 args[2.5,] 
		 3: %v_28->cook def_%v_30 %v_28[12.1,] %v_29[12.2,] 	 SYMBOL:	 ARGS:Splat,
		 4: 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
		 1: args->dup def_%v_31 args[2.5,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_cloned %v_31[13.1,] 
		 3: 
		 4: %v_31->[] def_%v_32 %v_31[13.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: BRANCH %v_32[13.4,] 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: HASH- def_%v_33 
		 1: cloned->[]= def_%v_32 cloned[13.2,] %v_33[14.0,] 	 SYMBOL:	 ARGS:Fixnum,%v_33,
		 2: COPY TYPE_PASS def_%v_32 %v_33[14.0,] 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: cloned->[] def_%v_34 cloned[14.1,13.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: ATTRASSIGN %v_34->[] 
		 3: 
		 4: %self->post_analyzer def_%v_35 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: def_%v_36 cloned[15.1,14.1,13.2,] 
		 6: %v_35->cook def_%v_37 %v_35[15.4,] %v_36[15.5,] 	 SYMBOL:	 ARGS:Splat,
		 7: COPY TYPE_PASS def_%v_30 %v_37[15.6,] 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_cooked %v_30[15.7,12.3,] 
		 1: COPY TYPE_PASS def_%v_18 %v_30[15.7,12.3,] 
BB 17
	outgoing: 18 19 
	datadep: 
	instructions:
		 0: 
		 1: (Plugin) def_%v_38 
		 2: (inherit Filter) def_%v_39 %v_38[17.1,] 
		 3: %v_39[17.2,] 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: %v_38->const_missing def_%v_39 %v_38[17.1,] 	 SYMBOL:Filter,	 ARGS:Symbol,
BB 19
	outgoing: 20 29 
	datadep: 
	instructions:
		 0: %v_39->apply def_%v_40 %v_39[18.0,17.2,] %self[2.0,] cooked[16.0,6.5,] 	 SYMBOL:after_post_cook,	 ARGS:Symbol,%self,cooked,
		 1: COPY TYPE_PASS def_new_cooked %v_40[19.0,] 
		 2: 
		 3: %self->post_type def_%v_41 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: (Post) def_%v_42 
		 5: %v_42->types def_%v_43 %v_42[19.4,] 	 SYMBOL:	 ARGS:
		 6: %v_43->[] def_%v_44 %v_43[19.5,] 	 SYMBOL:regular,	 ARGS:Symbol,
		 7: %v_41->== def_%v_45 %v_41[19.3,] %v_44[19.6,] 	 SYMBOL:	 ARGS:%v_44,
		 8: BRANCH %v_45[19.7,] 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: 
		 1: new_cooked->!= def_%v_46 new_cooked[19.1,] cooked[16.0,6.5,] 	 SYMBOL:	 ARGS:cooked,
		 2: BRANCH %v_46[20.1,] 
BB 21
	outgoing: 22 
	datadep: 
	instructions:
		 0: new_cooked->blank? def_%v_47 new_cooked[20.1,19.1,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_46 %v_47[21.0,] 
BB 22
	outgoing: 23 24 
	datadep: 
	instructions:
		 0: BRANCH %v_46[21.1,20.1,] 
BB 23
	outgoing: 28 
	datadep: 
	instructions:
		 0: 
		 1: (Rails) def_%v_48 
		 2: %v_48->logger def_%v_49 %v_48[23.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "Plugin is blanking out post: " def_%v_50 
		 4: %self->url def_%v_51 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral "
raw: " def_%v_52 
		 6: %self->raw def_%v_53 %self[23.4,2.0,] 	 SYMBOL:	 ARGS:
		 7: BUILDSTRING def_%v_54 %v_50[23.3,] %v_51[23.4,] %v_52[23.5,] %v_53[23.6,] 
		 8: %v_49->warn def_%v_55 %v_49[23.2,] %v_54[23.7,] 	 SYMBOL:	 ARGS:%v_54,
		 9: 
BB 24
	outgoing: 25 26 
	datadep: 
	instructions:
		 0: 
		 1: new_cooked->blank? def_%v_56 new_cooked[20.1,19.1,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_56[24.1,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: 
		 1: (Rails) def_%v_57 
		 2: %v_57->logger def_%v_58 %v_57[25.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "Blank post detected post: " def_%v_59 
		 4: %self->url def_%v_60 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral "
raw: " def_%v_61 
		 6: %self->raw def_%v_62 %self[25.4,2.0,] 	 SYMBOL:	 ARGS:
		 7: BUILDSTRING def_%v_63 %v_59[25.3,] %v_60[25.4,] %v_61[25.5,] %v_62[25.6,] 
		 8: %v_58->warn def_%v_64 %v_58[25.2,] %v_63[25.7,] 	 SYMBOL:	 ARGS:%v_63,
		 9: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_64 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_55 %v_64[26.0,25.8,] 
BB 28
	outgoing: 30 
	datadep: 
	instructions:
		 0: 
BB 29
	outgoing: 30 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_55 
BB 30
	outgoing: 31 
	datadep: 
	instructions:
		 0: 
		 1: RETURN new_cooked[19.1,20.1,] %self[2.0,] 
BB 31
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = acting_user instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->acting_user def_%v_3 %self[2.0,] 
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_4[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_3[2.6,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = acting_user= instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_pu 
		 6: 
		 7: ATTRASSIGN %self->acting_user pu[2.5,] 
		 8: RETURN pu[2.5,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = last_editor instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->last_editor_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: (User) def_%v_4 
		 1: %self->last_editor_id def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_4->find_by_id def_%v_6 %v_4[3.0,] %v_5[3.1,] 	 SYMBOL:	 ARGS:%v_5,
		 3: BRANCH %v_6[3.2,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->user def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_6 %v_7[4.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %v_6[4.1,3.2,] %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->user def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_8[6.0,] %self[6.0,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = whitelisted_spam_hosts instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->white_listed_spam_host_domains def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_StringLiteral "|" def_%v_5 
		 9: %v_4->split def_%v_6 %v_4[2.7,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: %v_6->map def_%v_7 %v_6[2.9,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_6,
CLOSURE BEGIN: h[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_h 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: h->strip def_%cl_1_3 h[2.2,] 	 SYMBOL:	 ARGS:
		 2: RETURN %cl_1_3[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
		 1: def_%cl_1_5 %cl_1_4[4.0,] 
		 2: RETURN %cl_1_5[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 11: %v_7->reject def_%v_8 %v_7[2.10,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_7,
CLOSURE BEGIN: h[2.10,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_h 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "." def_%cl_2_3 
		 2: h->include? def_%cl_2_4 h[2.2,] %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:%cl_2_3,
		 3: %cl_2_4->! def_%cl_2_5 %cl_2_4[3.2,] 	 SYMBOL:	 ARGS:
		 4: RETURN %cl_2_5[3.3,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_6 
		 1: def_%cl_2_7 %cl_2_6[4.0,] 
		 2: RETURN %cl_2_7[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 12: COPY TYPE_PASS def_hosts %v_8[2.11,] 
		 13: 
		 14: (GlobalSetting) def_%v_9 
		 15: %v_9->hostname def_%v_10 %v_9[2.14,] 	 SYMBOL:	 ARGS:
		 16: hosts-><< def_%v_11 hosts[2.12,] %v_10[2.15,] 	 SYMBOL:	 ARGS:%v_10,
		 17: 
		 18: (RailsMultisite) def_%v_12 
		 19: (inherit ConnectionManagement) def_%v_13 %v_12[2.18,] 
		 20: %v_13[2.19,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %v_12->const_missing def_%v_13 %v_12[2.18,] 	 SYMBOL:ConnectionManagement,	 ARGS:Symbol,
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %v_13->current_hostname def_%v_14 %v_13[3.0,2.19,] 	 SYMBOL:	 ARGS:
		 1: hosts-><< def_%v_15 hosts[2.12,] %v_14[4.0,] 	 SYMBOL:	 ARGS:%v_14,
		 2: RETURN %v_15[4.1,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = total_hosts_usage instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->linked_hosts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->clone def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_PASS def_hosts %v_4[2.7,] 
		 9: 
		 10: %self->whitelisted_spam_hosts def_%v_5 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 11: COPY TYPE_PASS def_whitelisted %v_5[2.10,] 
		 12: 
		 13: hosts->reject! def_%v_6 hosts[2.8,] %self[2.0,2.6,2.10,] 	 SYMBOL:	 ARGS:hosts,
CLOSURE BEGIN: whitelisted[2.11,] %self[2.0,2.6,2.10,] h[] w[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_h 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: whitelisted->any? def_%cl_1_3 whitelisted[] %self[2.0,] 	 SYMBOL:	 ARGS:whitelisted,
CLOSURE BEGIN: h[2.2,] w[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_w 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: h->end_with? def_%cl_2_3 h[] w[2.2,] 	 SYMBOL:	 ARGS:w,
		 2: RETURN %cl_2_3[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_4 
		 1: def_%cl_2_5 %cl_2_4[4.0,] 
		 2: RETURN %cl_2_5[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 2: RETURN %cl_1_3[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
		 1: def_%cl_1_5 %cl_1_4[4.0,] 
		 2: RETURN %cl_1_5[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 14: 
		 15: hosts->length def_%v_7 hosts[2.8,2.13,] 	 SYMBOL:	 ARGS:
		 16: %v_7->== def_%v_8 %v_7[2.15,] 	 SYMBOL:	 ARGS:Fixnum,
		 17: BRANCH %v_8[2.16,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN hosts[2.8,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
		 1: 
		 2: (TopicLink) def_%v_10 
		 3: hosts->keys def_%v_11 hosts[2.8,] 	 SYMBOL:	 ARGS:
		 4: %self->acting_user def_%v_12 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_12->id def_%v_13 %v_12[4.4,] 	 SYMBOL:	 ARGS:
		 6: HASH-domain-user_id- def_%v_14 %v_11[4.3,] %v_13[4.5,] 
		 7: %v_10->where def_%v_15 %v_10[4.2,] %v_14[4.6,] 	 SYMBOL:	 ARGS:%v_14,
		 8: %v_15->group def_%v_16 %v_15[4.7,] 	 SYMBOL:domain,post_id,	 ARGS:Symbol,Symbol,
		 9: %v_16->count def_%v_17 %v_16[4.8,] 	 SYMBOL:	 ARGS:
		 10: %v_17->each_key def_%v_18 %v_17[4.9,] %self[4.4,2.0,] 	 SYMBOL:	 ARGS:%v_17,
CLOSURE BEGIN: tuple[] hosts[4.3,2.8,] domain[] 
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_3_0 
		 2: RECEIVEARG def_tuple 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 6 
	datadep: 
	instructions:
		 0: 
		 1: tuple->[] def_%cl_3_3 tuple[2.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: COPY TYPE_PASS def_domain %cl_3_3[3.1,] 
		 3: 
		 4: hosts->[] def_%cl_3_4 hosts[] %cl_3_3[3.1,] 	 SYMBOL:	 ARGS:domain,
		 5: BRANCH %cl_3_4[3.4,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_%cl_3_4 
BB 5
	outgoing: 6 8 
	datadep: 
	instructions:
		 0: %cl_3_4->+ def_%cl_3_5 %cl_3_4[4.0,3.4,] 	 SYMBOL:	 ARGS:Fixnum,
		 1: ATTRASSIGN hosts->[] domain[3.2,] %cl_3_5[5.0,] 
		 2: RETURN %cl_3_5[5.0,] %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%cl_3_6 
		 1: def_%cl_3_7 %cl_3_6[6.0,] 
		 2: RETURN %cl_3_7[6.1,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: domain[3.2,] 
		 11: 
		 12: RETURN hosts[4.3,2.8,] %self[4.4,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_host_spam? instanceMethod = true
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 5 9 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->acting_user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 4
	outgoing: 5 9 
	datadep: 
	instructions:
		 0: %self->acting_user def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: (TrustLevel) def_%v_6 
		 2: %v_6->[] def_%v_7 %v_6[4.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: %v_5->has_trust_level? def_%v_8 %v_5[4.0,] %v_7[4.2,] 	 SYMBOL:	 ARGS:%v_7,
		 4: COPY TYPE_PASS def_%v_4 %v_8[4.3,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: BRANCH %v_4[4.4,2.7,] 
BB 6
	outgoing: 11 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
BB 8
	outgoing: 9 11 
	datadep: 
	instructions:
		 0: 
		 1: %self->total_hosts_usage def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_10->each def_%v_11 %v_10[8.1,] %self[8.1,2.0,] 	 SYMBOL:	 ARGS:%v_10,
CLOSURE BEGIN: count[] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def__ 
		 3: RECEIVEARG def_count 
		 4: COPY TYPE_CurrentScope def_%current_scope 
		 5: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: (SiteSetting) def_%cl_1_3 
		 2: %cl_1_3->newuser_spam_host_threshold def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: count->>= def_%cl_1_5 count[2.3,] %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:%cl_1_4,
		 4: BRANCH %cl_1_5[3.3,] 
BB 4
	outgoing: 7 9 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[2.0,] 
BB 5
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_7 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: RETURN %cl_1_8[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: count[3.3,2.3,] 
		 3: 
		 4: RETURN %self[8.1,2.0,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: def_%v_12 
		 1: def_%v_13 %v_12[9.0,] 
		 2: RETURN %v_13[9.1,] %self[2.0,] 
BB 11
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = archetype instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->topic def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->archetype def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = regular_order instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->order def_%v_3 %self[2.0,] 	 SYMBOL:sort_order,post_number,	 ARGS:Symbol,Symbol,
		 7: RETURN %v_3[2.6,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reverse_order instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "sort_order desc, post_number desc" def_%v_3 
		 7: %self->order def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = summary instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_topic_id 
		 6: topic_id[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_topic_id 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: BRANCH topic_id[3.0,2.5,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: topic_id->to_i def_%v_3 topic_id[3.0,2.5,] 	 SYMBOL:	 ARGS:
		 1: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "posts.topic_id" def_%v_4 
		 1: COPY TYPE_PASS def_%v_3 %v_4[6.0,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_topic_id %v_3[6.1,5.0,] 
		 1: 
		 2: COPY TYPE_StringLiteral "post_number = 1 or id in (
            SELECT p1.id
            FROM posts p1
            WHERE p1.percent_rank <= ? AND
               p1.topic_id = " def_%v_5 
		 3: 
		 4: COPY TYPE_StringLiteral "
            ORDER BY p1.percent_rank
            LIMIT ?
          )" def_%v_6 
		 5: BUILDSTRING def_%v_7 %v_5[7.2,] %v_3[6.1,5.0,] %v_6[7.4,] 
		 6: (SiteSetting) def_%v_8 
		 7: %v_8->summary_percent_filter def_%v_9 %v_8[7.6,] 	 SYMBOL:	 ARGS:
		 8: %v_9->to_f def_%v_10 %v_9[7.7,] 	 SYMBOL:	 ARGS:
		 9: %v_10->/ def_%v_11 %v_10[7.8,] 	 SYMBOL:	 ARGS:Float,
		 10: (SiteSetting) def_%v_12 
		 11: %v_12->summary_max_results def_%v_13 %v_12[7.10,] 	 SYMBOL:	 ARGS:
		 12: COPY TYPE_Array def_%v_14 %v_7[7.5,] %v_11[7.9,] %v_13[7.11,] 
		 13: %self->where def_%v_15 %self[2.0,] %v_14[7.12,] 	 SYMBOL:	 ARGS:%v_14,
		 14: RETURN %v_15[7.13,] %self[7.13,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_flagged_posts_count instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (PostAction) def_%v_3 
		 7: %v_3->update_flagged_posts_count def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = filter_quotes instanceMethod = true
BB 1
	outgoing: 16 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_parent_post 
		 6: parent_post[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_parent_post 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: parent_post->blank? def_%v_3 parent_post[3.0,2.5,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_3[4.1,] 
BB 5
	outgoing: 16 
	datadep: 
	instructions:
		 0: %self->cooked def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_4[5.0,] %self[5.0,2.0,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: %self->quote_count def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_6->== def_%v_7 %v_6[6.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: BRANCH %v_7[6.3,] 
BB 8
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
		 1: 
		 2: parent_post->raw def_%v_10 parent_post[3.0,2.5,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_Regexp def_%v_11 
		 4: COPY TYPE_StringLiteral "" def_%v_12 
		 5: %v_10->sub def_%v_13 %v_10[8.2,] %v_12[8.4,] 	 SYMBOL:	 ARGS:%v_11,%v_12,
		 6: COPY TYPE_PASS def_parent_raw %v_13[8.5,] 
		 7: 
		 8: %self->raw def_%v_14 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %v_14->[] def_%v_15 %v_14[8.8,] parent_raw[8.6,] 	 SYMBOL:	 ARGS:parent_raw,
		 10: BRANCH %v_15[8.9,] 
BB 9
	outgoing: 16 
	datadep: 
	instructions:
		 0: %self->cooked def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_9[9.0,] %self[9.0,2.0,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: parent_raw->size def_%v_16 parent_raw[8.6,] 	 SYMBOL:	 ARGS:
		 1: (SHORT_POST_CHARS) def_%v_17 
		 2: %v_16->< def_%v_18 %v_16[11.0,] %v_17[11.1,] 	 SYMBOL:	 ARGS:%v_17,
		 3: COPY TYPE_PASS def_%v_15 %v_18[11.2,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: BRANCH %v_15[11.3,8.9,] 
BB 13
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: %self->cooked def_%v_19 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_Regexp def_%v_20 
		 3: COPY TYPE_StringLiteral "" def_%v_21 
		 4: %v_19->sub def_%v_22 %v_19[13.1,] %v_21[13.3,] 	 SYMBOL:	 ARGS:%v_20,%v_21,
		 5: RETURN %v_22[13.4,] %self[13.1,2.0,] 
BB 14
	outgoing: 16 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_23 
		 1: 
		 2: %self->cooked def_%v_24 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: RETURN %v_24[14.2,] %self[14.2,2.0,] 
BB 16
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = external_id instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->topic_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_StringLiteral "/" def_%v_4 
		 8: %self->post_number def_%v_5 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 9: BUILDSTRING def_%v_6 %v_3[2.6,] %v_4[2.7,] %v_5[2.8,] 
		 10: RETURN %v_6[2.9,] %self[2.0,2.6,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reply_to_post instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->reply_to_post_number def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: def_%v_7 %self[2.0,] 
		 3: COPY TYPE_PASS def_%v_6 %v_7[4.2,] 
		 4: %v_7[4.2,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: GETFIELD %self->reply_to_post def_%v_8 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_6 %v_8[6.0,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: BRANCH %v_6[6.1,4.3,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: (Post) def_%v_9 
		 1: COPY TYPE_StringLiteral "topic_id = :topic_id AND post_number = :post_number" def_%v_10 
		 2: %self->topic_id def_%v_11 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %self->reply_to_post_number def_%v_12 %self[8.2,2.0,] 	 SYMBOL:	 ARGS:
		 4: HASH-topic_id-post_number- def_%v_13 %v_11[8.2,] %v_12[8.3,] 
		 5: %v_9->find_by def_%v_14 %v_9[8.0,] %v_10[8.1,] %v_13[8.4,] 	 SYMBOL:	 ARGS:%v_10,%v_13,
		 6: ATTRASSIGN %self->reply_to_post %v_14[8.5,] 
		 7: RETURN %v_14[8.5,] %self[8.2,8.3,8.6,2.0,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %v_8[6.0,] %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reply_notification_target instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->reply_to_post_number def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: (Post) def_%v_6 
		 3: COPY TYPE_StringLiteral "topic_id = :topic_id AND post_number = :post_number AND user_id <> :user_id" def_%v_7 
		 4: %self->topic_id def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: %self->reply_to_post_number def_%v_9 %self[4.4,2.0,] 	 SYMBOL:	 ARGS:
		 6: %self->user_id def_%v_10 %self[4.4,4.5,2.0,] 	 SYMBOL:	 ARGS:
		 7: HASH-topic_id-post_number-user_id- def_%v_11 %v_8[4.4,] %v_9[4.5,] %v_10[4.6,] 
		 8: %v_6->find_by def_%v_12 %v_6[4.2,] %v_7[4.3,] %v_11[4.7,] 	 SYMBOL:	 ARGS:%v_7,%v_11,
		 9: %v_12->try def_%v_13 %v_12[4.8,] 	 SYMBOL:user,	 ARGS:Symbol,
		 10: RETURN %v_13[4.9,] %self[4.4,4.5,4.6,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = excerpt instanceMethod = false
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_cooked 
		 6: RECEIVECONSTARG def_maxlength 
		 7: maxlength[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_maxlength 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_options 
		 1: options[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_options %v_3[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_4 maxlength[3.0,2.6,] 
		 2: COPY TYPE_PASS def_%v_5 maxlength[3.0,2.6,] 
		 3: BRANCH maxlength[3.0,2.6,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_6 
		 1: %v_6->post_excerpt_maxlength def_%v_7 %v_6[7.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_maxlength %v_7[7.1,] 
		 3: COPY TYPE_PASS def_%v_5 %v_7[7.1,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: (PrettyText) def_%v_8 
		 2: %v_8->excerpt def_%v_9 %v_8[8.1,] cooked[2.5,] maxlength[7.2,3.0,2.6,] options[5.1,4.0,] 	 SYMBOL:	 ARGS:cooked,maxlength,options,
		 3: RETURN %v_9[8.2,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = excerpt instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_maxlength 
		 6: maxlength[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_maxlength 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_options 
		 1: options[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_options %v_3[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_4 
		 2: %self->cooked def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_4->excerpt def_%v_6 %v_4[6.1,] %v_5[6.2,] maxlength[3.0,2.5,] options[5.1,4.0,] 	 SYMBOL:	 ARGS:%v_5,maxlength,options,
		 4: RETURN %v_6[6.3,] %self[6.2,2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_first_post? instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->post_number def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->topic def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->try def_%v_6 %v_5[3.0,] 	 SYMBOL:highest_post_number,	 ARGS:Symbol,
		 2: %v_6->== def_%v_7 %v_6[3.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: RETURN %v_7[3.2,] %self[3.0,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->post_number def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_8->== def_%v_9 %v_8[4.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: RETURN %v_9[4.1,] %self[4.0,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_flagged? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->post_actions def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: (PostActionType) def_%v_4 
		 8: %v_4->flag_types def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_5->values def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:
		 10: HASH-post_action_type_id-deleted_at- def_%v_7 %v_6[2.9,] 
		 11: %v_3->where def_%v_8 %v_3[2.6,] %v_7[2.10,] 	 SYMBOL:	 ARGS:%v_7,
		 12: %v_8->count def_%v_9 %v_8[2.11,] 	 SYMBOL:	 ARGS:
		 13: %v_9->!= def_%v_10 %v_9[2.12,] 	 SYMBOL:	 ARGS:Fixnum,
		 14: RETURN %v_10[2.13,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = unhide! instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-hidden- def_%v_3 
		 7: %self->update_attributes def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: 
		 9: %self->is_first_post? def_%v_5 %self[2.0,2.7,] 	 SYMBOL:	 ARGS:
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->topic def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: HASH-visible- def_%v_7 
		 2: %v_6->update_attributes def_%v_8 %v_6[3.0,] %v_7[3.1,] 	 SYMBOL:	 ARGS:%v_7,
		 3: 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: HASH-validate- def_%v_9 
		 2: %self->save def_%v_10 %self[2.0,] %v_9[5.1,] 	 SYMBOL:	 ARGS:%v_9,
		 3: 
		 4: %self->publish_change_to_clients! def_%v_11 %self[5.2,2.0,] 	 SYMBOL:acted,	 ARGS:Symbol,
		 5: RETURN %v_11[5.4,] %self[5.2,5.4,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = full_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Discourse) def_%v_3 
		 7: %v_3->base_url def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %self->url def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: BUILDSTRING def_%v_6 %v_4[2.7,] %v_5[2.8,] 
		 10: RETURN %v_6[2.9,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = url instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->topic def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_4 
		 2: %self->topic def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_5->slug def_%v_6 %v_5[3.2,] 	 SYMBOL:	 ARGS:
		 4: %self->topic def_%v_7 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_7->id def_%v_8 %v_7[3.4,] 	 SYMBOL:	 ARGS:
		 6: %self->post_number def_%v_9 %self[3.2,3.4,2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_4->url def_%v_10 %v_4[3.1,] %v_6[3.3,] %v_8[3.5,] %v_9[3.6,] 	 SYMBOL:	 ARGS:%v_6,%v_8,%v_9,
		 8: RETURN %v_10[3.7,] %self[3.2,3.4,3.6,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "/404" def_%v_11 
		 2: RETURN %v_11[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = url instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_slug 
		 6: RECEIVEARG def_topic_id 
		 7: RECEIVEARG def_post_number 
		 8: 
		 9: COPY TYPE_StringLiteral "/t/" def_%v_3 
		 10: COPY TYPE_StringLiteral "/" def_%v_4 
		 11: COPY TYPE_StringLiteral "/" def_%v_5 
		 12: BUILDSTRING def_%v_6 %v_3[2.9,] slug[2.5,] %v_4[2.10,] topic_id[2.6,] %v_5[2.11,] post_number[2.7,] 
		 13: RETURN %v_6[2.12,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = urls instanceMethod = false
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_post_ids 
		 6: 
		 7: post_ids->map def_%v_3 post_ids[2.5,] %self[2.0,] 	 SYMBOL:	 ARGS:post_ids,
CLOSURE BEGIN: u[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_u 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
		 5: 
		 6: RETURN u[2.2,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 8: COPY TYPE_PASS def_ids %v_3[2.7,] 
		 9: 
		 10: %v_3->length def_%v_4 %v_3[2.7,] 	 SYMBOL:	 ARGS:
		 11: %v_4->> def_%v_5 %v_4[2.10,] 	 SYMBOL:	 ARGS:Fixnum,
		 12: BRANCH %v_5[2.11,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: HASH- def_%v_6 
		 2: COPY TYPE_PASS def_urls %v_6[3.1,] 
		 3: 
		 4: (Topic) def_%v_7 
		 5: %v_7->joins def_%v_8 %v_7[3.4,] 	 SYMBOL:posts,	 ARGS:Symbol,
		 6: COPY TYPE_StringLiteral "posts.id" def_%v_9 
		 7: HASH- def_%v_10 %v_9[3.6,] ids[2.8,] 
		 8: %v_8->where def_%v_11 %v_8[3.5,] %v_10[3.7,] 	 SYMBOL:	 ARGS:%v_10,
		 9: COPY TYPE_StringLiteral "posts.id as post_id" def_%v_12 
		 10: COPY TYPE_StringLiteral "post_number" def_%v_13 
		 11: COPY TYPE_StringLiteral "topics.slug" def_%v_14 
		 12: COPY TYPE_StringLiteral "topics.title" def_%v_15 
		 13: COPY TYPE_StringLiteral "topics.id" def_%v_16 
		 14: COPY TYPE_Array def_%v_17 %v_12[3.9,] %v_13[3.10,] %v_14[3.11,] %v_15[3.12,] %v_16[3.13,] 
		 15: %v_11->select def_%v_18 %v_11[3.8,] %v_17[3.14,] 	 SYMBOL:	 ARGS:%v_17,
		 16: %v_18->each def_%v_19 %v_18[3.15,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_18,
CLOSURE BEGIN: t[] %self[2.0,] urls[3.2,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_t 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: t->post_id def_%cl_2_3 t[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_2_3->to_i def_%cl_2_4 %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: t->slug def_%cl_2_5 t[3.1,2.2,] 	 SYMBOL:	 ARGS:
		 4: t->id def_%cl_2_6 t[3.1,3.3,2.2,] 	 SYMBOL:	 ARGS:
		 5: t->post_number def_%cl_2_7 t[3.1,3.3,3.4,2.2,] 	 SYMBOL:	 ARGS:
		 6: %self->url def_%cl_2_8 %self[2.0,] %cl_2_5[3.3,] %cl_2_6[3.4,] %cl_2_7[3.5,] 	 SYMBOL:	 ARGS:%cl_2_5,%cl_2_6,%cl_2_7,
		 7: ATTRASSIGN urls->[] %cl_2_4[3.2,] %cl_2_8[3.6,] 
		 8: RETURN %cl_2_8[3.6,] %self[3.6,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_9 
		 1: def_%cl_2_10 %cl_2_9[4.0,] 
		 2: RETURN %cl_2_10[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 17: 
		 18: COPY TYPE_PASS def_%v_20 urls[3.2,] 
		 19: RETURN urls[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: HASH- def_%v_21 
		 2: RETURN %v_21[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = revise instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_updated_by 
		 6: RECEIVECONSTARG def_changes 
		 7: changes[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_changes %v_3[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_opts 
		 1: opts[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_4 
		 1: COPY TYPE_PASS def_opts %v_4[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: (PostRevisor) def_%v_5 
		 2: %v_5->new def_%v_6 %v_5[6.1,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
		 3: %v_6->revise! def_%v_7 %v_6[6.2,] updated_by[2.5,] changes[3.1,2.6,] opts[5.1,4.0,] 	 SYMBOL:	 ARGS:updated_by,changes,opts,
		 4: RETURN %v_7[6.3,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = rebake_old instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_limit 
		 6: 
		 7: COPY TYPE_Array def_%v_3 
		 8: COPY TYPE_PASS def_problems %v_3[2.7,] 
		 9: 
		 10: (Post) def_%v_4 
		 11: COPY TYPE_StringLiteral "baked_version IS NULL OR baked_version < ?" def_%v_5 
		 12: (BAKED_VERSION) def_%v_6 
		 13: %v_4->where def_%v_7 %v_4[2.10,] %v_5[2.11,] %v_6[2.12,] 	 SYMBOL:	 ARGS:%v_5,%v_6,
		 14: %v_7->limit def_%v_8 %v_7[2.13,] limit[2.5,] 	 SYMBOL:	 ARGS:limit,
		 15: %v_8->each def_%v_9 %v_8[2.14,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_8,
CLOSURE BEGIN: p[] problems[2.8,] 
BB 1
	outgoing: 15 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_p 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
		 5: 
		 6: GLOBALVAR $! def_%cl_1_3 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: p->rebake! def_%cl_1_6 p[2.2,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%cl_1_5 %cl_1_6[4.2,] 
		 4: %cl_1_3[2.6,] 
BB 6
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 7
	outgoing: 8 9 11 
	datadep: 
	instructions:
		 0: def_%cl_1_7 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: BRANCH %cl_1_8[7.1,] 
BB 8
	outgoing: 11 15 
	datadep: 
	instructions:
		 0: %cl_1_7[7.0,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: GLOBALVAR $! def_%cl_1_9 
		 1: COPY TYPE_PASS def_e %cl_1_9[9.0,] 
		 2: 
		 3: HASH-post-ex- def_%cl_1_10 p[2.2,] %cl_1_9[9.0,] 
		 4: problems-><< def_%cl_1_11 problems[] %cl_1_10[9.3,] 	 SYMBOL:	 ARGS:%cl_1_10,
		 5: COPY TYPE_PASS def_%cl_1_5 %cl_1_11[9.4,] 
		 6: %cl_1_3[2.6,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 13 15 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_13 %cl_1_12[11.0,] %cl_1_3[2.6,] 
		 2: %cl_1_12[11.0,] 
BB 12
	outgoing: 15 
	datadep: 
	instructions:
		 0: RETURN %cl_1_5[4.3,9.5,] %self[2.0,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_14 
		 1: def_%cl_1_15 %cl_1_14[13.0,] 
		 2: RETURN %cl_1_15[13.1,] %self[2.0,] 
BB 15
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: e[9.1,] 
		 16: 
		 17: RETURN problems[2.8,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = rebake! instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_opts 
		 6: opts[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.5,] 
		 2: COPY TYPE_PASS def_%v_4 opts[3.0,2.5,] 
		 3: BRANCH opts[3.0,2.5,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_5 
		 1: COPY TYPE_PASS def_opts %v_5[5.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: %self->raw def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->topic_id def_%v_7 %self[6.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: opts->fetch def_%v_8 opts[5.1,3.0,2.5,] 	 SYMBOL:invalidate_oneboxes,	 ARGS:Symbol,Boolean,
		 4: HASH-topic_id-invalidate_oneboxes- def_%v_9 %v_7[6.2,] %v_8[6.3,] 
		 5: %self->cook def_%v_10 %self[6.1,6.2,2.0,] %v_6[6.1,] %v_9[6.4,] 	 SYMBOL:	 ARGS:%v_6,%v_9,
		 6: COPY TYPE_PASS def_new_cooked %v_10[6.5,] 
		 7: 
		 8: %self->cooked def_%v_11 %self[6.1,6.2,6.5,2.0,] 	 SYMBOL:	 ARGS:
		 9: COPY TYPE_PASS def_old_cooked %v_11[6.8,] 
		 10: 
		 11: (Time) def_%v_12 
		 12: %v_12->new def_%v_13 %v_12[6.11,] 	 SYMBOL:	 ARGS:
		 13: (BAKED_VERSION) def_%v_14 
		 14: HASH-cooked-baked_at-baked_version- def_%v_15 new_cooked[6.6,] %v_13[6.12,] %v_14[6.13,] 
		 15: %self->update_columns def_%v_16 %self[6.1,6.2,6.5,6.8,2.0,] %v_15[6.14,] 	 SYMBOL:	 ARGS:%v_15,
		 16: 
		 17: (TopicLink) def_%v_17 
		 18: %v_17->extract_from def_%v_18 %v_17[6.17,] %self[6.1,6.2,6.5,6.8,6.15,2.0,] 	 SYMBOL:	 ARGS:%self,
		 19: 
		 20: (QuotedPost) def_%v_19 
		 21: %v_19->extract_from def_%v_20 %v_19[6.20,] %self[6.1,6.2,6.5,6.8,6.15,2.0,] 	 SYMBOL:	 ARGS:%self,
		 22: 
		 23: %self->trigger_post_process def_%v_21 %self[6.1,6.2,6.5,6.8,6.15,2.0,] 	 SYMBOL:	 ARGS:Boolean,
		 24: 
		 25: %self->publish_change_to_clients! def_%v_22 %self[6.1,6.2,6.5,6.8,6.15,6.23,2.0,] 	 SYMBOL:rebaked,	 ARGS:Symbol,
		 26: 
		 27: new_cooked->!= def_%v_23 new_cooked[6.6,] old_cooked[6.9,] 	 SYMBOL:	 ARGS:old_cooked,
		 28: RETURN %v_23[6.27,] %self[6.1,6.2,6.5,6.8,6.15,6.23,6.25,2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_owner instanceMethod = true
BB 1
	outgoing: 17 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_new_user 
		 6: RECEIVEARG def_actor 
		 7: 
		 8: %self->user_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: new_user->id def_%v_4 new_user[2.5,] 	 SYMBOL:	 ARGS:
		 10: %v_3->== def_%v_5 %v_3[2.8,] %v_4[2.9,] 	 SYMBOL:	 ARGS:%v_4,
		 11: BRANCH %v_5[2.10,] 
BB 3
	outgoing: 17 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: (I18n) def_%v_7 
		 3: COPY TYPE_StringLiteral "change_owner.post_revision_text" def_%v_8 
		 4: 
		 5: GLOBALVAR $! def_%v_9 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->user def_%v_12 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_12->username_lower def_%v_13 %v_12[6.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_11 %v_13[6.2,] 
		 4: 
		 5: %v_9[4.5,] 
BB 8
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 9
	outgoing: 10 11 13 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_14 
		 2: def_%v_15 %v_14[9.1,] 
		 3: BRANCH %v_15[9.2,] 
BB 10
	outgoing: 13 17 
	datadep: 
	instructions:
		 0: %v_14[9.1,] 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
		 1: 
		 2: %v_9[4.5,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 17 
	datadep: 
	instructions:
		 0: def_%v_16 
		 1: def_%v_17 %v_16[13.0,] %v_9[4.5,] 
		 2: %v_16[13.0,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: BRANCH %v_11[6.3,11.0,] 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: (I18n) def_%v_18 
		 1: COPY TYPE_StringLiteral "change_owner.deleted_user" def_%v_19 
		 2: %v_18->t def_%v_20 %v_18[15.0,] %v_19[15.1,] 	 SYMBOL:	 ARGS:%v_19,
		 3: COPY TYPE_PASS def_%v_11 %v_20[15.2,] 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: new_user->username_lower def_%v_21 new_user[2.5,] 	 SYMBOL:	 ARGS:
		 1: HASH-old_user-new_user- def_%v_22 %v_11[15.3,6.3,11.0,] %v_21[16.0,] 
		 2: %v_7->t def_%v_23 %v_7[4.2,] %v_8[4.3,] %v_22[16.1,] 	 SYMBOL:	 ARGS:%v_8,%v_22,
		 3: COPY TYPE_PASS def_edit_reason %v_23[16.2,] 
		 4: 
		 5: %self->raw def_%v_24 %self[2.0,] 	 SYMBOL:	 ARGS:
		 6: new_user->id def_%v_25 new_user[16.0,2.5,] 	 SYMBOL:	 ARGS:
		 7: HASH-raw-user_id-edit_reason- def_%v_26 %v_24[16.5,] %v_25[16.6,] edit_reason[16.3,] 
		 8: %self->revise def_%v_27 %self[16.5,2.0,] actor[2.6,] %v_26[16.7,] 	 SYMBOL:	 ARGS:actor,%v_26,
		 9: RETURN %v_27[16.8,] %self[16.5,16.8,2.0,] 
BB 17
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = calculate_avg_time instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_min_topic_age 
		 6: min_topic_age[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_min_topic_age 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->retry_lock_error def_%v_3 %self[2.0,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
CLOSURE BEGIN: min_topic_age[3.0,2.5,] builder[] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: (SqlBuilder) def_%cl_1_3 
		 2: COPY TYPE_StringLiteral "UPDATE posts
                SET avg_time = (x.gmean / 1000)
                FROM (SELECT post_timings.topic_id,
                             post_timings.post_number,
                             round(exp(avg(ln(msecs)))) AS gmean
                      FROM post_timings
                      INNER JOIN posts AS p2
                        ON p2.post_number = post_timings.post_number
                          AND p2.topic_id = post_timings.topic_id
                          AND p2.user_id <> post_timings.user_id
                      GROUP BY post_timings.topic_id, post_timings.post_number) AS x
                /*where*/" def_%cl_1_4 
		 3: %cl_1_3->new def_%cl_1_5 %cl_1_3[3.1,] %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:%cl_1_4,
		 4: COPY TYPE_PASS def_builder %cl_1_5[3.3,] 
		 5: 
		 6: COPY TYPE_StringLiteral "x.topic_id = posts.topic_id
                  AND x.post_number = posts.post_number
                  AND (posts.avg_time <> (x.gmean / 1000)::int OR posts.avg_time IS NULL)" def_%cl_1_6 
		 7: %cl_1_5->where def_%cl_1_7 %cl_1_5[3.3,] %cl_1_6[3.6,] 	 SYMBOL:	 ARGS:%cl_1_6,
		 8: 
		 9: BRANCH min_topic_age[] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "posts.topic_id IN (SELECT id FROM topics where bumped_at > :bumped_at)" def_%cl_1_8 
		 2: HASH-bumped_at- def_%cl_1_9 min_topic_age[] 
		 3: builder->where def_%cl_1_10 builder[3.4,] %cl_1_8[4.1,] %cl_1_9[4.2,] 	 SYMBOL:	 ARGS:%cl_1_8,%cl_1_9,
		 4: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_10 
BB 6
	outgoing: 7 9 
	datadep: 
	instructions:
		 0: 
		 1: builder->exec def_%cl_1_11 builder[3.4,] 	 SYMBOL:	 ARGS:
		 2: RETURN %cl_1_11[6.1,] %self[2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_13 %cl_1_12[7.0,] 
		 2: RETURN %cl_1_13[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 2: RETURN %v_3[4.1,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = advance_draft_sequence instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->topic def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: (DraftSequence) def_%v_6 
		 3: %self->last_editor_id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %self->topic def_%v_8 %self[4.3,2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_8->draft_key def_%v_9 %v_8[4.4,] 	 SYMBOL:	 ARGS:
		 6: %v_6->next! def_%v_10 %v_6[4.2,] %v_7[4.3,] %v_9[4.5,] 	 SYMBOL:	 ARGS:%v_7,%v_9,
		 7: RETURN %v_10[4.6,] %self[4.3,4.4,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = extract_quoted_post_numbers instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_Array def_%v_3 
		 7: COPY TYPE_PASS def_temp_collector %v_3[2.6,] 
		 8: 
		 9: %self->raw def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_Regexp def_%v_5 
		 11: %v_4->scan def_%v_6 %v_4[2.9,] 	 SYMBOL:	 ARGS:%v_5,
		 12: %v_6->each def_%v_7 %v_6[2.11,] %self[2.0,2.9,] 	 SYMBOL:	 ARGS:%v_6,
CLOSURE BEGIN: %self[2.0,2.9,] quote[] args[] temp_collector[2.7,] 
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_quote 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->parse_quote_into_arguments def_%cl_1_3 %self[2.0,] quote[2.2,] 	 SYMBOL:	 ARGS:quote,
		 2: COPY TYPE_PASS def_args %cl_1_3[3.1,] 
		 3: 
		 4: %cl_1_3->[] def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 5: %cl_1_4->present? def_%cl_1_5 %cl_1_4[3.4,] 	 SYMBOL:	 ARGS:
		 6: BRANCH %cl_1_5[3.5,] 
BB 4
	outgoing: 5 9 
	datadep: 
	instructions:
		 0: %self->topic_id def_%cl_1_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: args->[] def_%cl_1_7 args[3.2,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 2: %cl_1_6->!= def_%cl_1_8 %cl_1_6[4.0,] %cl_1_7[4.1,] 	 SYMBOL:	 ARGS:%cl_1_7,
		 3: COPY TYPE_PASS def_%cl_1_5 %cl_1_8[4.2,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_5[4.3,3.5,] 
BB 6
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_9 
		 1: RETURN %cl_1_9[6.0,] %self[2.0,] 
BB 7
	outgoing: 9 11 
	datadep: 
	instructions:
		 0: args->[] def_%cl_1_10 args[3.2,] 	 SYMBOL:post,	 ARGS:Symbol,
		 1: temp_collector-><< def_%cl_1_11 temp_collector[] %cl_1_10[7.0,] 	 SYMBOL:	 ARGS:%cl_1_10,
		 2: RETURN %cl_1_11[7.1,] %self[2.0,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_13 %cl_1_12[9.0,] 
		 2: RETURN %cl_1_13[9.1,] %self[2.0,] 
BB 11
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: args[3.2,] 
		 13: 
		 14: temp_collector->uniq! def_%v_8 temp_collector[2.7,] 	 SYMBOL:	 ARGS:
		 15: 
		 16: ATTRASSIGN %self->quoted_post_numbers temp_collector[2.7,2.14,] 
		 17: 
		 18: temp_collector->size def_%v_9 temp_collector[2.7,2.14,] 	 SYMBOL:	 ARGS:
		 19: ATTRASSIGN %self->quote_count %v_9[2.18,] 
		 20: RETURN %v_9[2.18,] %self[2.0,2.9,2.16,2.19,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = save_reply_relationships instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->reply_to_post_number def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %self->add_to_quoted_post_numbers def_%v_4 %self[2.0,2.6,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: 
		 9: %self->quoted_post_numbers def_%v_5 %self[2.0,2.6,2.7,] 	 SYMBOL:	 ARGS:
		 10: %v_5->blank? def_%v_6 %v_5[2.9,] 	 SYMBOL:	 ARGS:
		 11: BRANCH %v_6[2.10,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
		 1: 
		 2: %self->quoted_post_numbers def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_8->each def_%v_9 %v_8[4.2,] %self[4.2,2.0,] 	 SYMBOL:	 ARGS:%v_8,
CLOSURE BEGIN: %self[4.2,2.0,] p[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_p 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%cl_1_3 
		 2: %self->topic_id def_%cl_1_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: HASH-topic_id-post_number- def_%cl_1_5 %cl_1_4[3.2,] p[2.2,] 
		 4: %cl_1_3->find_by def_%cl_1_6 %cl_1_3[3.1,] %cl_1_5[3.3,] 	 SYMBOL:	 ARGS:%cl_1_5,
		 5: COPY TYPE_PASS def_post %cl_1_6[3.4,] 
		 6: 
		 7: %self->create_reply_relationship_with def_%cl_1_7 %self[3.2,2.0,] %cl_1_6[3.4,] 	 SYMBOL:	 ARGS:post,
		 8: RETURN %cl_1_7[3.7,] %self[3.2,3.7,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_8 
		 1: def_%cl_1_9 %cl_1_8[4.0,] 
		 2: RETURN %cl_1_9[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: post[3.5,] 
		 4: RETURN %v_9[4.3,] %self[4.2,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = trigger_post_process instanceMethod = true
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_bypass_bump 
		 6: bypass_bump[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Boolean def_bypass_bump 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: HASH-post_id-bypass_bump- def_%v_4 %v_3[4.1,] bypass_bump[3.0,2.5,] 
		 3: COPY TYPE_PASS def_args %v_4[4.2,] 
		 4: 
		 5: %self->image_sizes def_%v_5 %self[4.1,2.0,] 	 SYMBOL:	 ARGS:
		 6: %v_5->present? def_%v_6 %v_5[4.5,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_6[4.6,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->image_sizes def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: ATTRASSIGN args->[] %v_7[5.0,] 
		 2: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->invalidate_oneboxes def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_8->present? def_%v_9 %v_8[7.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_9[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: ATTRASSIGN args->[] 
		 1: COPY TYPE_Boolean def_%v_10 
		 2: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: 
		 1: %self->cooking_options def_%v_11 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: ATTRASSIGN args->[] %v_11[10.1,] 
		 3: 
		 4: (Jobs) def_%v_12 
		 5: %v_12->enqueue def_%v_13 %v_12[10.4,] args[10.2,8.0,5.1,4.3,] 	 SYMBOL:process_post,	 ARGS:Symbol,args,
		 6: 
		 7: (DiscourseEvent) def_%v_14 
		 8: %v_14->trigger def_%v_15 %v_14[10.7,] %self[10.1,2.0,] 	 SYMBOL:after_trigger_post_process,	 ARGS:Symbol,%self,
		 9: RETURN %v_15[10.8,] %self[10.1,2.0,] 
BB 11
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = public_posts_count_per_day instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_start_date 
		 6: RECEIVEARG def_end_date 
		 7: RECEIVECONSTARG def_category_id 
		 8: category_id[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_category_id 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->public_posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral "posts.created_at >= ? AND posts.created_at <= ?" def_%v_4 
		 3: %v_3->where def_%v_5 %v_3[4.1,] %v_4[4.2,] start_date[2.5,] end_date[2.6,] 	 SYMBOL:	 ARGS:%v_4,start_date,end_date,
		 4: COPY TYPE_PASS def_result %v_5[4.3,] 
		 5: 
		 6: BRANCH category_id[3.0,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "topics.category_id = ?" def_%v_6 
		 1: result->where def_%v_7 result[4.4,] %v_6[5.0,] category_id[3.0,2.7,] 	 SYMBOL:	 ARGS:%v_6,category_id,
		 2: COPY TYPE_PASS def_result %v_7[5.1,] 
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "date(posts.created_at)" def_%v_8 
		 2: result->group def_%v_9 result[5.2,4.4,] %v_8[7.1,] 	 SYMBOL:	 ARGS:%v_8,
		 3: COPY TYPE_StringLiteral "date(posts.created_at)" def_%v_10 
		 4: %v_9->order def_%v_11 %v_9[7.2,] %v_10[7.3,] 	 SYMBOL:	 ARGS:%v_10,
		 5: %v_11->count def_%v_12 %v_11[7.4,] 	 SYMBOL:	 ARGS:
		 6: RETURN %v_12[7.5,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = private_messages_count_per_day instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_since_days_ago 
		 6: RECEIVEARG def_topic_subtype 
		 7: 
		 8: %self->private_posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %v_3->with_topic_subtype def_%v_4 %v_3[2.8,] topic_subtype[2.6,] 	 SYMBOL:	 ARGS:topic_subtype,
		 10: COPY TYPE_StringLiteral "posts.created_at > ?" def_%v_5 
		 11: since_days_ago->days def_%v_6 since_days_ago[2.5,] 	 SYMBOL:	 ARGS:
		 12: %v_6->ago def_%v_7 %v_6[2.11,] 	 SYMBOL:	 ARGS:
		 13: %v_4->where def_%v_8 %v_4[2.9,] %v_5[2.10,] %v_7[2.12,] 	 SYMBOL:	 ARGS:%v_5,%v_7,
		 14: COPY TYPE_StringLiteral "date(posts.created_at)" def_%v_9 
		 15: %v_8->group def_%v_10 %v_8[2.13,] %v_9[2.14,] 	 SYMBOL:	 ARGS:%v_9,
		 16: COPY TYPE_StringLiteral "date(posts.created_at)" def_%v_11 
		 17: %v_10->order def_%v_12 %v_10[2.15,] %v_11[2.16,] 	 SYMBOL:	 ARGS:%v_11,
		 18: %v_12->count def_%v_13 %v_12[2.17,] 	 SYMBOL:	 ARGS:
		 19: RETURN %v_13[2.18,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reply_history instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_max_replies 
		 6: max_replies[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_max_replies 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_guardian 
		 1: guardian[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_guardian 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_3 
		 2: COPY TYPE_StringLiteral "WITH RECURSIVE breadcrumb(id, reply_to_post_number) AS (
                              SELECT p.id, p.reply_to_post_number FROM posts AS p
                                WHERE p.id = :post_id
                              UNION
                                 SELECT p.id, p.reply_to_post_number FROM posts AS p, breadcrumb
                                   WHERE breadcrumb.reply_to_post_number = p.post_number
                                     AND p.topic_id = :topic_id
                            ) SELECT id from breadcrumb ORDER by id" def_%v_4 
		 3: %self->id def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %self->topic_id def_%v_6 %self[6.3,2.0,] 	 SYMBOL:	 ARGS:
		 5: HASH-post_id-topic_id- def_%v_7 %v_5[6.3,] %v_6[6.4,] 
		 6: %v_3->exec_sql def_%v_8 %v_3[6.1,] %v_4[6.2,] %v_7[6.5,] 	 SYMBOL:	 ARGS:%v_4,%v_7,
		 7: %v_8->to_a def_%v_9 %v_8[6.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_PASS def_post_ids %v_9[6.7,] 
		 9: 
		 10: %v_9->map! def_%v_10 %v_9[6.7,] %self[6.3,6.4,2.0,] 	 SYMBOL:	 ARGS:%v_9,
CLOSURE BEGIN: r[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_r 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "id" def_%cl_1_3 
		 2: r->[] def_%cl_1_4 r[2.2,] %cl_1_3[3.1,] 	 SYMBOL:	 ARGS:%cl_1_3,
		 3: %cl_1_4->to_i def_%cl_1_5 %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:
		 4: RETURN %cl_1_5[3.3,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_6 
		 1: def_%cl_1_7 %cl_1_6[4.0,] 
		 2: RETURN %cl_1_7[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 11: %v_10->reject! def_%v_11 %v_10[6.10,] %self[6.3,6.4,2.0,] 	 SYMBOL:	 ARGS:%v_10,
CLOSURE BEGIN: %self[6.3,6.4,2.0,] post_id[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_post_id 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->id def_%cl_2_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: post_id->== def_%cl_2_4 post_id[2.2,] %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:%cl_2_3,
		 3: RETURN %cl_2_4[3.2,] %self[3.1,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_5 
		 1: def_%cl_2_6 %cl_2_5[4.0,] 
		 2: RETURN %cl_2_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 12: 
		 13: max_replies->- def_%v_13 max_replies[3.0,2.5,] 	 SYMBOL:	 ARGS:max_replies,
		 14: CONSTANT def_%v_12 %v_13[6.13,] 
		 15: post_ids->[] def_%v_14 post_ids[6.8,] %v_12[6.14,] 	 SYMBOL:	 ARGS:%v_12,
		 16: BRANCH %v_14[6.15,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_14 post_ids[6.8,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_post_ids %v_14[7.0,6.15,] 
		 1: 
		 2: (Post) def_%v_15 
		 3: %v_15->secured def_%v_16 %v_15[8.2,] guardian[5.0,4.0,] 	 SYMBOL:	 ARGS:guardian,
		 4: HASH-id- def_%v_17 post_ids[8.0,] 
		 5: %v_16->where def_%v_18 %v_16[8.3,] %v_17[8.4,] 	 SYMBOL:	 ARGS:%v_17,
		 6: %v_18->includes def_%v_19 %v_18[8.5,] 	 SYMBOL:user,topic,	 ARGS:Symbol,Symbol,
		 7: %v_19->order def_%v_20 %v_19[8.6,] 	 SYMBOL:id,	 ARGS:Symbol,
		 8: %v_20->to_a def_%v_21 %v_20[8.7,] 	 SYMBOL:	 ARGS:
		 9: RETURN %v_21[8.8,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = revert_to instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_number 
		 6: 
		 7: %self->version def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: number->>= def_%v_4 number[2.5,] %v_3[2.7,] 	 SYMBOL:	 ARGS:%v_3,
		 9: BRANCH %v_4[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: (PostRevision) def_%v_6 
		 3: %self->id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: number->+ def_%v_8 number[2.5,2.8,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: HASH-post_id-number- def_%v_9 %v_7[4.3,] %v_8[4.4,] 
		 6: %v_6->find_by def_%v_10 %v_6[4.2,] %v_9[4.5,] 	 SYMBOL:	 ARGS:%v_9,
		 7: COPY TYPE_PASS def_post_revision %v_10[4.6,] 
		 8: 
		 9: %v_10->modifications def_%v_11 %v_10[4.6,] 	 SYMBOL:	 ARGS:
		 10: %v_11->each def_%v_12 %v_11[4.9,] %self[4.3,2.0,] 	 SYMBOL:	 ARGS:%v_11,
CLOSURE BEGIN: attribute[] change[] %self[4.3,2.0,] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_attribute 
		 3: RECEIVEARG def_change 
		 4: COPY TYPE_CurrentScope def_%current_scope 
		 5: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "cached_version" def_%cl_1_3 
		 2: attribute->== def_%cl_1_4 attribute[2.2,] %cl_1_3[3.1,] 	 SYMBOL:	 ARGS:%cl_1_3,
		 3: BRANCH %cl_1_4[3.2,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "version" def_%cl_1_5 
		 1: COPY TYPE_PASS def_attribute %cl_1_5[4.0,] 
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_5 
BB 6
	outgoing: 7 9 
	datadep: 
	instructions:
		 0: 
		 1: change->[] def_%cl_1_6 change[2.3,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: %self->write_attribute def_%cl_1_7 %self[2.0,] attribute[4.1,2.2,] %cl_1_6[6.1,] 	 SYMBOL:	 ARGS:attribute,%cl_1_6,
		 3: RETURN %cl_1_7[6.2,] %self[6.2,2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_8 
		 1: def_%cl_1_9 %cl_1_8[7.0,] 
		 2: RETURN %cl_1_9[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: change[2.3,] 
		 11: RETURN %v_12[4.10,] %self[4.3,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = rebake_all_quoted_posts instanceMethod = false
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user_id 
		 6: 
		 7: user_id->blank? def_%v_3 user_id[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: (Post) def_%v_5 
		 3: COPY TYPE_StringLiteral "      WITH user_quoted_posts AS (
        SELECT post_id
          FROM quoted_posts
         WHERE quoted_post_id IN (SELECT id FROM posts WHERE user_id = " def_%v_6 
		 4: 
		 5: COPY TYPE_StringLiteral ")
      )
      UPDATE posts
         SET baked_version = NULL
       WHERE baked_version IS NOT NULL
         AND id IN (SELECT post_id FROM user_quoted_posts)
" def_%v_7 
		 6: BUILDSTRING def_%v_8 %v_6[4.3,] user_id[2.5,] %v_7[4.5,] 
		 7: %v_5->exec_sql def_%v_9 %v_5[4.2,] %v_8[4.6,] 	 SYMBOL:	 ARGS:%v_8,
		 8: RETURN %v_9[4.7,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = seen? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: (PostTiming) def_%v_3 
		 8: %self->topic_id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %self->post_number def_%v_5 %self[2.0,2.8,] 	 SYMBOL:	 ARGS:
		 10: user->id def_%v_6 user[2.5,] 	 SYMBOL:	 ARGS:
		 11: HASH-topic_id-post_number-user_id- def_%v_7 %v_4[2.8,] %v_5[2.9,] %v_6[2.10,] 
		 12: %v_3->where def_%v_8 %v_3[2.7,] %v_7[2.11,] 	 SYMBOL:	 ARGS:%v_7,
		 13: %v_8->exists? def_%v_9 %v_8[2.12,] 	 SYMBOL:	 ARGS:
		 14: RETURN %v_9[2.13,] %self[2.0,2.8,2.9,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = parse_quote_into_arguments instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_quote 
		 6: 
		 7: quote->present? def_%v_3 quote[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: (HashWithIndifferentAccess) def_%v_6 
		 3: %v_6->new def_%v_7 %v_6[3.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_args %v_7[3.3,] 
		 5: 
		 6: quote->first def_%v_8 quote[2.5,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_Regexp def_%v_9 
		 8: %v_8->scan def_%v_10 %v_8[3.6,] 	 SYMBOL:	 ARGS:%v_9,
		 9: %v_10->each def_%v_11 %v_10[3.8,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_10,
CLOSURE BEGIN: arg[] args[3.4,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_arg 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: arg->[] def_%cl_1_3 arg[2.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: arg->[] def_%cl_1_4 arg[3.1,2.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: %cl_1_4->to_i def_%cl_1_5 %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:
		 4: ATTRASSIGN args->[] %cl_1_3[3.1,] %cl_1_5[3.3,] 
		 5: RETURN %cl_1_5[3.3,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_6 
		 1: def_%cl_1_7 %cl_1_6[4.0,] 
		 2: RETURN %cl_1_7[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 10: 
		 11: RETURN args[3.4,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_5 
		 1: RETURN %v_5[4.0,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = add_to_quoted_post_numbers instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_num 
		 6: 
		 7: num->present? def_%v_3 num[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: %self->quoted_post_numbers def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_5[3.2,] 
BB 4
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Array def_%v_7 
		 1: %self->quoted_post_numbers= def_%v_6 %v_7[6.0,] 	 SYMBOL:	 ARGS:%v_7,
		 2: COPY TYPE_PASS def_%v_5 %v_7[6.0,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->quoted_post_numbers def_%v_8 %self[6.1,2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_8-><< def_%v_9 %v_8[7.1,] num[2.5,] 	 SYMBOL:	 ARGS:num,
		 3: RETURN %v_9[7.2,] %self[7.1,6.1,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = create_reply_relationship_with instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_post 
		 6: 
		 7: post->nil? def_%v_3 post[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: post->post_replies def_%v_5 post[2.5,] 	 SYMBOL:	 ARGS:
		 3: %self->id def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: HASH-reply_id- def_%v_7 %v_6[4.3,] 
		 5: %v_5->new def_%v_8 %v_5[4.2,] %v_7[4.4,] 	 SYMBOL:	 ARGS:%v_7,
		 6: COPY TYPE_PASS def_post_reply %v_8[4.5,] 
		 7: 
		 8: %v_8->save def_%v_9 %v_8[4.5,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_9[4.8,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%v_10 
		 2: %v_10->visible_post_types def_%v_11 %v_10[6.1,] 	 SYMBOL:	 ARGS:
		 3: %self->post_type def_%v_12 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_11->include? def_%v_13 %v_11[6.2,] %v_12[6.3,] 	 SYMBOL:	 ARGS:%v_12,
		 5: BRANCH %v_13[6.4,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_14 
		 2: post->id def_%v_15 post[2.5,] 	 SYMBOL:	 ARGS:
		 3: HASH-id- def_%v_16 %v_15[7.2,] 
		 4: %v_14->where def_%v_17 %v_14[7.1,] %v_16[7.3,] 	 SYMBOL:	 ARGS:%v_16,
		 5: COPY TYPE_StringLiteral "reply_count = reply_count + 1" def_%v_18 
		 6: COPY TYPE_Array def_%v_19 %v_18[7.5,] 
		 7: %v_17->update_all def_%v_20 %v_17[7.4,] %v_19[7.6,] 	 SYMBOL:	 ARGS:%v_19,
		 8: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_20 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %v_20[8.0,7.7,] %self[2.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

