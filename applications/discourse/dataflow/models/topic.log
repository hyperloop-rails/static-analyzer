SET IRMethod, name = max_sort_order instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->max_sort_order def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: CONSTANT def_%v_6 	 SYMBOL:	 ARGS:Fixnum,
		 1: %v_6->- def_%v_7 %v_6[5.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: ATTRASSIGN %self->max_sort_order %v_7[5.1,] 
		 3: RETURN %v_7[5.1,] %self[5.2,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = featured_users instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->featured_users def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (TopicFeaturedUsers) def_%v_6 
		 1: %v_6->new def_%v_7 %v_6[5.0,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
		 2: ATTRASSIGN %self->featured_users %v_7[5.1,] 
		 3: RETURN %v_7[5.1,] %self[5.2,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = trash! instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_trashed_by 
		 6: trashed_by[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_trashed_by 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->deleted_at def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_3->nil? def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_4[4.2,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->update_category_topic_count_by def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 1: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->super def_%v_6 %current_module[2.3,] trashed_by[3.0,2.5,] %v_0[2.1,] 	 SYMBOL:	 ARGS:trashed_by,
		 2: 
		 3: %self->update_flagged_posts_count def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: RETURN %v_7[7.3,] %self[7.3,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = recover! instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->deleted_at def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->nil? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->update_category_topic_count_by def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 1: COPY TYPE_PASS def_%v_5 %v_6[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->super def_%v_7 %current_module[2.3,] %v_0[2.1,] 	 SYMBOL:	 ARGS:
		 2: 
		 3: %self->update_flagged_posts_count def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: RETURN %v_8[5.3,] %self[5.3,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = initialize_default_values instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->bumped_at def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: (Time) def_%v_5 
		 1: %v_5->now def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: %self->bumped_at= def_%v_4 %v_6[3.1,] 	 SYMBOL:	 ARGS:%v_6,
		 3: COPY TYPE_PASS def_%v_3 %v_6[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->last_post_user_id def_%v_7 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->user_id def_%v_9 %self[3.2,2.0,] 	 SYMBOL:	 ARGS:
		 1: %self->last_post_user_id= def_%v_8 %v_9[5.0,] 	 SYMBOL:	 ARGS:%v_9,
		 2: RETURN %v_9[5.0,] %self[5.0,5.1,3.2,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_7[4.1,] %self[3.2,2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = inherit_auto_close_from_category instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->ignore_category_auto_close def_%v_3 %self[2.0,] 
		 7: %v_3->! def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->category def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_4 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.1,2.7,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->category def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_6->auto_close_hours def_%v_7 %v_6[5.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_4 %v_7[5.1,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_4[5.2,3.1,2.7,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_8->nil? def_%v_9 %v_8[7.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_4 %v_9[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %v_4[7.2,5.2,3.1,2.7,] 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: %self->category def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_10->auto_close_based_on_last_post def_%v_11 %v_10[9.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->auto_close_based_on_last_post %v_11[9.2,] 
		 4: 
		 5: %self->category def_%v_12 %self[9.1,9.3,2.0,] 	 SYMBOL:	 ARGS:
		 6: %v_12->auto_close_hours def_%v_13 %v_12[9.5,] 	 SYMBOL:	 ARGS:
		 7: %self->set_auto_close def_%v_14 %self[9.1,9.3,9.5,2.0,] %v_13[9.6,] 	 SYMBOL:	 ARGS:%v_13,
		 8: RETURN %v_14[9.7,] %self[9.1,9.3,9.5,9.7,2.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = advance_draft_sequence instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->archetype def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: (Archetype) def_%v_4 
		 8: %v_4->private_message def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_3->== def_%v_6 %v_3[2.6,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: BRANCH %v_6[2.9,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: (DraftSequence) def_%v_7 
		 2: %self->user def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: (Draft) def_%v_9 
		 4: (inherit NEW_PRIVATE_MESSAGE) def_%v_10 %v_9[3.3,] 
		 5: %v_10[3.4,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %v_9->const_missing def_%v_10 %v_9[3.3,] 	 SYMBOL:NEW_PRIVATE_MESSAGE,	 ARGS:Symbol,
BB 5
	outgoing: 10 
	datadep: 
	instructions:
		 0: %v_7->next! def_%v_11 %v_7[3.1,] %v_8[3.2,] %v_10[4.0,3.4,] 	 SYMBOL:	 ARGS:%v_8,%v_10,
		 1: RETURN %v_11[5.0,] %self[2.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (DraftSequence) def_%v_12 
		 2: %self->user def_%v_13 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: (Draft) def_%v_14 
		 4: (inherit NEW_TOPIC) def_%v_15 %v_14[6.3,] 
		 5: %v_15[6.4,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %v_14->const_missing def_%v_15 %v_14[6.3,] 	 SYMBOL:NEW_TOPIC,	 ARGS:Symbol,
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: %v_12->next! def_%v_16 %v_12[6.1,] %v_13[6.2,] %v_15[7.0,6.4,] 	 SYMBOL:	 ARGS:%v_13,%v_15,
		 1: RETURN %v_16[8.0,] %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cancel_auto_close_job instanceMethod = true
BB 1
	outgoing: 17 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->auto_close_at_changed? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->auto_close_at_was def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_4->nil? def_%v_5 %v_4[3.0,] 	 SYMBOL:	 ARGS:
		 2: %v_5->! def_%v_6 %v_5[3.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_3 %v_6[3.2,] 
BB 4
	outgoing: 5 8 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.3,2.6,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: %self->auto_close_user_id_changed? def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: BRANCH %v_7[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_7 %v_8[6.0,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_3 %v_7[6.1,5.0,] 
BB 8
	outgoing: 9 15 
	datadep: 
	instructions:
		 0: BRANCH %v_3[7.0,3.3,2.6,] 
BB 9
	outgoing: 10 13 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_at def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_9[9.1,] 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: %self->auto_close_started_at def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: BRANCH %v_10[10.0,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: (Time) def_%v_12 
		 1: %v_12->zone def_%v_13 %v_12[11.0,] 	 SYMBOL:	 ARGS:
		 2: %v_13->now def_%v_14 %v_13[11.1,] 	 SYMBOL:	 ARGS:
		 3: %self->auto_close_started_at= def_%v_11 %v_14[11.2,] 	 SYMBOL:	 ARGS:%v_14,
		 4: COPY TYPE_PASS def_%v_10 %v_14[11.2,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
BB 14
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: (Jobs) def_%v_15 
		 2: %self->id def_%v_16 %self[11.3,2.0,] 	 SYMBOL:	 ARGS:
		 3: HASH-topic_id- def_%v_17 %v_16[14.2,] 
		 4: %v_15->cancel_scheduled_job def_%v_18 %v_15[14.1,] %v_17[14.3,] 	 SYMBOL:close_topic,	 ARGS:Symbol,%v_17,
		 5: RETURN %v_18[14.4,] %self[14.2,11.3,2.0,] 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 17
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = schedule_auto_close_job instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->auto_close_at def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: %self->auto_close_at_changed? def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: BRANCH %v_4[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->auto_close_user_id_changed? def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_4 %v_5[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_3 %v_4[4.1,3.0,] 
BB 6
	outgoing: 7 10 
	datadep: 
	instructions:
		 0: BRANCH %v_3[5.0,2.6,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->id def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->auto_close_user_id def_%v_7 %self[7.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_7[7.2,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: %self->user_id def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_7 %v_8[8.0,] 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: HASH-topic_id-user_id- def_%v_9 %v_6[7.1,] %v_7[8.1,7.2,] 
		 1: COPY TYPE_PASS def_options %v_9[9.0,] 
		 2: 
		 3: (Jobs) def_%v_10 
		 4: %self->auto_close_at def_%v_11 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_10->enqueue_at def_%v_12 %v_10[9.3,] %v_11[9.4,] options[9.1,] 	 SYMBOL:close_topic,	 ARGS:%v_11,Symbol,options,
		 6: RETURN %v_12[9.5,] %self[9.4,2.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = ensure_topic_has_a_category instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->category_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->nil? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: %self->archetype def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->nil? def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_6[3.1,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->archetype def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: (Archetype) def_%v_8 
		 2: %v_8->default def_%v_9 %v_8[4.1,] 	 SYMBOL:	 ARGS:
		 3: %v_7->== def_%v_10 %v_7[4.0,] %v_9[4.2,] 	 SYMBOL:	 ARGS:%v_9,
		 4: COPY TYPE_PASS def_%v_6 %v_10[4.3,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_4 %v_6[4.4,3.1,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_4[5.0,2.7,] 
BB 7
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: (SiteSetting) def_%v_11 
		 2: %v_11->uncategorized_category_id def_%v_12 %v_11[7.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->category_id %v_12[7.2,] 
		 4: RETURN %v_12[7.2,] %self[7.3,2.0,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = visible_post_types instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_viewed_by 
		 6: viewed_by[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_viewed_by 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_3 
		 2: %v_3->types def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_types %v_4[4.2,] 
		 4: 
		 5: %v_4->[] def_%v_5 %v_4[4.2,] 	 SYMBOL:regular,	 ARGS:Symbol,
		 6: types->[] def_%v_6 types[4.3,] 	 SYMBOL:moderator_action,	 ARGS:Symbol,
		 7: types->[] def_%v_7 types[4.3,4.6,] 	 SYMBOL:small_action,	 ARGS:Symbol,
		 8: COPY TYPE_Array def_%v_8 %v_5[4.5,] %v_6[4.6,] %v_7[4.7,] 
		 9: COPY TYPE_PASS def_result %v_8[4.8,] 
		 10: 
		 11: viewed_by->try def_%v_9 viewed_by[3.0,2.5,] 	 SYMBOL:staff?,	 ARGS:Symbol,
		 12: BRANCH %v_9[4.11,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: types->[] def_%v_10 types[4.3,] 	 SYMBOL:whisper,	 ARGS:Symbol,
		 1: result-><< def_%v_11 result[4.9,] %v_10[5.0,] 	 SYMBOL:	 ARGS:%v_10,
		 2: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: RETURN result[4.9,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = top_viewed instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_max 
		 6: max[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_max 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%v_3 
		 2: %v_3->listable_topics def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: %v_4->visible def_%v_5 %v_4[4.2,] 	 SYMBOL:	 ARGS:
		 4: %v_5->secured def_%v_6 %v_5[4.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral "views desc" def_%v_7 
		 6: %v_6->order def_%v_8 %v_6[4.4,] %v_7[4.5,] 	 SYMBOL:	 ARGS:%v_7,
		 7: %v_8->limit def_%v_9 %v_8[4.6,] max[3.0,2.5,] 	 SYMBOL:	 ARGS:max,
		 8: RETURN %v_9[4.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = recent instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_max 
		 6: max[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_max 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%v_3 
		 2: %v_3->listable_topics def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: %v_4->visible def_%v_5 %v_4[4.2,] 	 SYMBOL:	 ARGS:
		 4: %v_5->secured def_%v_6 %v_5[4.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral "created_at desc" def_%v_7 
		 6: %v_6->order def_%v_8 %v_6[4.4,] %v_7[4.5,] 	 SYMBOL:	 ARGS:%v_7,
		 7: %v_8->limit def_%v_9 %v_8[4.6,] max[3.0,2.5,] 	 SYMBOL:	 ARGS:max,
		 8: RETURN %v_9[4.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = count_exceeds_minimum? instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->count def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: (SiteSetting) def_%v_4 
		 8: %v_4->minimum_topics_similar def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_3->> def_%v_6 %v_3[2.6,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: RETURN %v_6[2.9,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = best_post instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_StringLiteral "score desc" def_%v_4 
		 8: %v_3->order def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: %v_5->limit def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:Fixnum,
		 10: %v_6->first def_%v_7 %v_6[2.9,] 	 SYMBOL:	 ARGS:
		 11: RETURN %v_7[2.10,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_flags? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (FlagQuery) def_%v_3 
		 7: COPY TYPE_StringLiteral "active" def_%v_4 
		 8: %v_3->flagged_post_actions def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: COPY TYPE_StringLiteral "topics.id" def_%v_6 
		 10: %self->id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 11: HASH- def_%v_8 %v_6[2.9,] %v_7[2.10,] 
		 12: %v_5->where def_%v_9 %v_5[2.8,] %v_8[2.11,] 	 SYMBOL:	 ARGS:%v_8,
		 13: %v_9->exists? def_%v_10 %v_9[2.12,] 	 SYMBOL:	 ARGS:
		 14: RETURN %v_10[2.13,] %self[2.0,2.10,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = all_allowed_users instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->private_message? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->has_flags? def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_3 %v_4[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.6,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral " UNION " def_%v_5 
		 1: (User) def_%v_6 
		 2: %v_6->moderators def_%v_7 %v_6[5.1,] 	 SYMBOL:	 ARGS:
		 3: %v_7->to_sql def_%v_8 %v_7[5.2,] 	 SYMBOL:	 ARGS:
		 4: BUILDSTRING def_%v_9 %v_5[5.0,] %v_8[5.3,] 
		 5: COPY TYPE_PASS def_moderators_sql %v_9[5.4,] 
		 6: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: (User) def_%v_10 
		 2: COPY TYPE_StringLiteral "(" def_%v_11 
		 3: %self->allowed_users def_%v_12 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_12->to_sql def_%v_13 %v_12[7.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral " UNION " def_%v_14 
		 6: %self->allowed_group_users def_%v_15 %self[7.3,2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_15->to_sql def_%v_16 %v_15[7.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_StringLiteral ") as users" def_%v_17 
		 9: BUILDSTRING def_%v_18 %v_11[7.2,] %v_13[7.4,] %v_14[7.5,] %v_16[7.7,] moderators_sql[5.5,] %v_17[7.8,] 
		 10: %v_10->from def_%v_19 %v_10[7.1,] %v_18[7.9,] 	 SYMBOL:	 ARGS:%v_18,
		 11: RETURN %v_19[7.10,] %self[7.3,7.6,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = limit_topics_per_day instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_4->first_day_user? def_%v_5 %v_4[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.2,2.6,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->limit_first_day_topics_per_day def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_6[5.1,] %self[5.1,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics" def_%v_7 
		 2: %self->apply_per_day_rate_limit_for def_%v_8 %self[2.0,] %v_7[6.1,] 	 SYMBOL:max_topics_per_day,	 ARGS:%v_7,Symbol,
		 3: RETURN %v_8[6.2,] %self[6.2,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = limit_private_messages_per_day instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->private_message? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: COPY TYPE_StringLiteral "pms" def_%v_5 
		 3: %self->apply_per_day_rate_limit_for def_%v_6 %self[2.0,] %v_5[3.2,] 	 SYMBOL:max_private_messages_per_day,	 ARGS:%v_5,Symbol,
		 4: RETURN %v_6[3.3,] %self[3.3,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = fancy_title instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_title 
		 6: 
		 7: (ERB) def_%v_3 
		 8: (inherit Util) def_%v_4 %v_3[2.7,] 
		 9: %v_4[2.8,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %v_3->const_missing def_%v_4 %v_3[2.7,] 	 SYMBOL:Util,	 ARGS:Symbol,
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: %v_4->html_escape def_%v_5 %v_4[3.0,2.8,] title[2.5,] 	 SYMBOL:	 ARGS:title,
		 1: COPY TYPE_PASS def_escaped %v_5[4.0,] 
		 2: 
		 3: BRANCH %v_5[4.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: (HtmlPrettify) def_%v_7 
		 3: %v_7->render def_%v_8 %v_7[5.2,] escaped[4.1,] 	 SYMBOL:	 ARGS:escaped,
		 4: RETURN %v_8[5.3,] %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = fancy_title instanceMethod = true
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->title_fancy_entities? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: %self->read_attribute def_%v_10 %self[2.0,] 	 SYMBOL:fancy_title,	 ARGS:Symbol,
		 3: COPY TYPE_PASS def_fancy_title %v_10[3.2,] 
		 4: BRANCH %v_10[3.2,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: (ERB) def_%v_6 
		 1: (inherit Util) def_%v_7 %v_6[4.0,] 
		 2: %v_7[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %v_6->const_missing def_%v_7 %v_6[4.0,] 	 SYMBOL:Util,	 ARGS:Symbol,
BB 6
	outgoing: 14 
	datadep: 
	instructions:
		 0: %self->title def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_7->html_escape def_%v_9 %v_7[5.0,4.1,] %v_8[6.0,] 	 SYMBOL:	 ARGS:%v_8,
		 2: RETURN %v_9[6.1,] %self[6.0,2.0,] 
BB 8
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
		 1: 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%v_12 
		 2: %self->title def_%v_13 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_12->fancy_title def_%v_14 %v_12[9.1,] %v_13[9.2,] 	 SYMBOL:	 ARGS:%v_13,
		 4: COPY TYPE_PASS def_fancy_title %v_14[9.3,] 
		 5: 
		 6: %self->write_attribute def_%v_15 %self[9.2,2.0,] %v_14[9.3,] 	 SYMBOL:fancy_title,	 ARGS:Symbol,fancy_title,
		 7: 
		 8: %self->new_record? def_%v_16 %self[9.2,9.6,2.0,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_16[9.8,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_17 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "UPDATE topics SET fancy_title = :fancy_title where id = :id" def_%v_18 
		 2: %self->id def_%v_19 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: HASH-id-fancy_title- def_%v_20 %v_19[11.2,] fancy_title[9.4,] 
		 4: %self->exec_sql def_%v_21 %self[11.2,2.0,] %v_18[11.1,] %v_20[11.3,] 	 SYMBOL:	 ARGS:%v_18,%v_20,
		 5: COPY TYPE_PASS def_%v_17 %v_21[11.4,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_11 %v_17[11.5,10.0,] 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: RETURN fancy_title[3.3,9.4,] %self[2.0,] 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = pending_posts_count instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->queued_posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->new_count def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = for_digest instanceMethod = false
BB 1
	outgoing: 19 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: RECEIVEARG def_since 
		 7: RECEIVECONSTARG def_opts 
		 8: opts[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.7,] 
		 2: BRANCH opts[3.0,2.7,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_4 
		 1: COPY TYPE_PASS def_%v_3 %v_4[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_opts %v_3[5.1,4.1,] 
		 1: 
		 2: (ListController) def_%v_5 
		 3: %v_5->best_period_for def_%v_6 %v_5[6.2,] since[2.6,] 	 SYMBOL:	 ARGS:since,
		 4: COPY TYPE_StringLiteral "_score" def_%v_7 
		 5: BUILDSTRING def_%v_8 %v_6[6.3,] %v_7[6.4,] 
		 6: COPY TYPE_PASS def_score %v_8[6.5,] 
		 7: 
		 8: (Topic) def_%v_9 
		 9: %v_9->visible def_%v_10 %v_9[6.8,] 	 SYMBOL:	 ARGS:
		 10: (Guardian) def_%v_11 
		 11: %v_11->new def_%v_12 %v_11[6.10,] user[2.5,] 	 SYMBOL:	 ARGS:user,
		 12: %v_10->secured def_%v_13 %v_10[6.9,] %v_12[6.11,] 	 SYMBOL:	 ARGS:%v_12,
		 13: COPY TYPE_StringLiteral "LEFT OUTER JOIN topic_users ON topic_users.topic_id = topics.id AND topic_users.user_id = " def_%v_14 
		 14: 
		 15: user->id def_%v_15 user[2.5,] 	 SYMBOL:	 ARGS:
		 16: %v_15->to_i def_%v_16 %v_15[6.15,] 	 SYMBOL:	 ARGS:
		 17: BUILDSTRING def_%v_17 %v_14[6.13,] %v_16[6.16,] 
		 18: %v_13->joins def_%v_18 %v_13[6.12,] %v_17[6.17,] 	 SYMBOL:	 ARGS:%v_17,
		 19: COPY TYPE_StringLiteral "LEFT OUTER JOIN users ON users.id = topics.user_id" def_%v_19 
		 20: %v_18->joins def_%v_20 %v_18[6.18,] %v_19[6.19,] 	 SYMBOL:	 ARGS:%v_19,
		 21: HASH-closed-archived- def_%v_21 
		 22: %v_20->where def_%v_22 %v_20[6.20,] %v_21[6.21,] 	 SYMBOL:	 ARGS:%v_21,
		 23: COPY TYPE_StringLiteral "COALESCE(topic_users.notification_level, 1) <> ?" def_%v_23 
		 24: (TopicUser) def_%v_24 
		 25: %v_24->notification_levels def_%v_25 %v_24[6.24,] 	 SYMBOL:	 ARGS:
		 26: %v_25->[] def_%v_26 %v_25[6.25,] 	 SYMBOL:muted,	 ARGS:Symbol,
		 27: %v_22->where def_%v_27 %v_22[6.22,] %v_23[6.23,] %v_26[6.26,] 	 SYMBOL:	 ARGS:%v_23,%v_26,
		 28: COPY TYPE_StringLiteral "COALESCE(users.trust_level, 0) > 0" def_%v_28 
		 29: %v_27->where def_%v_29 %v_27[6.27,] %v_28[6.28,] 	 SYMBOL:	 ARGS:%v_28,
		 30: %v_29->created_since def_%v_30 %v_29[6.29,] since[2.6,] 	 SYMBOL:	 ARGS:since,
		 31: %v_30->listable_topics def_%v_31 %v_30[6.30,] 	 SYMBOL:	 ARGS:
		 32: %v_31->includes def_%v_32 %v_31[6.31,] 	 SYMBOL:category,	 ARGS:Symbol,
		 33: COPY TYPE_PASS def_topics %v_32[6.32,] 
		 34: 
		 35: opts->[] def_%v_33 opts[6.0,] 	 SYMBOL:top_order,	 ARGS:Symbol,
		 36: %v_33->! def_%v_34 %v_33[6.35,] 	 SYMBOL:	 ARGS:
		 37: %v_34->! def_%v_35 %v_34[6.36,] 	 SYMBOL:	 ARGS:
		 38: BRANCH %v_35[6.37,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "LEFT OUTER JOIN top_topics ON top_topics.topic_id = topics.id" def_%v_36 
		 2: topics->joins def_%v_37 topics[6.33,] %v_36[7.1,] 	 SYMBOL:	 ARGS:%v_36,
		 3: (TopicQuerySQL) def_%v_38 
		 4: %v_38->order_top_for def_%v_39 %v_38[7.3,] score[6.6,] 	 SYMBOL:	 ARGS:score,
		 5: %v_37->order def_%v_40 %v_37[7.2,] %v_39[7.4,] 	 SYMBOL:	 ARGS:%v_39,
		 6: COPY TYPE_PASS def_topics %v_40[7.5,] 
		 7: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_40 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_41 opts[6.0,] 	 SYMBOL:limit,	 ARGS:Symbol,
		 2: BRANCH %v_41[9.1,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_42 opts[6.0,] 	 SYMBOL:limit,	 ARGS:Symbol,
		 2: topics->limit def_%v_43 topics[7.6,6.33,] %v_42[10.1,] 	 SYMBOL:	 ARGS:%v_42,
		 3: COPY TYPE_PASS def_topics %v_43[10.2,] 
		 4: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_43 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: (Category) def_%v_44 
		 2: %v_44->pluck def_%v_45 %v_44[12.1,] 	 SYMBOL:topic_id,	 ARGS:Symbol,
		 3: %v_45->compact! def_%v_46 %v_45[12.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_category_topic_ids %v_46[12.3,] 
		 5: 
		 6: %v_46->present? def_%v_47 %v_46[12.3,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_47[12.6,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.id NOT IN (?)" def_%v_48 
		 2: topics->where def_%v_49 topics[10.3,7.6,6.33,] %v_48[13.1,] category_topic_ids[12.4,] 	 SYMBOL:	 ARGS:%v_48,category_topic_ids,
		 3: COPY TYPE_PASS def_topics %v_49[13.2,] 
		 4: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_49 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: 
		 1: (CategoryUser) def_%v_50 
		 2: user->id def_%v_51 user[2.5,] 	 SYMBOL:	 ARGS:
		 3: (CategoryUser) def_%v_52 
		 4: %v_52->notification_levels def_%v_53 %v_52[15.3,] 	 SYMBOL:	 ARGS:
		 5: %v_53->[] def_%v_54 %v_53[15.4,] 	 SYMBOL:muted,	 ARGS:Symbol,
		 6: HASH-user_id-notification_level- def_%v_55 %v_51[15.2,] %v_54[15.5,] 
		 7: %v_50->where def_%v_56 %v_50[15.1,] %v_55[15.6,] 	 SYMBOL:	 ARGS:%v_55,
		 8: %v_56->pluck def_%v_57 %v_56[15.7,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 9: COPY TYPE_PASS def_muted_category_ids %v_57[15.8,] 
		 10: 
		 11: %v_57->present? def_%v_58 %v_57[15.8,] 	 SYMBOL:	 ARGS:
		 12: BRANCH %v_58[15.11,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.category_id NOT IN (?)" def_%v_59 
		 2: topics->where def_%v_60 topics[13.3,10.3,7.6,6.33,] %v_59[16.1,] muted_category_ids[15.9,] 	 SYMBOL:	 ARGS:%v_59,muted_category_ids,
		 3: COPY TYPE_PASS def_topics %v_60[16.2,] 
		 4: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_60 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: 
		 1: RETURN topics[16.3,13.3,10.3,7.6,6.33,] %self[2.0,] 
BB 19
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = new_since_last_seen instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: RECEIVEARG def_since 
		 7: RECEIVEARG def_featured_topic_ids 
		 8: 
		 9: (Topic) def_%v_3 
		 10: %v_3->for_digest def_%v_4 %v_3[2.9,] user[2.5,] since[2.6,] 	 SYMBOL:	 ARGS:user,since,
		 11: COPY TYPE_PASS def_topics %v_4[2.10,] 
		 12: 
		 13: COPY TYPE_StringLiteral "topics.id NOT IN (?)" def_%v_5 
		 14: %v_4->where def_%v_6 %v_4[2.10,] %v_5[2.13,] featured_topic_ids[2.7,] 	 SYMBOL:	 ARGS:%v_5,featured_topic_ids,
		 15: RETURN %v_6[2.14,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = meta_data= instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_data 
		 6: 
		 7: %self->custom_fields def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->replace def_%v_4 %v_3[2.7,] data[2.5,] 	 SYMBOL:	 ARGS:data,
		 9: RETURN %v_4[2.8,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = meta_data instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->custom_fields def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: RETURN %v_3[2.6,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_meta_data instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_data 
		 6: 
		 7: %self->custom_fields def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->update def_%v_4 %v_3[2.7,] data[2.5,] 	 SYMBOL:	 ARGS:data,
		 9: 
		 10: %self->save def_%v_5 %self[2.0,2.7,] 	 SYMBOL:	 ARGS:
		 11: RETURN %v_5[2.10,] %self[2.0,2.7,2.10,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reload instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_options 
		 6: options[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_options 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->post_numbers 
		 2: 
		 3: %self->super def_%v_3 %current_module[2.3,] options[3.0,2.5,] %v_0[2.1,] 	 SYMBOL:	 ARGS:options,
		 4: RETURN %v_3[4.3,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = post_numbers instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->post_numbers def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->posts def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_6->order def_%v_7 %v_6[5.0,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 2: %v_7->pluck def_%v_8 %v_7[5.1,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 3: ATTRASSIGN %self->post_numbers %v_8[5.2,] 
		 4: RETURN %v_8[5.2,] %self[5.0,5.3,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = age_in_minutes instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Time) def_%v_3 
		 7: %v_3->zone def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->now def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %self->created_at def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 10: %v_5->- def_%v_7 %v_5[2.8,] %v_6[2.9,] 	 SYMBOL:	 ARGS:%v_6,
		 11: CONSTANT def_%v_8 	 SYMBOL:	 ARGS:
		 12: %v_7->/ def_%v_9 %v_7[2.10,] %v_8[2.11,] 	 SYMBOL:	 ARGS:%v_8,
		 13: %v_9->round def_%v_10 %v_9[2.12,] 	 SYMBOL:	 ARGS:
		 14: RETURN %v_10[2.13,] %self[2.0,2.9,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_meta_data_boolean? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_key 
		 6: 
		 7: %self->meta_data_string def_%v_3 %self[2.0,] key[2.5,] 	 SYMBOL:	 ARGS:key,
		 8: COPY TYPE_StringLiteral "true" def_%v_4 
		 9: %v_3->== def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,
		 10: RETURN %v_5[2.9,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = meta_data_string instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_key 
		 6: 
		 7: %self->custom_fields def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: key->to_s def_%v_4 key[2.5,] 	 SYMBOL:	 ARGS:
		 9: %v_3->[] def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,
		 10: RETURN %v_5[2.9,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = listable_count_per_day instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_start_date 
		 6: RECEIVEARG def_end_date 
		 7: RECEIVECONSTARG def_category_id 
		 8: category_id[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_category_id 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->listable_topics def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral "created_at >= ? and created_at <= ?" def_%v_4 
		 3: %v_3->where def_%v_5 %v_3[4.1,] %v_4[4.2,] start_date[2.5,] end_date[2.6,] 	 SYMBOL:	 ARGS:%v_4,start_date,end_date,
		 4: COPY TYPE_PASS def_result %v_5[4.3,] 
		 5: 
		 6: BRANCH category_id[3.0,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: HASH-category_id- def_%v_6 category_id[3.0,2.7,] 
		 1: result->where def_%v_7 result[4.4,] %v_6[5.0,] 	 SYMBOL:	 ARGS:%v_6,
		 2: COPY TYPE_PASS def_result %v_7[5.1,] 
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "date(created_at)" def_%v_8 
		 2: result->group def_%v_9 result[5.2,4.4,] %v_8[7.1,] 	 SYMBOL:	 ARGS:%v_8,
		 3: COPY TYPE_StringLiteral "date(created_at)" def_%v_10 
		 4: %v_9->order def_%v_11 %v_9[7.2,] %v_10[7.3,] 	 SYMBOL:	 ARGS:%v_10,
		 5: %v_11->count def_%v_12 %v_11[7.4,] 	 SYMBOL:	 ARGS:
		 6: RETURN %v_12[7.5,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = private_message? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->archetype def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: (Archetype) def_%v_4 
		 8: %v_4->private_message def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_3->== def_%v_6 %v_3[2.6,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: RETURN %v_6[2.9,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = similar_to instanceMethod = false
BB 1
	outgoing: 17 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_title 
		 6: RECEIVEARG def_raw 
		 7: RECEIVECONSTARG def_user 
		 8: user[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_user 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: title->present? def_%v_3 title[2.5,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_3[4.1,] 
BB 5
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: raw->present? def_%v_6 raw[2.6,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_6[5.2,] 
BB 6
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Array def_%v_5 
		 1: RETURN %v_5[6.0,] %self[2.0,] 
BB 8
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
		 1: 
		 2: (Search) def_%v_9 
		 3: COPY TYPE_StringLiteral " " def_%v_10 
		 4: title->+ def_%v_11 title[2.5,] %v_10[8.3,] 	 SYMBOL:	 ARGS:%v_10,
		 5: (MAX_SIMILAR_BODY_LENGTH) def_%v_13 
		 6: CONSTANT def_%v_12 %v_13[8.5,] 
		 7: raw->[] def_%v_14 raw[2.6,] %v_12[8.6,] 	 SYMBOL:	 ARGS:%v_12,
		 8: %v_11->+ def_%v_15 %v_11[8.4,] %v_14[8.7,] 	 SYMBOL:	 ARGS:%v_14,
		 9: %v_9->prepare_data def_%v_16 %v_9[8.2,] %v_15[8.8,] 	 SYMBOL:	 ARGS:%v_15,
		 10: COPY TYPE_PASS def_filter_words %v_16[8.9,] 
		 11: 
		 12: (Search) def_%v_17 
		 13: COPY TYPE_StringLiteral "|" def_%v_18 
		 14: %v_17->ts_query def_%v_19 %v_17[8.12,] %v_16[8.9,] %v_18[8.13,] 	 SYMBOL:	 ARGS:filter_words,Nil,%v_18,
		 15: COPY TYPE_PASS def_ts_query %v_19[8.14,] 
		 16: 
		 17: (Topic) def_%v_20 
		 18: %v_20->visible def_%v_21 %v_20[8.17,] 	 SYMBOL:	 ARGS:
		 19: (Guardian) def_%v_22 
		 20: %v_22->new def_%v_23 %v_22[8.19,] user[3.0,2.7,] 	 SYMBOL:	 ARGS:user,
		 21: %v_21->secured def_%v_24 %v_21[8.18,] %v_23[8.20,] 	 SYMBOL:	 ARGS:%v_23,
		 22: %v_24->listable_topics def_%v_25 %v_24[8.21,] 	 SYMBOL:	 ARGS:
		 23: COPY TYPE_StringLiteral "JOIN topic_search_data s ON topics.id = s.topic_id" def_%v_26 
		 24: %v_25->joins def_%v_27 %v_25[8.22,] %v_26[8.23,] 	 SYMBOL:	 ARGS:%v_26,
		 25: COPY TYPE_StringLiteral "search_data @@ " def_%v_28 
		 26: 
		 27: BUILDSTRING def_%v_29 %v_28[8.25,] ts_query[8.15,] 
		 28: %v_27->where def_%v_30 %v_27[8.24,] %v_29[8.27,] 	 SYMBOL:	 ARGS:%v_29,
		 29: COPY TYPE_StringLiteral "ts_rank(search_data, " def_%v_31 
		 30: 
		 31: COPY TYPE_StringLiteral ") DESC" def_%v_32 
		 32: BUILDSTRING def_%v_33 %v_31[8.29,] ts_query[8.15,] %v_32[8.31,] 
		 33: %v_30->order def_%v_34 %v_30[8.28,] %v_33[8.32,] 	 SYMBOL:	 ARGS:%v_33,
		 34: (SiteSetting) def_%v_35 
		 35: %v_35->max_similar_results def_%v_36 %v_35[8.34,] 	 SYMBOL:	 ARGS:
		 36: %v_36->* def_%v_37 %v_36[8.35,] 	 SYMBOL:	 ARGS:Fixnum,
		 37: %v_34->limit def_%v_38 %v_34[8.33,] %v_37[8.36,] 	 SYMBOL:	 ARGS:%v_37,
		 38: COPY TYPE_PASS def_candidates %v_38[8.37,] 
		 39: 
		 40: (Category) def_%v_39 
		 41: %v_39->pluck def_%v_40 %v_39[8.40,] 	 SYMBOL:topic_id,	 ARGS:Symbol,
		 42: %v_40->compact! def_%v_41 %v_40[8.41,] 	 SYMBOL:	 ARGS:
		 43: COPY TYPE_PASS def_exclude_topic_ids %v_41[8.42,] 
		 44: 
		 45: %v_41->present? def_%v_42 %v_41[8.42,] 	 SYMBOL:	 ARGS:
		 46: BRANCH %v_42[8.45,] 
BB 9
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Array def_%v_8 
		 1: RETURN %v_8[9.0,] %self[2.0,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.id NOT IN (?)" def_%v_43 
		 2: candidates->where def_%v_44 candidates[8.38,] %v_43[11.1,] exclude_topic_ids[8.43,] 	 SYMBOL:	 ARGS:%v_43,exclude_topic_ids,
		 3: COPY TYPE_PASS def_candidates %v_44[11.2,] 
		 4: 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_44 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
		 1: candidates->pluck def_%v_45 candidates[11.3,8.38,] 	 SYMBOL:id,	 ARGS:Symbol,
		 2: COPY TYPE_PASS def_candidate_ids %v_45[13.1,] 
		 3: 
		 4: %v_45->present? def_%v_46 %v_45[13.1,] 	 SYMBOL:	 ARGS:
		 5: BRANCH %v_46[13.4,] 
BB 14
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_47 
		 1: 
		 2: (Topic) def_%v_49 
		 3: COPY TYPE_StringLiteral "topics.*, similarity(topics.title, :title) + similarity(topics.title, :raw) AS similarity, p.cooked as blurb" def_%v_50 
		 4: HASH-title-raw- def_%v_51 title[2.5,] raw[2.6,] 
		 5: COPY TYPE_Array def_%v_52 %v_50[14.3,] %v_51[14.4,] 
		 6: %self->sanitize_sql_array def_%v_53 %self[2.0,] %v_52[14.5,] 	 SYMBOL:	 ARGS:%v_52,
		 7: %v_49->select def_%v_54 %v_49[14.2,] %v_53[14.6,] 	 SYMBOL:	 ARGS:%v_53,
		 8: COPY TYPE_StringLiteral "JOIN posts AS p ON p.topic_id = topics.id AND p.post_number = 1" def_%v_55 
		 9: %v_54->joins def_%v_56 %v_54[14.7,] %v_55[14.8,] 	 SYMBOL:	 ARGS:%v_55,
		 10: (SiteSetting) def_%v_57 
		 11: %v_57->max_similar_results def_%v_58 %v_57[14.10,] 	 SYMBOL:	 ARGS:
		 12: %v_56->limit def_%v_59 %v_56[14.9,] %v_58[14.11,] 	 SYMBOL:	 ARGS:%v_58,
		 13: COPY TYPE_StringLiteral "topics.id IN (?)" def_%v_60 
		 14: %v_59->where def_%v_61 %v_59[14.12,] %v_60[14.13,] candidate_ids[13.2,] 	 SYMBOL:	 ARGS:%v_60,candidate_ids,
		 15: COPY TYPE_StringLiteral "similarity(topics.title, :title) + similarity(topics.title, :raw) > 0.2" def_%v_62 
		 16: HASH-raw-title- def_%v_63 raw[2.6,] title[2.5,] 
		 17: %v_61->where def_%v_64 %v_61[14.14,] %v_62[14.15,] %v_63[14.16,] 	 SYMBOL:	 ARGS:%v_62,%v_63,
		 18: COPY TYPE_StringLiteral "similarity desc" def_%v_65 
		 19: %v_64->order def_%v_66 %v_64[14.17,] %v_65[14.18,] 	 SYMBOL:	 ARGS:%v_65,
		 20: COPY TYPE_PASS def_similar %v_66[14.19,] 
		 21: 
		 22: RETURN %v_66[14.19,] %self[14.6,2.0,] 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Array def_%v_48 
		 1: RETURN %v_48[15.0,] %self[2.0,] 
BB 17
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_status instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_status 
		 6: RECEIVEARG def_enabled 
		 7: RECEIVEARG def_user 
		 8: RECEIVECONSTARG def_opts 
		 9: opts[2.8,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (TopicStatusUpdate) def_%v_4 
		 2: %v_4->new def_%v_5 %v_4[4.1,] %self[2.0,] user[2.7,] 	 SYMBOL:	 ARGS:%self,user,
		 3: %v_5->update! def_%v_6 %v_5[4.2,] status[2.5,] enabled[2.6,] opts[3.1,2.8,] 	 SYMBOL:	 ARGS:status,enabled,opts,
		 4: 
		 5: (DiscourseEvent) def_%v_7 
		 6: %self->id def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_7->trigger def_%v_9 %v_7[4.5,] %v_8[4.6,] status[2.5,] enabled[2.6,] 	 SYMBOL:topic_status_updated,	 ARGS:Symbol,%v_8,status,enabled,
		 8: RETURN %v_9[4.7,] %self[4.6,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = next_post_number instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_topic_id 
		 6: RECEIVECONSTARG def_reply 
		 7: reply[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Boolean def_reply 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "select coalesce(max(post_number),0) as max from posts where topic_id = ?" def_%v_3 
		 2: %self->exec_sql def_%v_4 %self[2.0,] %v_3[4.1,] topic_id[2.5,] 	 SYMBOL:	 ARGS:%v_3,topic_id,
		 3: %v_4->first def_%v_5 %v_4[4.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral "max" def_%v_6 
		 5: %v_5->[] def_%v_7 %v_5[4.3,] %v_6[4.4,] 	 SYMBOL:	 ARGS:%v_6,
		 6: %v_7->to_i def_%v_8 %v_7[4.5,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_PASS def_highest %v_8[4.6,] 
		 8: 
		 9: BRANCH reply[3.0,2.6,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral ", reply_count = reply_count + 1" def_%v_9 
		 1: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "" def_%v_10 
		 1: COPY TYPE_PASS def_%v_9 %v_10[6.0,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_reply_sql %v_9[6.1,5.0,] 
		 1: 
		 2: COPY TYPE_StringLiteral "UPDATE topics SET highest_post_number = ? + 1" def_%v_11 
		 3: COPY TYPE_StringLiteral "
                       WHERE id = ? RETURNING highest_post_number" def_%v_12 
		 4: BUILDSTRING def_%v_13 %v_11[7.2,] %v_9[6.1,5.0,] %v_12[7.3,] 
		 5: %self->exec_sql def_%v_14 %self[2.0,] %v_13[7.4,] highest[4.7,] topic_id[2.5,] 	 SYMBOL:	 ARGS:%v_13,highest,topic_id,
		 6: COPY TYPE_PASS def_result %v_14[7.5,] 
		 7: 
		 8: %v_14->first def_%v_15 %v_14[7.5,] 	 SYMBOL:	 ARGS:
		 9: COPY TYPE_StringLiteral "highest_post_number" def_%v_16 
		 10: %v_15->[] def_%v_17 %v_15[7.8,] %v_16[7.9,] 	 SYMBOL:	 ARGS:%v_16,
		 11: %v_17->to_i def_%v_18 %v_17[7.10,] 	 SYMBOL:	 ARGS:
		 12: RETURN %v_18[7.11,] %self[7.5,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reset_highest instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_topic_id 
		 6: 
		 7: COPY TYPE_StringLiteral "UPDATE topics
                        SET highest_post_number = (SELECT COALESCE(MAX(post_number), 0) FROM posts WHERE topic_id = :topic_id AND deleted_at IS NULL),
                            posts_count = (SELECT count(*) FROM posts WHERE deleted_at IS NULL AND topic_id = :topic_id),
                            last_posted_at = (SELECT MAX(created_at) FROM POSTS WHERE topic_id = :topic_id AND deleted_at IS NULL)
                        WHERE id = :topic_id
                        RETURNING highest_post_number" def_%v_3 
		 8: HASH-topic_id- def_%v_4 topic_id[2.5,] 
		 9: %self->exec_sql def_%v_5 %self[2.0,] %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_3,%v_4,
		 10: COPY TYPE_PASS def_result %v_5[2.9,] 
		 11: 
		 12: %v_5->first def_%v_6 %v_5[2.9,] 	 SYMBOL:	 ARGS:
		 13: COPY TYPE_StringLiteral "highest_post_number" def_%v_7 
		 14: %v_6->[] def_%v_8 %v_6[2.12,] %v_7[2.13,] 	 SYMBOL:	 ARGS:%v_7,
		 15: %v_8->to_i def_%v_9 %v_8[2.14,] 	 SYMBOL:	 ARGS:
		 16: COPY TYPE_PASS def_highest_post_number %v_9[2.15,] 
		 17: 
		 18: COPY TYPE_StringLiteral "UPDATE topic_users
              SET last_read_post_number = CASE
                                          WHEN last_read_post_number > :highest THEN :highest
                                          ELSE last_read_post_number
                                          END,
                  highest_seen_post_number = CASE
                                    WHEN highest_seen_post_number > :highest THEN :highest
                                    ELSE highest_seen_post_number
                                    END
              WHERE topic_id = :topic_id" def_%v_10 
		 19: HASH-highest-topic_id- def_%v_11 %v_9[2.15,] topic_id[2.5,] 
		 20: %self->exec_sql def_%v_12 %self[2.0,2.9,] %v_10[2.18,] %v_11[2.19,] 	 SYMBOL:	 ARGS:%v_10,%v_11,
		 21: RETURN %v_12[2.20,] %self[2.0,2.9,2.20,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = calculate_avg_time instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_min_topic_age 
		 6: min_topic_age[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_min_topic_age 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (SqlBuilder) def_%v_3 
		 2: COPY TYPE_StringLiteral "UPDATE topics
              SET avg_time = x.gmean
              FROM (SELECT topic_id,
                           round(exp(avg(ln(avg_time)))) AS gmean
                    FROM posts
                    WHERE avg_time > 0 AND avg_time IS NOT NULL
                    GROUP BY topic_id) AS x
              /*where*/" def_%v_4 
		 3: %v_3->new def_%v_5 %v_3[4.1,] %v_4[4.2,] 	 SYMBOL:	 ARGS:%v_4,
		 4: COPY TYPE_PASS def_builder %v_5[4.3,] 
		 5: 
		 6: COPY TYPE_StringLiteral "x.topic_id = topics.id AND
                  (topics.avg_time <> x.gmean OR topics.avg_time IS NULL)" def_%v_6 
		 7: %v_5->where def_%v_7 %v_5[4.3,] %v_6[4.6,] 	 SYMBOL:	 ARGS:%v_6,
		 8: 
		 9: BRANCH min_topic_age[3.0,2.5,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.bumped_at > :bumped_at" def_%v_8 
		 2: HASH-bumped_at- def_%v_9 min_topic_age[3.0,2.5,] 
		 3: builder->where def_%v_10 builder[4.4,] %v_8[5.1,] %v_9[5.2,] 	 SYMBOL:	 ARGS:%v_8,%v_9,
		 4: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: builder->exec def_%v_11 builder[4.4,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_11[7.1,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = changed_to_category instanceMethod = true
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_new_category 
		 6: 
		 7: new_category->blank? def_%v_3 new_category[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: (Category) def_%v_4 
		 1: %self->id def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: HASH-topic_id- def_%v_6 %v_5[3.1,] 
		 3: %v_4->find_by def_%v_7 %v_4[3.0,] %v_6[3.2,] 	 SYMBOL:	 ARGS:%v_6,
		 4: %v_7->present? def_%v_8 %v_7[3.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_PASS def_%v_3 %v_8[3.4,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.5,2.7,] 
BB 5
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
		 1: 
		 2: new_category->id def_%v_10 new_category[2.5,] 	 SYMBOL:	 ARGS:
		 3: (SiteSetting) def_%v_11 
		 4: %v_11->uncategorized_category_id def_%v_12 %v_11[6.3,] 	 SYMBOL:	 ARGS:
		 5: %v_10->== def_%v_13 %v_10[6.2,] %v_12[6.4,] 	 SYMBOL:	 ARGS:%v_12,
		 6: BRANCH %v_13[6.5,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_14 
		 1: %v_14->allow_uncategorized_topics def_%v_15 %v_14[8.0,] 	 SYMBOL:	 ARGS:
		 2: %v_15->! def_%v_16 %v_15[8.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_13 %v_16[8.2,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_13[8.3,6.5,] 
BB 10
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_17 
		 1: 
		 2: (Topic) def_%v_18 
		 3: %v_18->transaction def_%v_19 %v_18[11.2,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_18,
CLOSURE BEGIN: %self[2.0,] new_category[2.5,] old_category[] 
BB 1
	outgoing: 20 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 8 18 
	datadep: 
	instructions:
		 0: 
		 1: %self->category def_%cl_1_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_old_category %cl_1_3[3.1,] 
		 3: 
		 4: %self->category_id def_%cl_1_4 %self[3.1,2.0,] 	 SYMBOL:	 ARGS:
		 5: new_category->id def_%cl_1_5 new_category[] 	 SYMBOL:	 ARGS:
		 6: %cl_1_4->!= def_%cl_1_6 %cl_1_4[3.4,] %cl_1_5[3.5,] 	 SYMBOL:	 ARGS:%cl_1_5,
		 7: BRANCH %cl_1_6[3.6,] 
BB 4
	outgoing: 5 6 18 
	datadep: 
	instructions:
		 0: 
		 1: new_category->id def_%cl_1_7 new_category[] 	 SYMBOL:	 ARGS:
		 2: ATTRASSIGN %self->category_id %cl_1_7[4.1,] 
		 3: 
		 4: new_category->id def_%cl_1_8 new_category[4.1,] 	 SYMBOL:	 ARGS:
		 5: %self->update_column def_%cl_1_9 %self[4.2,2.0,] %cl_1_8[4.4,] 	 SYMBOL:category_id,	 ARGS:Symbol,%cl_1_8,
		 6: 
		 7: BRANCH old_category[3.2,] 
BB 5
	outgoing: 7 18 
	datadep: 
	instructions:
		 0: (Category) def_%cl_1_10 
		 1: old_category->id def_%cl_1_11 old_category[3.2,] 	 SYMBOL:	 ARGS:
		 2: HASH-id- def_%cl_1_12 %cl_1_11[5.1,] 
		 3: %cl_1_10->where def_%cl_1_13 %cl_1_10[5.0,] %cl_1_12[5.2,] 	 SYMBOL:	 ARGS:%cl_1_12,
		 4: COPY TYPE_StringLiteral "topic_count = topic_count - 1" def_%cl_1_14 
		 5: %cl_1_13->update_all def_%cl_1_15 %cl_1_13[5.3,] %cl_1_14[5.4,] 	 SYMBOL:	 ARGS:%cl_1_14,
		 6: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_15 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_15 
BB 9
	outgoing: 10 11 18 
	datadep: 
	instructions:
		 0: 
		 1: (Category) def_%cl_1_16 
		 2: new_category->id def_%cl_1_17 new_category[] 	 SYMBOL:	 ARGS:
		 3: HASH-id- def_%cl_1_18 %cl_1_17[9.2,] 
		 4: %cl_1_16->where def_%cl_1_19 %cl_1_16[9.1,] %cl_1_18[9.3,] 	 SYMBOL:	 ARGS:%cl_1_18,
		 5: COPY TYPE_StringLiteral "topic_count = topic_count + 1" def_%cl_1_20 
		 6: %cl_1_19->update_all def_%cl_1_21 %cl_1_19[9.4,] %cl_1_20[9.5,] 	 SYMBOL:	 ARGS:%cl_1_20,
		 7: 
		 8: GETFIELD %self->import_mode def_%cl_1_22 %self[2.0,] 
		 9: BRANCH %cl_1_22[9.8,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_23 
		 1: 
BB 11
	outgoing: 12 18 
	datadep: 
	instructions:
		 0: (CategoryFeaturedTopic) def_%cl_1_24 
		 1: %cl_1_24->feature_topics_for def_%cl_1_25 %cl_1_24[11.0,] old_category[3.2,] 	 SYMBOL:	 ARGS:old_category,
		 2: COPY TYPE_PASS def_%cl_1_23 %cl_1_25[11.1,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: GETFIELD %self->import_mode def_%cl_1_26 %self[2.0,] 
		 1: BRANCH %cl_1_26[12.0,] 
BB 13
	outgoing: 14 18 
	datadep: 
	instructions:
		 0: old_category->id def_%cl_1_27 old_category[3.2,] 	 SYMBOL:	 ARGS:
		 1: new_category->id def_%cl_1_28 new_category[] 	 SYMBOL:	 ARGS:
		 2: %cl_1_27->== def_%cl_1_29 %cl_1_27[13.0,] %cl_1_28[13.1,] 	 SYMBOL:	 ARGS:%cl_1_28,
		 3: COPY TYPE_PASS def_%cl_1_26 %cl_1_29[13.2,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_26[13.3,12.0,] 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_30 
		 1: 
BB 16
	outgoing: 17 18 
	datadep: 
	instructions:
		 0: (CategoryFeaturedTopic) def_%cl_1_31 
		 1: %cl_1_31->feature_topics_for def_%cl_1_32 %cl_1_31[16.0,] new_category[] 	 SYMBOL:	 ARGS:new_category,
		 2: COPY TYPE_PASS def_%cl_1_30 %cl_1_32[16.1,] 
BB 17
	outgoing: 18 20 
	datadep: 
	instructions:
		 0: 
		 1: (CategoryUser) def_%cl_1_33 
		 2: %cl_1_33->auto_watch_new_topic def_%cl_1_34 %cl_1_33[17.1,] %self[2.0,4.2,] new_category[] 	 SYMBOL:	 ARGS:%self,new_category,
		 3: 
		 4: (CategoryUser) def_%cl_1_35 
		 5: %cl_1_35->auto_track_new_topic def_%cl_1_36 %cl_1_35[17.4,] %self[2.0,4.2,] new_category[] 	 SYMBOL:	 ARGS:%self,new_category,
		 6: RETURN %cl_1_36[17.5,] %self[2.0,4.2,] 
BB 18
	outgoing: 20 
	datadep: 
	instructions:
		 0: def_%cl_1_37 
		 1: def_%cl_1_38 %cl_1_37[18.0,] 
		 2: RETURN %cl_1_38[18.1,] %self[4.2,2.0,] 
BB 20
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 4: 
		 5: RETURN %self[2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = add_small_action instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: RECEIVEARG def_action_code 
		 7: RECEIVECONSTARG def_who 
		 8: who[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_who 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: HASH- def_%v_3 
		 2: COPY TYPE_PASS def_custom_fields %v_3[4.1,] 
		 3: 
		 4: who->present? def_%v_4 who[3.0,2.7,] 	 SYMBOL:	 ARGS:
		 5: BRANCH %v_4[4.4,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "action_code_who" def_%v_5 
		 1: ATTRASSIGN custom_fields->[] %v_5[5.0,] who[3.0,2.7,] 
		 2: COPY TYPE_PASS def_%v_6 who[3.0,2.7,] 
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_7 
		 2: %v_7->types def_%v_8 %v_7[7.1,] 	 SYMBOL:	 ARGS:
		 3: %v_8->[] def_%v_9 %v_8[7.2,] 	 SYMBOL:small_action,	 ARGS:Symbol,
		 4: HASH-post_type-action_code-custom_fields- def_%v_10 %v_9[7.3,] action_code[2.6,] custom_fields[5.1,4.2,] 
		 5: %self->add_moderator_post def_%v_11 %self[2.0,] user[2.5,] %v_10[7.4,] 	 SYMBOL:	 ARGS:user,Nil,%v_10,
		 6: RETURN %v_11[7.5,] %self[7.5,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = add_moderator_post instanceMethod = true
BB 1
	outgoing: 18 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: RECEIVEARG def_text 
		 7: RECEIVECONSTARG def_opts 
		 8: opts[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.7,] 
		 2: COPY TYPE_PASS def_%v_4 opts[3.0,2.7,] 
		 3: BRANCH opts[3.0,2.7,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_5 
		 1: COPY TYPE_PASS def_opts %v_5[5.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Nil def_new_post 
		 2: 
		 3: (PostCreator) def_%v_6 
		 4: opts->[] def_%v_7 opts[5.1,3.0,2.7,] 	 SYMBOL:post_type,	 ARGS:Symbol,
		 5: BRANCH %v_7[6.4,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: (Post) def_%v_8 
		 1: %v_8->types def_%v_9 %v_8[7.0,] 	 SYMBOL:	 ARGS:
		 2: %v_9->[] def_%v_10 %v_9[7.1,] 	 SYMBOL:moderator_action,	 ARGS:Symbol,
		 3: COPY TYPE_PASS def_%v_7 %v_10[7.2,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: opts->[] def_%v_11 opts[5.1,3.0,2.7,] 	 SYMBOL:action_code,	 ARGS:Symbol,
		 1: opts->[] def_%v_12 opts[8.0,5.1,3.0,2.7,] 	 SYMBOL:bump,	 ARGS:Symbol,
		 2: %v_12->blank? def_%v_13 %v_12[8.1,] 	 SYMBOL:	 ARGS:
		 3: opts->[] def_%v_14 opts[8.0,8.1,5.1,3.0,2.7,] 	 SYMBOL:skip_notifications,	 ARGS:Symbol,
		 4: %self->id def_%v_15 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: opts->[] def_%v_16 opts[8.0,8.1,8.3,5.1,3.0,2.7,] 	 SYMBOL:custom_fields,	 ARGS:Symbol,
		 6: HASH-raw-post_type-action_code-no_bump-skip_notifications-topic_id-skip_validations-custom_fields- def_%v_17 text[2.6,] %v_7[7.3,6.4,] %v_11[8.0,] %v_13[8.2,] %v_14[8.3,] %v_15[8.4,] %v_16[8.5,] 
		 7: %v_6->new def_%v_18 %v_6[6.3,] user[2.5,] %v_17[8.6,] 	 SYMBOL:	 ARGS:user,%v_17,
		 8: COPY TYPE_PASS def_creator %v_18[8.7,] 
		 9: 
		 10: %v_18->create def_%v_19 %v_18[8.7,] 	 SYMBOL:	 ARGS:
		 11: COPY TYPE_PASS def_new_post %v_19[8.10,] 
		 12: 
		 13: %v_19->persisted? def_%v_20 %v_19[8.10,] 	 SYMBOL:	 ARGS:
		 14: BRANCH %v_20[8.13,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: %self->increment! def_%v_21 %self[2.0,] 	 SYMBOL:moderator_posts_count,	 ARGS:Symbol,
		 1: 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_21 
BB 11
	outgoing: 12 16 
	datadep: 
	instructions:
		 0: 
		 1: new_post->present? def_%v_22 new_post[8.11,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_22[11.1,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_23 opts[5.1,3.0,2.7,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 2: %v_23->present? def_%v_24 %v_23[12.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_24[12.2,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: opts->[] def_%v_25 opts[5.1,3.0,2.7,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 1: opts->[] def_%v_26 opts[13.0,5.1,3.0,2.7,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 2: HASH-post_number-sort_order- def_%v_27 %v_25[13.0,] %v_26[13.1,] 
		 3: new_post->update_attributes def_%v_28 new_post[8.11,] %v_27[13.2,] 	 SYMBOL:	 ARGS:%v_27,
		 4: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_28 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: (TopicLink) def_%v_29 
		 2: %v_29->extract_from def_%v_30 %v_29[15.1,] new_post[8.11,] 	 SYMBOL:	 ARGS:new_post,
		 3: 
		 4: (QuotedPost) def_%v_31 
		 5: %v_31->extract_from def_%v_32 %v_31[15.4,] new_post[8.11,] 	 SYMBOL:	 ARGS:new_post,
		 6: 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_32 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: RETURN new_post[8.11,] %self[2.0,] 
BB 18
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = change_category_to_id instanceMethod = true
BB 1
	outgoing: 15 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_category_id 
		 6: 
		 7: %self->private_message? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 15 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: category_id->to_i def_%v_5 category_id[2.5,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_new_category_id %v_5[4.2,] 
		 4: 
		 5: %v_5->== def_%v_6 %v_5[4.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 6: BRANCH %v_6[4.5,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_7 
		 1: %v_7->uncategorized_category_id def_%v_8 %v_7[6.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_new_category_id %v_8[6.1,] 
		 3: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
		 1: %self->category_id def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_9->== def_%v_10 %v_9[8.1,] new_category_id[6.2,4.3,] 	 SYMBOL:	 ARGS:new_category_id,
		 3: BRANCH %v_10[8.2,] 
BB 9
	outgoing: 15 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 10
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
		 1: 
		 2: (Category) def_%v_12 
		 3: HASH-id- def_%v_13 new_category_id[6.2,4.3,] 
		 4: %v_12->find_by def_%v_14 %v_12[10.2,] %v_13[10.3,] 	 SYMBOL:	 ARGS:%v_13,
		 5: COPY TYPE_PASS def_cat %v_14[10.4,] 
		 6: 
		 7: BRANCH %v_14[10.4,] 
BB 12
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_15 
		 1: 
		 2: %self->changed_to_category def_%v_16 %self[2.0,] cat[10.5,] 	 SYMBOL:	 ARGS:cat,
		 3: RETURN %v_16[12.2,] %self[12.2,2.0,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 15
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = remove_allowed_user instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 7 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_removed_by 
		 6: RECEIVEARG def_username 
		 7: 
		 8: (User) def_%v_3 
		 9: HASH-username- def_%v_4 username[2.6,] 
		 10: %v_3->find_by def_%v_5 %v_3[2.8,] %v_4[2.9,] 	 SYMBOL:	 ARGS:%v_4,
		 11: COPY TYPE_PASS def_user %v_5[2.10,] 
		 12: BRANCH %v_5[2.10,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->topic_allowed_users def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: user->id def_%v_7 user[2.11,] 	 SYMBOL:	 ARGS:
		 3: HASH-user_id- def_%v_8 %v_7[3.2,] 
		 4: %v_6->find_by def_%v_9 %v_6[3.1,] %v_8[3.3,] 	 SYMBOL:	 ARGS:%v_8,
		 5: COPY TYPE_PASS def_topic_user %v_9[3.4,] 
		 6: 
		 7: BRANCH %v_9[3.4,] 
BB 4
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: topic_user->destroy def_%v_10 topic_user[3.5,] 	 SYMBOL:	 ARGS:
		 2: 
		 3: COPY TYPE_StringLiteral "removed_user" def_%v_11 
		 4: user->username def_%v_12 user[2.11,] 	 SYMBOL:	 ARGS:
		 5: %self->add_small_action def_%v_13 %self[2.0,] removed_by[2.5,] %v_11[4.3,] %v_12[4.4,] 	 SYMBOL:	 ARGS:removed_by,%v_11,%v_12,
		 6: 
		 7: RETURN %self[4.5,2.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
		 1: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = invite instanceMethod = true
BB 1
	outgoing: 35 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_invited_by 
		 6: RECEIVEARG def_username_or_email 
		 7: RECEIVECONSTARG def_group_ids 
		 8: group_ids[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_group_ids 
BB 4
	outgoing: 5 16 
	datadep: 
	instructions:
		 0: 
		 1: %self->private_message? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_3[4.1,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: (User) def_%v_4 
		 2: %v_4->find_by_username_or_email def_%v_5 %v_4[5.1,] username_or_email[2.6,] 	 SYMBOL:	 ARGS:username_or_email,
		 3: COPY TYPE_PASS def_user %v_5[5.2,] 
		 4: 
		 5: %v_5->present? def_%v_6 %v_5[5.2,] 	 SYMBOL:	 ARGS:
		 6: BRANCH %v_6[5.5,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->topic_allowed_users def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: user->id def_%v_8 user[5.3,] 	 SYMBOL:	 ARGS:
		 2: HASH-user_id- def_%v_9 %v_8[6.1,] 
		 3: %v_7->where def_%v_10 %v_7[6.0,] %v_9[6.2,] 	 SYMBOL:	 ARGS:%v_9,
		 4: %v_10->exists? def_%v_11 %v_10[6.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_PASS def_%v_6 %v_11[6.4,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: BRANCH %v_6[6.5,5.5,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: (StandardError) def_%v_12 
		 1: (I18n) def_%v_13 
		 2: COPY TYPE_StringLiteral "topic_invite.user_exists" def_%v_14 
		 3: %v_13->t def_%v_15 %v_13[8.1,] %v_14[8.2,] 	 SYMBOL:	 ARGS:%v_14,
		 4: %v_12->new def_%v_16 %v_12[8.0,] %v_15[8.3,] 	 SYMBOL:	 ARGS:%v_15,
		 5: %self->raise def_%v_17 %self[2.0,] %v_16[8.4,] 	 SYMBOL:	 ARGS:%v_16,
		 6: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_17 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_18 user[5.3,] 
		 2: BRANCH user[5.3,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: %self->topic_allowed_users def_%v_19 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: user->id def_%v_20 user[5.3,] 	 SYMBOL:	 ARGS:
		 2: HASH-user_id- def_%v_21 %v_20[11.1,] 
		 3: %v_19->create! def_%v_22 %v_19[11.0,] %v_21[11.2,] 	 SYMBOL:	 ARGS:%v_21,
		 4: COPY TYPE_PASS def_%v_18 %v_22[11.3,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: BRANCH %v_18[11.4,10.1,] 
BB 13
	outgoing: 35 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "invited_user" def_%v_23 
		 2: user->username def_%v_24 user[5.3,] 	 SYMBOL:	 ARGS:
		 3: %self->add_small_action def_%v_25 %self[2.0,] invited_by[2.5,] %v_23[13.1,] %v_24[13.2,] 	 SYMBOL:	 ARGS:invited_by,%v_23,%v_24,
		 4: 
		 5: user->notifications def_%v_26 user[13.2,5.3,] 	 SYMBOL:	 ARGS:
		 6: (Notification) def_%v_27 
		 7: %v_27->types def_%v_28 %v_27[13.6,] 	 SYMBOL:	 ARGS:
		 8: %v_28->[] def_%v_29 %v_28[13.7,] 	 SYMBOL:invited_to_private_message,	 ARGS:Symbol,
		 9: %self->id def_%v_30 %self[13.3,2.0,] 	 SYMBOL:	 ARGS:
		 10: %self->title def_%v_31 %self[13.3,13.9,2.0,] 	 SYMBOL:	 ARGS:
		 11: invited_by->username def_%v_32 invited_by[2.5,] 	 SYMBOL:	 ARGS:
		 12: HASH-topic_title-display_username- def_%v_33 %v_31[13.10,] %v_32[13.11,] 
		 13: %v_33->to_json def_%v_34 %v_33[13.12,] 	 SYMBOL:	 ARGS:
		 14: HASH-notification_type-topic_id-post_number-data- def_%v_35 %v_29[13.8,] %v_30[13.9,] %v_34[13.13,] 
		 15: %v_26->create def_%v_36 %v_26[13.5,] %v_35[13.14,] 	 SYMBOL:	 ARGS:%v_35,
		 16: 
		 17: RETURN %self[13.3,13.9,13.10,2.0,] 
BB 14
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_37 
		 1: 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_37 
BB 17
	outgoing: 18 19 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Regexp def_%v_38 
		 2: username_or_email->=~ def_%v_39 username_or_email[2.6,] 	 SYMBOL:	 ARGS:%v_38,
		 3: BRANCH %v_39[17.2,] 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_40 
		 1: %v_40->enable_sso def_%v_41 %v_40[18.0,] 	 SYMBOL:	 ARGS:
		 2: %v_41->! def_%v_42 %v_41[18.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_39 %v_42[18.2,] 
BB 19
	outgoing: 20 21 
	datadep: 
	instructions:
		 0: BRANCH %v_39[18.3,17.2,] 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_43 
		 1: %v_43->enable_local_logins def_%v_44 %v_43[20.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_39 %v_44[20.1,] 
BB 21
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: BRANCH %v_39[20.2,18.3,17.2,] 
BB 22
	outgoing: 35 
	datadep: 
	instructions:
		 0: 
		 1: (RateLimiter) def_%v_45 
		 2: COPY TYPE_StringLiteral "topic-invitations-per-day" def_%v_46 
		 3: (SiteSetting) def_%v_47 
		 4: %v_47->max_topic_invitations_per_day def_%v_48 %v_47[22.3,] 	 SYMBOL:	 ARGS:
		 5: CONSTANT def_%v_49 	 SYMBOL:	 ARGS:
		 6: %v_49->to_i def_%v_50 %v_49[22.5,] 	 SYMBOL:	 ARGS:
		 7: %v_45->new def_%v_51 %v_45[22.1,] invited_by[2.5,] %v_46[22.2,] %v_48[22.4,] %v_50[22.6,] 	 SYMBOL:	 ARGS:invited_by,%v_46,%v_48,%v_50,
		 8: %v_51->performed! def_%v_52 %v_51[22.7,] 	 SYMBOL:	 ARGS:
		 9: 
		 10: %self->invite_by_email def_%v_53 %self[2.0,] invited_by[2.5,] username_or_email[2.6,] group_ids[3.0,2.7,] 	 SYMBOL:	 ARGS:invited_by,username_or_email,group_ids,
		 11: RETURN %v_53[22.10,] %self[22.10,2.0,] 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: 
		 1: (User) def_%v_54 
		 2: %v_54->find_by_username def_%v_55 %v_54[23.1,] username_or_email[2.6,] 	 SYMBOL:	 ARGS:username_or_email,
		 3: COPY TYPE_PASS def_user %v_55[23.2,] 
		 4: 
		 5: %v_55->present? def_%v_56 %v_55[23.2,] 	 SYMBOL:	 ARGS:
		 6: BRANCH %v_56[23.5,] 
BB 24
	outgoing: 25 
	datadep: 
	instructions:
		 0: %self->topic_allowed_users def_%v_57 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: user->id def_%v_58 user[23.3,] 	 SYMBOL:	 ARGS:
		 2: HASH-user_id- def_%v_59 %v_58[24.1,] 
		 3: %v_57->where def_%v_60 %v_57[24.0,] %v_59[24.2,] 	 SYMBOL:	 ARGS:%v_59,
		 4: %v_60->exists? def_%v_61 %v_60[24.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_PASS def_%v_56 %v_61[24.4,] 
BB 25
	outgoing: 26 27 
	datadep: 
	instructions:
		 0: BRANCH %v_56[24.5,23.5,] 
BB 26
	outgoing: 28 
	datadep: 
	instructions:
		 0: (StandardError) def_%v_62 
		 1: (I18n) def_%v_63 
		 2: COPY TYPE_StringLiteral "topic_invite.user_exists" def_%v_64 
		 3: %v_63->t def_%v_65 %v_63[26.1,] %v_64[26.2,] 	 SYMBOL:	 ARGS:%v_64,
		 4: %v_62->new def_%v_66 %v_62[26.0,] %v_65[26.3,] 	 SYMBOL:	 ARGS:%v_65,
		 5: %self->raise def_%v_67 %self[2.0,] %v_66[26.4,] 	 SYMBOL:	 ARGS:%v_66,
		 6: 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_67 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_68 user[23.3,] 
		 2: BRANCH user[23.3,] 
BB 29
	outgoing: 30 
	datadep: 
	instructions:
		 0: %self->topic_allowed_users def_%v_69 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: user->id def_%v_70 user[23.3,] 	 SYMBOL:	 ARGS:
		 2: HASH-user_id- def_%v_71 %v_70[29.1,] 
		 3: %v_69->create! def_%v_72 %v_69[29.0,] %v_71[29.2,] 	 SYMBOL:	 ARGS:%v_71,
		 4: COPY TYPE_PASS def_%v_68 %v_72[29.3,] 
BB 30
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: BRANCH %v_68[29.4,28.1,] 
BB 31
	outgoing: 35 
	datadep: 
	instructions:
		 0: 
		 1: (RateLimiter) def_%v_73 
		 2: COPY TYPE_StringLiteral "topic-invitations-per-day" def_%v_74 
		 3: (SiteSetting) def_%v_75 
		 4: %v_75->max_topic_invitations_per_day def_%v_76 %v_75[31.3,] 	 SYMBOL:	 ARGS:
		 5: CONSTANT def_%v_77 	 SYMBOL:	 ARGS:
		 6: %v_77->to_i def_%v_78 %v_77[31.5,] 	 SYMBOL:	 ARGS:
		 7: %v_73->new def_%v_79 %v_73[31.1,] invited_by[2.5,] %v_74[31.2,] %v_76[31.4,] %v_78[31.6,] 	 SYMBOL:	 ARGS:invited_by,%v_74,%v_76,%v_78,
		 8: %v_79->performed! def_%v_80 %v_79[31.7,] 	 SYMBOL:	 ARGS:
		 9: 
		 10: user->notifications def_%v_81 user[23.3,] 	 SYMBOL:	 ARGS:
		 11: (Notification) def_%v_82 
		 12: %v_82->types def_%v_83 %v_82[31.11,] 	 SYMBOL:	 ARGS:
		 13: %v_83->[] def_%v_84 %v_83[31.12,] 	 SYMBOL:invited_to_topic,	 ARGS:Symbol,
		 14: %self->id def_%v_85 %self[2.0,] 	 SYMBOL:	 ARGS:
		 15: %self->title def_%v_86 %self[31.14,2.0,] 	 SYMBOL:	 ARGS:
		 16: invited_by->username def_%v_87 invited_by[2.5,] 	 SYMBOL:	 ARGS:
		 17: HASH-topic_title-display_username- def_%v_88 %v_86[31.15,] %v_87[31.16,] 
		 18: %v_88->to_json def_%v_89 %v_88[31.17,] 	 SYMBOL:	 ARGS:
		 19: HASH-notification_type-topic_id-post_number-data- def_%v_90 %v_84[31.13,] %v_85[31.14,] %v_89[31.18,] 
		 20: %v_81->create def_%v_91 %v_81[31.10,] %v_90[31.19,] 	 SYMBOL:	 ARGS:%v_90,
		 21: 
		 22: RETURN %self[31.14,31.15,2.0,] 
BB 32
	outgoing: 35 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Boolean def_%v_92 
		 2: RETURN %v_92[32.1,] %self[2.0,] 
BB 35
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = invite_by_email instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_invited_by 
		 6: RECEIVEARG def_email 
		 7: RECEIVECONSTARG def_group_ids 
		 8: group_ids[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_group_ids 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (Invite) def_%v_3 
		 2: %v_3->invite_by_email def_%v_4 %v_3[4.1,] email[2.6,] invited_by[2.5,] %self[2.0,] group_ids[3.0,2.7,] 	 SYMBOL:	 ARGS:email,invited_by,%self,group_ids,
		 3: RETURN %v_4[4.2,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = email_already_exists_for? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_invite 
		 6: 
		 7: invite->email_already_exists def_%v_3 invite[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->private_message? def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_4[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_3[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = grant_permission_to_user instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_lower_email 
		 6: 
		 7: (User) def_%v_3 
		 8: HASH-email- def_%v_4 lower_email[2.5,] 
		 9: %v_3->find_by def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,
		 10: COPY TYPE_PASS def_user %v_5[2.9,] 
		 11: 
		 12: %self->topic_allowed_users def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 13: user->id def_%v_7 user[2.10,] 	 SYMBOL:	 ARGS:
		 14: HASH-user_id- def_%v_8 %v_7[2.13,] 
		 15: %v_6->create! def_%v_9 %v_6[2.12,] %v_8[2.14,] 	 SYMBOL:	 ARGS:%v_8,
		 16: RETURN %v_9[2.15,] %self[2.0,2.12,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = max_post_number instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->with_deleted def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->maximum def_%v_5 %v_4[2.7,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 9: %v_5->to_i def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:
		 10: RETURN %v_6[2.9,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = move_posts instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_moved_by 
		 6: RECEIVEARG def_post_ids 
		 7: RECEIVEARG def_opts 
		 8: 
		 9: (PostMover) def_%v_3 
		 10: %v_3->new def_%v_4 %v_3[2.9,] %self[2.0,] moved_by[2.5,] post_ids[2.6,] 	 SYMBOL:	 ARGS:%self,moved_by,post_ids,
		 11: COPY TYPE_PASS def_post_mover %v_4[2.10,] 
		 12: 
		 13: opts->[] def_%v_5 opts[2.7,] 	 SYMBOL:destination_topic_id,	 ARGS:Symbol,
		 14: BRANCH %v_5[2.13,] 
BB 3
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_6 opts[2.7,] 	 SYMBOL:destination_topic_id,	 ARGS:Symbol,
		 2: post_mover->to_topic def_%v_7 post_mover[2.11,] %v_6[3.1,] 	 SYMBOL:	 ARGS:%v_6,
		 3: RETURN %v_7[3.2,] %self[2.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_8 opts[2.7,] 	 SYMBOL:title,	 ARGS:Symbol,
		 2: BRANCH %v_8[4.1,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_9 opts[2.7,] 	 SYMBOL:title,	 ARGS:Symbol,
		 2: opts->[] def_%v_10 opts[5.1,2.7,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 3: post_mover->to_new_topic def_%v_11 post_mover[2.11,] %v_9[5.1,] %v_10[5.2,] 	 SYMBOL:	 ARGS:%v_9,%v_10,
		 4: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %v_11[6.0,5.3,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_statistics instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->feature_topic_users def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: 
		 8: %self->update_action_counts def_%v_4 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 9: 
		 10: (Topic) def_%v_5 
		 11: %self->id def_%v_6 %self[2.0,2.6,2.8,] 	 SYMBOL:	 ARGS:
		 12: %v_5->reset_highest def_%v_7 %v_5[2.10,] %v_6[2.11,] 	 SYMBOL:	 ARGS:%v_6,
		 13: RETURN %v_7[2.12,] %self[2.0,2.6,2.8,2.11,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_flagged_posts_count instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (PostAction) def_%v_3 
		 7: %v_3->update_flagged_posts_count def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_action_counts instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (PostActionType) def_%v_3 
		 7: %v_3->types def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->each_key def_%v_5 %v_4[2.7,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_4,
CLOSURE BEGIN: type[] %self[2.0,] count_field[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_type 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "_count" def_%cl_1_3 
		 2: BUILDSTRING def_%cl_1_4 type[2.2,] %cl_1_3[3.1,] 
		 3: COPY TYPE_PASS def_count_field %cl_1_4[3.2,] 
		 4: 
		 5: (Post) def_%cl_1_5 
		 6: %self->id def_%cl_1_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: HASH-topic_id- def_%cl_1_7 %cl_1_6[3.6,] 
		 8: %cl_1_5->where def_%cl_1_8 %cl_1_5[3.5,] %cl_1_7[3.7,] 	 SYMBOL:	 ARGS:%cl_1_7,
		 9: %cl_1_8->sum def_%cl_1_9 %cl_1_8[3.8,] count_field[3.3,] 	 SYMBOL:	 ARGS:count_field,
		 10: %self->update_column def_%cl_1_10 %self[3.6,2.0,] count_field[3.3,] %cl_1_9[3.9,] 	 SYMBOL:	 ARGS:count_field,%cl_1_9,
		 11: RETURN %cl_1_10[3.10,] %self[3.6,3.10,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_11 
		 1: def_%cl_1_12 %cl_1_11[4.0,] 
		 2: RETURN %cl_1_12[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: count_field[3.3,] 
		 9: RETURN %v_5[2.8,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = posters_summary instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_options 
		 6: options[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_options %v_3[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_5 %self[2.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[4.1,] 
		 3: %v_5[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: GETFIELD %self->posters_summary def_%v_6 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_4 %v_6[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_4[5.1,4.2,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: (TopicPostersSummary) def_%v_7 
		 1: %v_7->new def_%v_8 %v_7[7.0,] %self[2.0,] options[3.1,2.5,] 	 SYMBOL:	 ARGS:%self,options,
		 2: %v_8->summary def_%v_9 %v_8[7.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->posters_summary %v_9[7.2,] 
		 4: RETURN %v_9[7.2,] %self[7.3,2.0,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %v_6[5.0,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = participants_summary instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_options 
		 6: options[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_options %v_3[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_5 %self[2.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[4.1,] 
		 3: %v_5[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: GETFIELD %self->participants_summary def_%v_6 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_4 %v_6[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_4[5.1,4.2,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: (TopicParticipantsSummary) def_%v_7 
		 1: %v_7->new def_%v_8 %v_7[7.0,] %self[2.0,] options[3.1,2.5,] 	 SYMBOL:	 ARGS:%self,options,
		 2: %v_8->summary def_%v_9 %v_8[7.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->participants_summary %v_9[7.2,] 
		 4: RETURN %v_9[7.2,] %self[7.3,2.0,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %v_6[5.0,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = make_banner! instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: (Topic) def_%v_3 
		 8: (Archetype) def_%v_4 
		 9: %v_4->banner def_%v_5 %v_4[2.8,] 	 SYMBOL:	 ARGS:
		 10: HASH-archetype- def_%v_6 %v_5[2.9,] 
		 11: %v_3->where def_%v_7 %v_3[2.7,] %v_6[2.10,] 	 SYMBOL:	 ARGS:%v_6,
		 12: %v_7->first def_%v_8 %v_7[2.11,] 	 SYMBOL:	 ARGS:
		 13: COPY TYPE_PASS def_previous_banner %v_8[2.12,] 
		 14: 
		 15: %v_8->present? def_%v_9 %v_8[2.12,] 	 SYMBOL:	 ARGS:
		 16: BRANCH %v_9[2.15,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: previous_banner->remove_banner! def_%v_10 previous_banner[2.13,] user[2.5,] 	 SYMBOL:	 ARGS:user,
		 1: 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (Archetype) def_%v_11 
		 2: %v_11->banner def_%v_12 %v_11[5.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->archetype %v_12[5.2,] 
		 4: 
		 5: (I18n) def_%v_13 
		 6: COPY TYPE_StringLiteral "archetypes.banner.message.make" def_%v_14 
		 7: %v_13->t def_%v_15 %v_13[5.5,] %v_14[5.6,] 	 SYMBOL:	 ARGS:%v_14,
		 8: %self->add_moderator_post def_%v_16 %self[5.3,2.0,] user[2.5,] %v_15[5.7,] 	 SYMBOL:	 ARGS:user,%v_15,
		 9: 
		 10: %self->save def_%v_17 %self[5.3,5.8,2.0,] 	 SYMBOL:	 ARGS:
		 11: 
		 12: (MessageBus) def_%v_18 
		 13: COPY TYPE_StringLiteral "/site/banner" def_%v_19 
		 14: %self->banner def_%v_20 %self[5.3,5.8,5.10,2.0,] 	 SYMBOL:	 ARGS:
		 15: %v_18->publish def_%v_21 %v_18[5.12,] %v_19[5.13,] %v_20[5.14,] 	 SYMBOL:	 ARGS:%v_19,%v_20,
		 16: RETURN %v_21[5.15,] %self[5.3,5.8,5.10,5.14,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = remove_banner! instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: (Archetype) def_%v_3 
		 8: %v_3->default def_%v_4 %v_3[2.7,] 	 SYMBOL:	 ARGS:
		 9: ATTRASSIGN %self->archetype %v_4[2.8,] 
		 10: 
		 11: (I18n) def_%v_5 
		 12: COPY TYPE_StringLiteral "archetypes.banner.message.remove" def_%v_6 
		 13: %v_5->t def_%v_7 %v_5[2.11,] %v_6[2.12,] 	 SYMBOL:	 ARGS:%v_6,
		 14: %self->add_moderator_post def_%v_8 %self[2.0,2.9,] user[2.5,] %v_7[2.13,] 	 SYMBOL:	 ARGS:user,%v_7,
		 15: 
		 16: %self->save def_%v_9 %self[2.0,2.9,2.14,] 	 SYMBOL:	 ARGS:
		 17: 
		 18: (MessageBus) def_%v_10 
		 19: COPY TYPE_StringLiteral "/site/banner" def_%v_11 
		 20: %v_10->publish def_%v_12 %v_10[2.18,] %v_11[2.19,] 	 SYMBOL:	 ARGS:%v_11,Nil,
		 21: RETURN %v_12[2.20,] %self[2.0,2.9,2.14,2.16,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = banner instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->posts def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->order def_%v_4 %v_3[2.6,] 	 SYMBOL:post_number,	 ARGS:Symbol,
		 8: %v_4->limit def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:Fixnum,
		 9: %v_5->first def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_PASS def_post %v_6[2.9,] 
		 11: 
		 12: %v_6->cooked def_%v_7 %v_6[2.9,] 	 SYMBOL:	 ARGS:
		 13: %self->id def_%v_8 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 14: %self->url def_%v_9 %self[2.0,2.6,2.13,] 	 SYMBOL:	 ARGS:
		 15: HASH-html-key-url- def_%v_10 %v_7[2.12,] %v_8[2.13,] %v_9[2.14,] 
		 16: RETURN %v_10[2.15,] %self[2.0,2.6,2.13,2.14,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = slug instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->read_attribute def_%v_3 %self[2.0,] 	 SYMBOL:slug,	 ARGS:Symbol,
		 7: COPY TYPE_PASS def_slug %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->title def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_5->present? def_%v_6 %v_5[4.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_6[4.2,] 
BB 5
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_7 
		 1: 
		 2: (Slug) def_%v_9 
		 3: %self->title def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_9->for def_%v_11 %v_9[5.2,] %v_10[5.3,] 	 SYMBOL:	 ARGS:%v_10,
		 5: COPY TYPE_PASS def_slug %v_11[5.4,] 
		 6: 
		 7: %self->new_record? def_%v_12 %self[5.3,2.0,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_12[5.7,] 
BB 6
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "" def_%v_8 
		 1: RETURN %v_8[6.0,] %self[2.0,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: %self->write_attribute def_%v_13 %self[2.0,] slug[5.5,] 	 SYMBOL:slug,	 ARGS:Symbol,slug,
		 2: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: %self->update_column def_%v_14 %self[2.0,] slug[5.5,] 	 SYMBOL:slug,	 ARGS:Symbol,slug,
		 2: COPY TYPE_PASS def_%v_13 %v_14[9.1,] 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_4 %v_13[9.2,8.1,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: RETURN slug[2.7,5.5,] %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = title= instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_t 
		 6: 
		 7: (Slug) def_%v_3 
		 8: t->to_s def_%v_4 t[2.5,] 	 SYMBOL:	 ARGS:
		 9: %v_3->for def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,
		 10: COPY TYPE_PASS def_slug %v_5[2.9,] 
		 11: 
		 12: %self->write_attribute def_%v_6 %self[2.0,] %v_5[2.9,] 	 SYMBOL:slug,	 ARGS:Symbol,slug,
		 13: 
		 14: %self->write_attribute def_%v_7 %self[2.0,2.12,] 	 SYMBOL:fancy_title,	 ARGS:Symbol,Nil,
		 15: 
		 16: %self->write_attribute def_%v_8 %self[2.0,2.12,2.14,] t[2.5,2.8,] 	 SYMBOL:title,	 ARGS:Symbol,t,
		 17: RETURN %v_8[2.16,] %self[2.0,2.12,2.14,2.16,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = last_post_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Discourse) def_%v_3 
		 7: %v_3->base_uri def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_StringLiteral "/t/" def_%v_5 
		 9: %self->slug def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral "/" def_%v_7 
		 11: %self->id def_%v_8 %self[2.0,2.9,] 	 SYMBOL:	 ARGS:
		 12: COPY TYPE_StringLiteral "/" def_%v_9 
		 13: %self->posts_count def_%v_10 %self[2.0,2.9,2.11,] 	 SYMBOL:	 ARGS:
		 14: BUILDSTRING def_%v_11 %v_4[2.7,] %v_5[2.8,] %v_6[2.9,] %v_7[2.10,] %v_8[2.11,] %v_9[2.12,] %v_10[2.13,] 
		 15: RETURN %v_11[2.14,] %self[2.0,2.9,2.11,2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = url instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_id 
		 6: RECEIVEARG def_slug 
		 7: RECEIVECONSTARG def_post_number 
		 8: post_number[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_post_number 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (Discourse) def_%v_3 
		 2: %v_3->base_url def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "/t/" def_%v_5 
		 4: COPY TYPE_StringLiteral "/" def_%v_6 
		 5: BUILDSTRING def_%v_7 %v_4[4.2,] %v_5[4.3,] slug[2.6,] %v_6[4.4,] id[2.5,] 
		 6: COPY TYPE_PASS def_url %v_7[4.5,] 
		 7: 
		 8: post_number->to_i def_%v_8 post_number[3.0,2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_8->> def_%v_9 %v_8[4.8,] 	 SYMBOL:	 ARGS:Fixnum,
		 10: BRANCH %v_9[4.9,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "/" def_%v_10 
		 1: BUILDSTRING def_%v_11 %v_10[5.0,] post_number[3.0,2.7,] 
		 2: url-><< def_%v_12 url[4.6,] %v_11[5.1,] 	 SYMBOL:	 ARGS:%v_11,
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_12 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: RETURN url[4.6,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = url instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_post_number 
		 6: post_number[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_post_number 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->class def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->id def_%v_4 %self[4.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: %self->slug def_%v_5 %self[4.1,4.2,2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_3->url def_%v_6 %v_3[4.1,] %v_4[4.2,] %v_5[4.3,] post_number[3.0,2.5,] 	 SYMBOL:	 ARGS:%v_4,%v_5,post_number,
		 5: RETURN %v_6[4.4,] %self[4.1,4.2,4.3,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = relative_url instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_id 
		 6: RECEIVEARG def_slug 
		 7: RECEIVECONSTARG def_post_number 
		 8: post_number[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_post_number 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (Discourse) def_%v_3 
		 2: %v_3->base_uri def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "/t/" def_%v_5 
		 4: COPY TYPE_StringLiteral "/" def_%v_6 
		 5: BUILDSTRING def_%v_7 %v_4[4.2,] %v_5[4.3,] slug[2.6,] %v_6[4.4,] id[2.5,] 
		 6: COPY TYPE_PASS def_url %v_7[4.5,] 
		 7: 
		 8: post_number->to_i def_%v_8 post_number[3.0,2.7,] 	 SYMBOL:	 ARGS:
		 9: %v_8->> def_%v_9 %v_8[4.8,] 	 SYMBOL:	 ARGS:Fixnum,
		 10: BRANCH %v_9[4.9,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "/" def_%v_10 
		 1: BUILDSTRING def_%v_11 %v_10[5.0,] post_number[3.0,2.7,] 
		 2: url-><< def_%v_12 url[4.6,] %v_11[5.1,] 	 SYMBOL:	 ARGS:%v_11,
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_12 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: RETURN url[4.6,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = relative_url instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_post_number 
		 6: post_number[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_post_number 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%v_3 
		 2: %self->id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %self->slug def_%v_5 %self[4.2,2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_3->relative_url def_%v_6 %v_3[4.1,] %v_4[4.2,] %v_5[4.3,] post_number[3.0,2.5,] 	 SYMBOL:	 ARGS:%v_4,%v_5,post_number,
		 5: RETURN %v_6[4.4,] %self[4.2,4.3,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = unsubscribe_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->url def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_StringLiteral "/unsubscribe" def_%v_4 
		 8: BUILDSTRING def_%v_5 %v_3[2.6,] %v_4[2.7,] 
		 9: RETURN %v_5[2.8,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = clear_pin_for instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: user->present? def_%v_3 user[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: (TopicUser) def_%v_5 
		 3: user->id def_%v_6 user[2.5,] 	 SYMBOL:	 ARGS:
		 4: %self->id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: (Time) def_%v_8 
		 6: %v_8->now def_%v_9 %v_8[3.5,] 	 SYMBOL:	 ARGS:
		 7: HASH-cleared_pinned_at- def_%v_10 %v_9[3.6,] 
		 8: %v_5->change def_%v_11 %v_5[3.2,] %v_6[3.3,] %v_7[3.4,] %v_10[3.7,] 	 SYMBOL:	 ARGS:%v_6,%v_7,%v_10,
		 9: RETURN %v_11[3.8,] %self[3.4,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = re_pin_for instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: user->present? def_%v_3 user[2.5,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_3[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_4 
		 1: 
		 2: (TopicUser) def_%v_5 
		 3: user->id def_%v_6 user[2.5,] 	 SYMBOL:	 ARGS:
		 4: %self->id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: HASH-cleared_pinned_at- def_%v_8 
		 6: %v_5->change def_%v_9 %v_5[3.2,] %v_6[3.3,] %v_7[3.4,] %v_8[3.5,] 	 SYMBOL:	 ARGS:%v_6,%v_7,%v_8,
		 7: RETURN %v_9[3.6,] %self[3.4,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_pinned instanceMethod = true
BB 1
	outgoing: 22 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_status 
		 6: RECEIVECONSTARG def_global 
		 7: global[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Boolean def_global 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_pinned_until 
		 1: pinned_until[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_pinned_until 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: GLOBALVAR $! def_%v_3 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
		 1: (Time) def_%v_6 
		 2: %v_6->parse def_%v_7 %v_6[8.1,] pinned_until[5.0,4.0,] 	 SYMBOL:	 ARGS:pinned_until,
		 3: COPY TYPE_PASS def_%v_5 %v_7[8.2,] 
		 4: 
		 5: %v_3[6.1,] 
BB 9
	outgoing: 15 
	datadep: 
	instructions:
		 0: 
BB 10
	outgoing: 11 12 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[10.1,] 
		 3: BRANCH %v_9[10.2,] 
BB 11
	outgoing: 14 22 
	datadep: 
	instructions:
		 0: %v_8[10.1,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: %v_3[6.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: 
BB 14
	outgoing: 22 
	datadep: 
	instructions:
		 0: def_%v_10 
		 1: def_%v_11 %v_10[14.0,] %v_3[6.1,] 
		 2: %v_10[14.0,] 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_pinned_until %v_5[8.3,12.0,] 
		 1: 
		 2: 
		 3: BRANCH status[2.5,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: (Time) def_%v_12 
		 1: %v_12->now def_%v_13 %v_12[16.0,] 	 SYMBOL:	 ARGS:
		 2: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_13 
BB 18
	outgoing: 19 20 
	datadep: 
	instructions:
		 0: HASH-pinned_at-pinned_globally-pinned_until- def_%v_14 %v_13[17.0,16.1,] global[3.0,2.6,] pinned_until[15.0,] 
		 1: %self->update_columns def_%v_15 %self[2.0,] %v_14[18.0,] 	 SYMBOL:	 ARGS:%v_14,
		 2: 
		 3: (Jobs) def_%v_16 
		 4: %self->id def_%v_17 %self[18.1,2.0,] 	 SYMBOL:	 ARGS:
		 5: HASH-topic_id- def_%v_18 %v_17[18.4,] 
		 6: %v_16->cancel_scheduled_job def_%v_19 %v_16[18.3,] %v_18[18.5,] 	 SYMBOL:unpin_topic,	 ARGS:Symbol,%v_18,
		 7: 
		 8: BRANCH pinned_until[15.0,] 
BB 19
	outgoing: 22 
	datadep: 
	instructions:
		 0: (Jobs) def_%v_20 
		 1: %self->id def_%v_21 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: HASH-topic_id- def_%v_22 %v_21[19.1,] 
		 3: %v_20->enqueue_at def_%v_23 %v_20[19.0,] pinned_until[15.0,] %v_22[19.2,] 	 SYMBOL:unpin_topic,	 ARGS:pinned_until,Symbol,%v_22,
		 4: RETURN %v_23[19.3,] %self[19.1,2.0,] 
BB 20
	outgoing: 22 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 22
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = draft_key instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Draft) def_%v_3 
		 7: (inherit EXISTING_TOPIC) def_%v_4 %v_3[2.6,] 
		 8: %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %v_3->const_missing def_%v_4 %v_3[2.6,] 	 SYMBOL:EXISTING_TOPIC,	 ARGS:Symbol,
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->id def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: BUILDSTRING def_%v_6 %v_4[3.0,2.7,] %v_5[4.0,] 
		 2: RETURN %v_6[4.1,] %self[4.0,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = notifier instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->topic_notifier def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (TopicNotifier) def_%v_6 
		 1: %v_6->new def_%v_7 %v_6[5.0,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
		 2: ATTRASSIGN %self->topic_notifier %v_7[5.1,] 
		 3: RETURN %v_7[5.1,] %self[5.2,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = muted? instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: COPY TYPE_PASS def_%v_3 user[2.5,] 
		 8: BRANCH user[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->id def_%v_4 user[2.5,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_3 %v_4[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->notifier def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: user->id def_%v_6 user[2.5,] 	 SYMBOL:	 ARGS:
		 3: %v_5->muted? def_%v_7 %v_5[5.1,] %v_6[5.2,] 	 SYMBOL:	 ARGS:%v_6,
		 4: RETURN %v_7[5.3,] %self[5.1,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = ensure_consistency! instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Topic) def_%v_3 
		 7: COPY TYPE_StringLiteral "pinned_until < now()" def_%v_4 
		 8: %v_3->where def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: HASH-pinned_at-pinned_globally-pinned_until- def_%v_6 
		 10: %v_5->update_all def_%v_7 %v_5[2.8,] %v_6[2.9,] 	 SYMBOL:	 ARGS:%v_6,
		 11: RETURN %v_7[2.10,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = auto_close instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Topic) def_%v_3 
		 7: COPY TYPE_StringLiteral "NOT closed AND auto_close_at < ? AND auto_close_user_id IS NOT NULL" def_%v_4 
		 8: CONSTANT def_%v_5 	 SYMBOL:	 ARGS:
		 9: %v_5->ago def_%v_6 %v_5[2.8,] 	 SYMBOL:	 ARGS:
		 10: %v_3->where def_%v_7 %v_3[2.6,] %v_4[2.7,] %v_6[2.9,] 	 SYMBOL:	 ARGS:%v_4,%v_6,
		 11: %v_7->each def_%v_8 %v_7[2.10,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_7,
CLOSURE BEGIN: t[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_t 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: t->auto_close def_%cl_1_3 t[2.2,] 	 SYMBOL:	 ARGS:
		 2: RETURN %cl_1_3[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
		 1: def_%cl_1_5 %cl_1_4[4.0,] 
		 2: RETURN %cl_1_5[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 12: RETURN %v_8[2.11,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = auto_close instanceMethod = true
BB 1
	outgoing: 19 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_closer 
		 6: closer[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_closer 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_at def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_3[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->closed? def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_4->! def_%v_5 %v_4[5.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_3 %v_5[5.1,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_3[5.2,4.1,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->deleted_at def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_6->! def_%v_7 %v_6[7.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_3 %v_7[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %v_3[7.2,5.2,4.1,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: CONSTANT def_%v_9 	 SYMBOL:	 ARGS:
		 2: %v_9->from_now def_%v_10 %v_9[9.1,] 	 SYMBOL:	 ARGS:
		 3: %v_8->< def_%v_11 %v_8[9.0,] %v_10[9.2,] 	 SYMBOL:	 ARGS:%v_10,
		 4: COPY TYPE_PASS def_%v_3 %v_11[9.3,] 
BB 10
	outgoing: 11 17 
	datadep: 
	instructions:
		 0: BRANCH %v_3[9.4,7.2,5.2,4.1,] 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_12 closer[3.0,2.5,] 
		 2: COPY TYPE_PASS def_%v_13 closer[3.0,2.5,] 
		 3: BRANCH closer[3.0,2.5,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: %self->auto_close_user def_%v_14 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_closer %v_14[12.0,] 
		 2: COPY TYPE_PASS def_%v_13 %v_14[12.0,] 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
		 1: (Guardian) def_%v_15 
		 2: %v_15->new def_%v_16 %v_15[13.1,] closer[12.1,3.0,2.5,] 	 SYMBOL:	 ARGS:closer,
		 3: %v_16->can_moderate? def_%v_17 %v_16[13.2,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
		 4: BRANCH %v_17[13.3,] 
BB 14
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "autoclosed" def_%v_18 
		 2: %self->update_status def_%v_19 %self[2.0,] %v_18[14.1,] closer[12.1,3.0,2.5,] 	 SYMBOL:	 ARGS:%v_18,Boolean,closer,
		 3: 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_19 
BB 16
	outgoing: 19 
	datadep: 
	instructions:
		 0: RETURN %v_19[15.0,14.2,] %self[2.0,] 
BB 17
	outgoing: 19 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 19
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_auto_close instanceMethod = true
BB 1
	outgoing: 63 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_arg 
		 6: RECEIVECONSTARG def_opts 
		 7: opts[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 11 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_hours 
		 2: 
		 3: opts->[] def_%v_4 opts[3.1,2.6,] 	 SYMBOL:by_user,	 ARGS:Symbol,
		 4: COPY TYPE_PASS def_by_user %v_4[4.3,] 
		 5: 
		 6: opts->[] def_%v_5 opts[4.3,3.1,2.6,] 	 SYMBOL:timezone_offset,	 ARGS:Symbol,
		 7: COPY TYPE_PASS def_offset_minutes %v_5[4.6,] 
		 8: 
		 9: %self->auto_close_based_on_last_post def_%v_6 %self[4.1,2.0,] 	 SYMBOL:	 ARGS:
		 10: BRANCH %v_6[4.9,] 
BB 5
	outgoing: 6 9 
	datadep: 
	instructions:
		 0: 
		 1: arg->to_f def_%v_7 arg[2.5,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_num_hours %v_7[5.1,] 
		 3: 
		 4: %v_7->> def_%v_8 %v_7[5.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: BRANCH %v_8[5.4,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->ordered_posts def_%v_9 %self[4.1,2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_9->last def_%v_10 %v_9[6.1,] 	 SYMBOL:	 ARGS:
		 3: %v_10->try def_%v_11 %v_10[6.2,] 	 SYMBOL:created_at,	 ARGS:Symbol,
		 4: BRANCH %v_11[6.3,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: (Time) def_%v_12 
		 1: %v_12->zone def_%v_13 %v_12[7.0,] 	 SYMBOL:	 ARGS:
		 2: %v_13->now def_%v_14 %v_13[7.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_11 %v_14[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_last_post_created_at %v_11[7.3,6.3,] 
		 1: 
		 2: num_hours->hours def_%v_15 num_hours[5.2,] 	 SYMBOL:	 ARGS:
		 3: last_post_created_at->+ def_%v_16 last_post_created_at[8.0,] %v_15[8.2,] 	 SYMBOL:	 ARGS:%v_15,
		 4: ATTRASSIGN %self->auto_close_at %v_16[8.3,] 
		 5: 
		 6: ATTRASSIGN %self->auto_close_hours num_hours[8.2,5.2,] 
		 7: COPY TYPE_PASS def_%v_17 num_hours[8.2,5.2,] 
		 8: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_at 
		 2: COPY TYPE_Nil def_%v_17 
BB 10
	outgoing: 39 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: 
		 1: (Time) def_%v_18 
		 2: COPY TYPE_StringLiteral "UTC" def_%v_19 
		 3: %v_18->find_zone def_%v_20 %v_18[11.1,] %v_19[11.2,] 	 SYMBOL:	 ARGS:%v_19,
		 4: COPY TYPE_PASS def_utc %v_20[11.3,] 
		 5: 
		 6: (String) def_%v_21 
		 7: arg->is_a? def_%v_22 arg[2.5,] %v_21[11.6,] 	 SYMBOL:	 ARGS:%v_21,
		 8: BRANCH %v_22[11.7,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Regexp def_%v_23 
		 1: arg->strip def_%v_24 arg[2.5,] 	 SYMBOL:	 ARGS:
		 2: %v_23->match def_%v_25 %v_23[12.0,] %v_24[12.1,] 	 SYMBOL:	 ARGS:%v_24,
		 3: COPY TYPE_PASS def_m %v_25[12.2,] 
		 4: COPY TYPE_PASS def_%v_22 %v_25[12.2,] 
BB 13
	outgoing: 14 21 
	datadep: 
	instructions:
		 0: BRANCH %v_22[12.4,11.7,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: 
		 1: utc->now def_%v_26 utc[11.4,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_now %v_26[14.1,] 
		 3: 
		 4: %v_26->year def_%v_27 %v_26[14.1,] 	 SYMBOL:	 ARGS:
		 5: now->month def_%v_28 now[14.2,] 	 SYMBOL:	 ARGS:
		 6: now->day def_%v_29 now[14.2,14.5,] 	 SYMBOL:	 ARGS:
		 7: m->[] def_%v_30 m[12.3,] 	 SYMBOL:	 ARGS:Fixnum,
		 8: %v_30->to_i def_%v_31 %v_30[14.7,] 	 SYMBOL:	 ARGS:
		 9: m->[] def_%v_32 m[14.7,12.3,] 	 SYMBOL:	 ARGS:Fixnum,
		 10: %v_32->to_i def_%v_33 %v_32[14.9,] 	 SYMBOL:	 ARGS:
		 11: utc->local def_%v_34 utc[14.1,11.4,] %v_27[14.4,] %v_28[14.5,] %v_29[14.6,] %v_31[14.8,] %v_33[14.10,] 	 SYMBOL:	 ARGS:%v_27,%v_28,%v_29,%v_31,%v_33,
		 12: ATTRASSIGN %self->auto_close_at %v_34[14.11,] 
		 13: 
		 14: BRANCH offset_minutes[4.7,] 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_35 %self[14.12,4.1,2.0,] 	 SYMBOL:	 ARGS:
		 1: offset_minutes->* def_%v_37 offset_minutes[4.7,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: %v_35->+ def_%v_38 %v_35[15.0,] %v_37[15.1,] 	 SYMBOL:	 ARGS:%v_37,
		 3: %self->auto_close_at= def_%v_36 %v_38[15.2,] 	 SYMBOL:	 ARGS:%v_38,
		 4: 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_38 
BB 17
	outgoing: 18 19 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_at def_%v_39 %self[15.3,14.12,4.1,2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_39->< def_%v_40 %v_39[17.1,] now[14.2,] 	 SYMBOL:	 ARGS:now,
		 3: BRANCH %v_40[17.2,] 
BB 18
	outgoing: 20 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_41 %self[15.3,14.12,4.1,2.0,] 	 SYMBOL:	 ARGS:
		 1: CONSTANT def_%v_43 	 SYMBOL:	 ARGS:
		 2: %v_41->+ def_%v_44 %v_41[18.0,] %v_43[18.1,] 	 SYMBOL:	 ARGS:%v_43,
		 3: %self->auto_close_at= def_%v_42 %v_44[18.2,] 	 SYMBOL:	 ARGS:%v_44,
		 4: 
BB 19
	outgoing: 20 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_44 
BB 20
	outgoing: 38 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_hours 
		 2: COPY TYPE_Fixnum def_%v_45 
		 3: 
BB 21
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: 
		 1: (String) def_%v_46 
		 2: arg->is_a? def_%v_47 arg[2.5,] %v_46[21.1,] 	 SYMBOL:	 ARGS:%v_46,
		 3: BRANCH %v_47[21.2,] 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "-" def_%v_48 
		 1: arg->include? def_%v_49 arg[2.5,] %v_48[22.0,] 	 SYMBOL:	 ARGS:%v_48,
		 2: COPY TYPE_PASS def_%v_47 %v_49[22.1,] 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: BRANCH %v_47[22.2,21.2,] 
BB 24
	outgoing: 25 
	datadep: 
	instructions:
		 0: utc->parse def_%v_50 utc[11.4,] arg[2.5,] 	 SYMBOL:	 ARGS:arg,
		 1: COPY TYPE_PASS def_timestamp %v_50[24.0,] 
		 2: COPY TYPE_PASS def_%v_47 %v_50[24.0,] 
BB 25
	outgoing: 26 33 
	datadep: 
	instructions:
		 0: BRANCH %v_47[24.2,22.2,21.2,] 
BB 26
	outgoing: 27 28 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_at timestamp[24.1,] 
		 2: 
		 3: BRANCH offset_minutes[4.7,] 
BB 27
	outgoing: 29 
	datadep: 
	instructions:
		 0: %self->auto_close_at def_%v_51 %self[26.1,4.1,2.0,] 	 SYMBOL:	 ARGS:
		 1: offset_minutes->* def_%v_53 offset_minutes[4.7,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: %v_51->+ def_%v_54 %v_51[27.0,] %v_53[27.1,] 	 SYMBOL:	 ARGS:%v_53,
		 3: %self->auto_close_at= def_%v_52 %v_54[27.2,] 	 SYMBOL:	 ARGS:%v_54,
		 4: 
BB 28
	outgoing: 29 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_54 
BB 29
	outgoing: 30 31 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_hours 
		 2: 
		 3: (Time) def_%v_55 
		 4: %v_55->zone def_%v_56 %v_55[29.3,] 	 SYMBOL:	 ARGS:
		 5: %v_56->now def_%v_57 %v_56[29.4,] 	 SYMBOL:	 ARGS:
		 6: timestamp->< def_%v_58 timestamp[24.1,] %v_57[29.5,] 	 SYMBOL:	 ARGS:%v_57,
		 7: BRANCH %v_58[29.6,] 
BB 30
	outgoing: 32 
	datadep: 
	instructions:
		 0: %self->errors def_%v_59 %self[29.1,27.3,26.1,4.1,2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_59->add def_%v_60 %v_59[30.0,] 	 SYMBOL:auto_close_at,invalid,	 ARGS:Symbol,Symbol,
		 2: 
BB 31
	outgoing: 32 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_60 
BB 32
	outgoing: 37 
	datadep: 
	instructions:
		 0: 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: 
		 1: arg->to_f def_%v_61 arg[2.5,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_num_hours %v_61[33.1,] 
		 3: 
		 4: %v_61->> def_%v_62 %v_61[33.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: BRANCH %v_62[33.4,] 
BB 34
	outgoing: 36 
	datadep: 
	instructions:
		 0: 
		 1: num_hours->hours def_%v_63 num_hours[33.2,] 	 SYMBOL:	 ARGS:
		 2: %v_63->from_now def_%v_64 %v_63[34.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->auto_close_at %v_64[34.2,] 
		 4: 
		 5: ATTRASSIGN %self->auto_close_hours num_hours[34.1,33.2,] 
		 6: COPY TYPE_PASS def_%v_65 num_hours[34.1,33.2,] 
		 7: 
BB 35
	outgoing: 36 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_at 
		 2: COPY TYPE_Nil def_%v_65 
BB 36
	outgoing: 37 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_60 %v_65[35.2,34.6,] 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_45 %v_60[36.0,31.0,30.1,] 
BB 38
	outgoing: 39 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_17 %v_45[37.0,20.2,] 
BB 39
	outgoing: 40 41 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_at def_%v_66 %self[20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: %v_66->nil? def_%v_67 %v_66[39.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_67[39.2,] 
BB 40
	outgoing: 62 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_started_at 
		 2: COPY TYPE_Nil def_%v_68 
		 3: 
BB 41
	outgoing: 42 43 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_based_on_last_post def_%v_69 %self[20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_69[41.1,] 
BB 42
	outgoing: 46 
	datadep: 
	instructions:
		 0: 
		 1: (Time) def_%v_70 
		 2: %v_70->zone def_%v_71 %v_70[42.1,] 	 SYMBOL:	 ARGS:
		 3: %v_71->now def_%v_72 %v_71[42.2,] 	 SYMBOL:	 ARGS:
		 4: ATTRASSIGN %self->auto_close_started_at %v_72[42.3,] 
		 5: 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_started_at def_%v_73 %self[20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_73[43.1,] 
BB 44
	outgoing: 45 
	datadep: 
	instructions:
		 0: (Time) def_%v_75 
		 1: %v_75->zone def_%v_76 %v_75[44.0,] 	 SYMBOL:	 ARGS:
		 2: %v_76->now def_%v_77 %v_76[44.1,] 	 SYMBOL:	 ARGS:
		 3: %self->auto_close_started_at= def_%v_74 %v_77[44.2,] 	 SYMBOL:	 ARGS:%v_77,
		 4: COPY TYPE_PASS def_%v_73 %v_77[44.2,] 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_72 %v_73[44.4,43.1,] 
BB 46
	outgoing: 47 48 
	datadep: 
	instructions:
		 0: 
		 1: by_user->try def_%v_78 by_user[4.4,] 	 SYMBOL:staff?,	 ARGS:Symbol,
		 2: BRANCH %v_78[46.1,] 
BB 47
	outgoing: 48 
	datadep: 
	instructions:
		 0: by_user->try def_%v_79 by_user[4.4,] 	 SYMBOL:trust_level,	 ARGS:Symbol,
		 1: (TrustLevel) def_%v_80 
		 2: %v_80->[] def_%v_81 %v_80[47.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: %v_79->== def_%v_82 %v_79[47.0,] %v_81[47.2,] 	 SYMBOL:	 ARGS:%v_81,
		 4: COPY TYPE_PASS def_%v_78 %v_82[47.3,] 
BB 48
	outgoing: 49 50 
	datadep: 
	instructions:
		 0: BRANCH %v_78[47.4,46.1,] 
BB 49
	outgoing: 58 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->auto_close_user by_user[4.4,] 
		 2: COPY TYPE_PASS def_%v_83 by_user[4.4,] 
		 3: 
BB 50
	outgoing: 51 57 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_user def_%v_84 %self[42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_84[50.1,] 
BB 51
	outgoing: 52 53 
	datadep: 
	instructions:
		 0: %self->user def_%v_86 %self[42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 1: %v_86->staff? def_%v_87 %v_86[51.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_87[51.1,] 
BB 52
	outgoing: 53 
	datadep: 
	instructions:
		 0: %self->user def_%v_88 %self[42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 1: %v_88->trust_level def_%v_89 %v_88[52.0,] 	 SYMBOL:	 ARGS:
		 2: (TrustLevel) def_%v_90 
		 3: %v_90->[] def_%v_91 %v_90[52.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: %v_89->== def_%v_92 %v_89[52.1,] %v_91[52.3,] 	 SYMBOL:	 ARGS:%v_91,
		 5: COPY TYPE_PASS def_%v_87 %v_92[52.4,] 
BB 53
	outgoing: 54 55 
	datadep: 
	instructions:
		 0: BRANCH %v_87[52.5,51.1,] 
BB 54
	outgoing: 56 
	datadep: 
	instructions:
		 0: %self->user def_%v_93 %self[42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 1: 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: (Discourse) def_%v_94 
		 1: %v_94->system_user def_%v_95 %v_94[55.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_93 %v_95[55.1,] 
BB 56
	outgoing: 57 
	datadep: 
	instructions:
		 0: %self->auto_close_user= def_%v_85 %v_93[55.2,54.0,] 	 SYMBOL:	 ARGS:%v_93,
		 1: COPY TYPE_PASS def_%v_84 %v_93[55.2,54.0,] 
BB 57
	outgoing: 58 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_83 %v_84[56.1,50.1,] 
BB 58
	outgoing: 59 60 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_at def_%v_96 %self[49.1,56.0,42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: (Time) def_%v_97 
		 3: %v_97->zone def_%v_98 %v_97[58.2,] 	 SYMBOL:	 ARGS:
		 4: %v_98->now def_%v_99 %v_98[58.3,] 	 SYMBOL:	 ARGS:
		 5: %v_96->try def_%v_100 %v_96[58.1,] %v_99[58.4,] 	 SYMBOL:<,	 ARGS:Symbol,%v_99,
		 6: BRANCH %v_100[58.5,] 
BB 59
	outgoing: 61 
	datadep: 
	instructions:
		 0: 
		 1: %self->auto_close_user def_%v_101 %self[49.1,56.0,42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] 	 SYMBOL:	 ARGS:
		 2: %self->auto_close def_%v_102 %self[59.1,49.1,56.0,42.4,44.3,20.1,9.1,8.4,8.6,18.3,35.1,34.3,34.5,4.1,29.1,15.3,2.0,27.3,14.12,26.1,] %v_101[59.1,] 	 SYMBOL:	 ARGS:%v_101,
		 3: 
BB 60
	outgoing: 61 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_102 
BB 61
	outgoing: 62 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_68 %v_102[60.0,59.2,] 
BB 62
	outgoing: 63 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[40.1,49.1,20.1,9.1,8.4,8.6,56.0,18.3,35.1,34.3,34.5,4.1,42.4,29.1,15.3,2.0,44.3,27.3,14.12,26.1,] %self[40.1,49.1,20.1,9.1,8.4,8.6,56.0,18.3,35.1,34.3,34.5,4.1,42.4,29.1,15.3,2.0,44.3,27.3,14.12,26.1,] 
BB 63
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = read_restricted_category? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->category def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->category def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_4->read_restricted def_%v_5 %v_4[3.0,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_5[3.1,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_3[2.6,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = acting_user instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->acting_user def_%v_3 %self[2.0,] 
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_4[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_3[2.6,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = acting_user= instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_u 
		 6: 
		 7: ATTRASSIGN %self->acting_user u[2.5,] 
		 8: RETURN u[2.5,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = secure_group_ids instanceMethod = true
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->secure_group_ids def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 11 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: %self->category def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: BRANCH %v_6[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: %self->category def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_7->read_restricted? def_%v_8 %v_7[6.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_6 %v_8[6.1,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: BRANCH %v_6[6.2,5.0,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: %self->category def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_9->secure_group_ids def_%v_10 %v_9[8.1,] 	 SYMBOL:	 ARGS:
		 3: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_10 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: ATTRASSIGN %self->secure_group_ids %v_10[9.0,8.2,] 
		 1: RETURN %v_10[9.0,8.2,] %self[10.0,2.0,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_topic_embed? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (TopicEmbed) def_%v_3 
		 7: %self->id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: HASH-topic_id- def_%v_5 %v_4[2.7,] 
		 9: %v_3->where def_%v_6 %v_3[2.6,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: %v_6->exists? def_%v_7 %v_6[2.9,] 	 SYMBOL:	 ARGS:
		 11: RETURN %v_7[2.10,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = expandable_first_post? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->embed_truncate? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->has_topic_embed? def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_5[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_4[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = message_archived? instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_user 
		 6: 
		 7: COPY TYPE_PASS def_%v_3 user[2.5,] 
		 8: BRANCH user[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->id def_%v_4 user[2.5,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_3 %v_4[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: COPY TYPE_StringLiteral "SELECT 1 FROM topic_allowed_groups tg
JOIN group_archived_messages gm
      ON gm.topic_id = tg.topic_id AND
         gm.group_id = tg.group_id
  WHERE tg.group_id IN (SELECT g.group_id FROM group_users g WHERE g.user_id = :user_id)
    AND tg.topic_id = :topic_id

UNION ALL

SELECT 1 FROM topic_allowed_users tu
JOIN user_archived_messages um ON um.user_id = tu.user_id AND um.topic_id = tu.topic_id
WHERE tu.user_id = :user_id AND tu.topic_id = :topic_id
" def_%v_6 
		 3: COPY TYPE_PASS def_sql %v_6[5.2,] 
		 4: 
		 5: (User) def_%v_7 
		 6: user->id def_%v_8 user[2.5,] 	 SYMBOL:	 ARGS:
		 7: %self->id def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: HASH-user_id-topic_id- def_%v_10 %v_8[5.6,] %v_9[5.7,] 
		 9: %v_7->exec_sql def_%v_11 %v_7[5.5,] sql[5.3,] %v_10[5.8,] 	 SYMBOL:	 ARGS:sql,%v_10,
		 10: %v_11->to_a def_%v_12 %v_11[5.9,] 	 SYMBOL:	 ARGS:
		 11: %v_12->length def_%v_13 %v_12[5.10,] 	 SYMBOL:	 ARGS:
		 12: %v_13->> def_%v_14 %v_13[5.11,] 	 SYMBOL:	 ARGS:Fixnum,
		 13: RETURN %v_14[5.12,] %self[5.7,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = time_to_first_response instanceMethod = false
BB 1
	outgoing: 19 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_sql 
		 6: RECEIVECONSTARG def_opts 
		 7: opts[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.6,] 
		 2: COPY TYPE_PASS def_%v_4 opts[3.0,2.6,] 
		 3: BRANCH opts[3.0,2.6,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_5 
		 1: COPY TYPE_PASS def_opts %v_5[5.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (SqlBuilder) def_%v_6 
		 2: %v_6->new def_%v_7 %v_6[6.1,] sql[2.5,] 	 SYMBOL:	 ARGS:sql,
		 3: COPY TYPE_PASS def_builder %v_7[6.2,] 
		 4: 
		 5: opts->[] def_%v_8 opts[5.1,3.0,2.6,] 	 SYMBOL:start_date,	 ARGS:Symbol,
		 6: BRANCH %v_8[6.5,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.created_at >= :start_date" def_%v_9 
		 1: opts->[] def_%v_10 opts[5.1,3.0,2.6,] 	 SYMBOL:start_date,	 ARGS:Symbol,
		 2: HASH-start_date- def_%v_11 %v_10[7.1,] 
		 3: builder->where def_%v_12 builder[6.3,] %v_9[7.0,] %v_11[7.2,] 	 SYMBOL:	 ARGS:%v_9,%v_11,
		 4: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_12 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_13 opts[5.1,3.0,2.6,] 	 SYMBOL:end_date,	 ARGS:Symbol,
		 2: BRANCH %v_13[9.1,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.created_at < :end_date" def_%v_14 
		 1: opts->[] def_%v_15 opts[5.1,3.0,2.6,] 	 SYMBOL:end_date,	 ARGS:Symbol,
		 2: HASH-end_date- def_%v_16 %v_15[10.1,] 
		 3: builder->where def_%v_17 builder[6.3,] %v_14[10.0,] %v_16[10.2,] 	 SYMBOL:	 ARGS:%v_14,%v_16,
		 4: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_17 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_18 opts[5.1,3.0,2.6,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 2: BRANCH %v_18[12.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.category_id = :category_id" def_%v_19 
		 1: opts->[] def_%v_20 opts[5.1,3.0,2.6,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 2: HASH-category_id- def_%v_21 %v_20[13.1,] 
		 3: builder->where def_%v_22 builder[6.3,] %v_19[13.0,] %v_21[13.2,] 	 SYMBOL:	 ARGS:%v_19,%v_21,
		 4: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_22 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "t.archetype <> '" def_%v_23 
		 2: (Archetype) def_%v_24 
		 3: %v_24->private_message def_%v_25 %v_24[15.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral "'" def_%v_26 
		 5: BUILDSTRING def_%v_27 %v_23[15.1,] %v_25[15.3,] %v_26[15.4,] 
		 6: builder->where def_%v_28 builder[6.3,] %v_27[15.5,] 	 SYMBOL:	 ARGS:%v_27,
		 7: 
		 8: COPY TYPE_StringLiteral "t.deleted_at IS NULL" def_%v_29 
		 9: builder->where def_%v_30 builder[15.6,6.3,] %v_29[15.8,] 	 SYMBOL:	 ARGS:%v_29,
		 10: 
		 11: COPY TYPE_StringLiteral "p.deleted_at IS NULL" def_%v_31 
		 12: builder->where def_%v_32 builder[15.6,15.9,6.3,] %v_31[15.11,] 	 SYMBOL:	 ARGS:%v_31,
		 13: 
		 14: COPY TYPE_StringLiteral "p.post_number > 1" def_%v_33 
		 15: builder->where def_%v_34 builder[15.6,15.9,15.12,6.3,] %v_33[15.14,] 	 SYMBOL:	 ARGS:%v_33,
		 16: 
		 17: COPY TYPE_StringLiteral "p.user_id != t.user_id" def_%v_35 
		 18: builder->where def_%v_36 builder[15.6,15.9,15.12,15.15,6.3,] %v_35[15.17,] 	 SYMBOL:	 ARGS:%v_35,
		 19: 
		 20: opts->[] def_%v_37 opts[5.1,3.0,2.6,] 	 SYMBOL:user_ids,	 ARGS:Symbol,
		 21: BRANCH %v_37[15.20,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "p.user_id in (:user_ids)" def_%v_38 
		 1: opts->[] def_%v_39 opts[5.1,3.0,2.6,] 	 SYMBOL:user_ids,	 ARGS:Symbol,
		 2: HASH-user_ids- def_%v_40 %v_39[16.1,] 
		 3: builder->where def_%v_41 builder[6.3,] %v_38[16.0,] %v_40[16.2,] 	 SYMBOL:	 ARGS:%v_38,%v_40,
		 4: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_41 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "EXTRACT(EPOCH FROM p.created_at - t.created_at) > 0" def_%v_42 
		 2: builder->where def_%v_43 builder[6.3,] %v_42[18.1,] 	 SYMBOL:	 ARGS:%v_42,
		 3: 
		 4: builder->exec def_%v_44 builder[18.2,6.3,] 	 SYMBOL:	 ARGS:
		 5: RETURN %v_44[18.4,] %self[2.0,] 
BB 19
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = time_to_first_response_per_day instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_start_date 
		 6: RECEIVEARG def_end_date 
		 7: RECEIVECONSTARG def_opts 
		 8: opts[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (TIME_TO_FIRST_RESPONSE_SQL) def_%v_4 
		 2: HASH-start_date-end_date- def_%v_5 start_date[2.5,] end_date[2.6,] 
		 3: opts->merge def_%v_6 opts[3.1,2.7,] %v_5[4.2,] 	 SYMBOL:	 ARGS:%v_5,
		 4: %self->time_to_first_response def_%v_7 %self[2.0,] %v_4[4.1,] %v_6[4.3,] 	 SYMBOL:	 ARGS:%v_4,%v_6,
		 5: RETURN %v_7[4.4,] %self[4.4,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = time_to_first_response_total instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_opts 
		 6: opts[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (TIME_TO_FIRST_RESPONSE_TOTAL_SQL) def_%v_3 
		 2: %self->time_to_first_response def_%v_4 %self[2.0,] %v_3[4.1,] opts[3.0,2.5,] 	 SYMBOL:	 ARGS:%v_3,opts,
		 3: COPY TYPE_PASS def_total %v_4[4.2,] 
		 4: 
		 5: %v_4->first def_%v_5 %v_4[4.2,] 	 SYMBOL:	 ARGS:
		 6: COPY TYPE_StringLiteral "hours" def_%v_6 
		 7: %v_5->[] def_%v_7 %v_5[4.5,] %v_6[4.6,] 	 SYMBOL:	 ARGS:%v_6,
		 8: %v_7->to_f def_%v_8 %v_7[4.7,] 	 SYMBOL:	 ARGS:
		 9: %v_8->round def_%v_9 %v_8[4.8,] 	 SYMBOL:	 ARGS:Fixnum,
		 10: RETURN %v_9[4.9,] %self[4.2,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = with_no_response_per_day instanceMethod = false
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_start_date 
		 6: RECEIVEARG def_end_date 
		 7: RECEIVECONSTARG def_category_id 
		 8: category_id[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_category_id 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (SqlBuilder) def_%v_3 
		 2: (WITH_NO_RESPONSE_SQL) def_%v_4 
		 3: %v_3->new def_%v_5 %v_3[4.1,] %v_4[4.2,] 	 SYMBOL:	 ARGS:%v_4,
		 4: COPY TYPE_PASS def_builder %v_5[4.3,] 
		 5: 
		 6: BRANCH start_date[2.5,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.created_at >= :start_date" def_%v_6 
		 1: HASH-start_date- def_%v_7 start_date[2.5,] 
		 2: builder->where def_%v_8 builder[4.4,] %v_6[5.0,] %v_7[5.1,] 	 SYMBOL:	 ARGS:%v_6,%v_7,
		 3: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: BRANCH end_date[2.6,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.created_at < :end_date" def_%v_9 
		 1: HASH-end_date- def_%v_10 end_date[2.6,] 
		 2: builder->where def_%v_11 builder[4.4,] %v_9[8.0,] %v_10[8.1,] 	 SYMBOL:	 ARGS:%v_9,%v_10,
		 3: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: BRANCH category_id[3.0,2.7,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.category_id = :category_id" def_%v_12 
		 1: HASH-category_id- def_%v_13 category_id[3.0,2.7,] 
		 2: builder->where def_%v_14 builder[4.4,] %v_12[11.0,] %v_13[11.1,] 	 SYMBOL:	 ARGS:%v_12,%v_13,
		 3: 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "t.archetype <> '" def_%v_15 
		 2: (Archetype) def_%v_16 
		 3: %v_16->private_message def_%v_17 %v_16[13.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral "'" def_%v_18 
		 5: BUILDSTRING def_%v_19 %v_15[13.1,] %v_17[13.3,] %v_18[13.4,] 
		 6: builder->where def_%v_20 builder[4.4,] %v_19[13.5,] 	 SYMBOL:	 ARGS:%v_19,
		 7: 
		 8: COPY TYPE_StringLiteral "t.deleted_at IS NULL" def_%v_21 
		 9: builder->where def_%v_22 builder[13.6,4.4,] %v_21[13.8,] 	 SYMBOL:	 ARGS:%v_21,
		 10: 
		 11: builder->exec def_%v_23 builder[13.6,13.9,4.4,] 	 SYMBOL:	 ARGS:
		 12: RETURN %v_23[13.11,] %self[2.0,] 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = with_no_response_total instanceMethod = false
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_opts 
		 6: opts[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (SqlBuilder) def_%v_4 
		 2: (WITH_NO_RESPONSE_TOTAL_SQL) def_%v_5 
		 3: %v_4->new def_%v_6 %v_4[4.1,] %v_5[4.2,] 	 SYMBOL:	 ARGS:%v_5,
		 4: COPY TYPE_PASS def_builder %v_6[4.3,] 
		 5: 
		 6: opts->[] def_%v_7 opts[3.1,2.5,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 7: BRANCH %v_7[4.6,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "t.category_id = :category_id" def_%v_8 
		 1: opts->[] def_%v_9 opts[3.1,2.5,] 	 SYMBOL:category_id,	 ARGS:Symbol,
		 2: HASH-category_id- def_%v_10 %v_9[5.1,] 
		 3: builder->where def_%v_11 builder[4.4,] %v_8[5.0,] %v_10[5.2,] 	 SYMBOL:	 ARGS:%v_8,%v_10,
		 4: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "t.archetype <> '" def_%v_12 
		 2: (Archetype) def_%v_13 
		 3: %v_13->private_message def_%v_14 %v_13[7.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral "'" def_%v_15 
		 5: BUILDSTRING def_%v_16 %v_12[7.1,] %v_14[7.3,] %v_15[7.4,] 
		 6: builder->where def_%v_17 builder[4.4,] %v_16[7.5,] 	 SYMBOL:	 ARGS:%v_16,
		 7: 
		 8: COPY TYPE_StringLiteral "t.deleted_at IS NULL" def_%v_18 
		 9: builder->where def_%v_19 builder[7.6,4.4,] %v_18[7.8,] 	 SYMBOL:	 ARGS:%v_18,
		 10: 
		 11: builder->exec def_%v_20 builder[7.6,7.9,4.4,] 	 SYMBOL:	 ARGS:
		 12: %v_20->first def_%v_21 %v_20[7.11,] 	 SYMBOL:	 ARGS:
		 13: COPY TYPE_StringLiteral "count" def_%v_22 
		 14: %v_21->[] def_%v_23 %v_21[7.12,] %v_22[7.13,] 	 SYMBOL:	 ARGS:%v_22,
		 15: %v_23->to_i def_%v_24 %v_23[7.14,] 	 SYMBOL:	 ARGS:
		 16: RETURN %v_24[7.15,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_category_topic_count_by instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 7 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_num 
		 6: 
		 7: %self->category_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->present? def_%v_4 %v_3[2.7,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_4[2.8,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: (Category) def_%v_5 
		 2: COPY TYPE_StringLiteral "id = ?" def_%v_6 
		 3: %self->category_id def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_Array def_%v_8 %v_6[3.2,] %v_7[3.3,] 
		 5: %v_5->where def_%v_9 %v_5[3.1,] %v_8[3.4,] 	 SYMBOL:	 ARGS:%v_8,
		 6: COPY TYPE_StringLiteral "topic_count = topic_count " def_%v_10 
		 7: num->> def_%v_11 num[2.5,] 	 SYMBOL:	 ARGS:Fixnum,
		 8: BRANCH %v_11[3.7,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "+" def_%v_12 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "" def_%v_13 
		 1: COPY TYPE_PASS def_%v_12 %v_13[5.0,] 
BB 6
	outgoing: 9 
	datadep: 
	instructions:
		 0: %v_10->+ def_%v_14 %v_10[3.6,] %v_12[5.1,4.0,] 	 SYMBOL:	 ARGS:%v_12,
		 1: BUILDSTRING def_%v_15 num[2.5,] 
		 2: %v_14->+ def_%v_16 %v_14[6.0,] %v_15[6.1,] 	 SYMBOL:	 ARGS:%v_15,
		 3: %v_9->update_all def_%v_17 %v_9[3.5,] %v_16[6.2,] 	 SYMBOL:	 ARGS:%v_16,
		 4: RETURN %v_17[6.3,] %self[2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = limit_first_day_topics_per_day instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "first-day-topics" def_%v_3 
		 7: %self->apply_per_day_rate_limit_for def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:max_topics_in_first_day,	 ARGS:%v_3,Symbol,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = apply_per_day_rate_limit_for instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_key 
		 6: RECEIVEARG def_method_name 
		 7: 
		 8: (RateLimiter) def_%v_3 
		 9: %self->user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral "-per-day" def_%v_5 
		 11: BUILDSTRING def_%v_6 key[2.5,] %v_5[2.10,] 
		 12: (SiteSetting) def_%v_7 
		 13: %v_7->send def_%v_8 %v_7[2.12,] method_name[2.6,] 	 SYMBOL:	 ARGS:method_name,
		 14: CONSTANT def_%v_9 	 SYMBOL:	 ARGS:
		 15: %v_9->to_i def_%v_10 %v_9[2.14,] 	 SYMBOL:	 ARGS:
		 16: %v_3->new def_%v_11 %v_3[2.8,] %v_4[2.9,] %v_6[2.11,] %v_8[2.13,] %v_10[2.15,] 	 SYMBOL:	 ARGS:%v_4,%v_6,%v_8,%v_10,
		 17: RETURN %v_11[2.16,] %self[2.0,2.9,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

