SET IRMethod, name = store_upload instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_file 
		 6: RECEIVEARG def_upload 
		 7: RECEIVECONSTARG def_content_type 
		 8: content_type[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_content_type 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->get_path_for_upload def_%v_3 %self[2.0,] upload[2.6,] 	 SYMBOL:	 ARGS:upload,
		 2: COPY TYPE_PASS def_path %v_3[4.1,] 
		 3: 
		 4: %self->store_file def_%v_4 %self[4.1,2.0,] file[2.5,] %v_3[4.1,] 	 SYMBOL:	 ARGS:file,path,
		 5: RETURN %v_4[4.4,] %self[4.1,4.4,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = store_optimized_image instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_file 
		 6: RECEIVEARG def_optimized_image 
		 7: 
		 8: %self->get_path_for_optimized_image def_%v_3 %self[2.0,] optimized_image[2.6,] 	 SYMBOL:	 ARGS:optimized_image,
		 9: COPY TYPE_PASS def_path %v_3[2.8,] 
		 10: 
		 11: %self->store_file def_%v_4 %self[2.0,2.8,] file[2.5,] %v_3[2.8,] 	 SYMBOL:	 ARGS:file,path,
		 12: RETURN %v_4[2.11,] %self[2.0,2.8,2.11,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = store_file instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_file 
		 6: RECEIVEARG def_path 
		 7: RECEIVECONSTARG def_opts 
		 8: opts[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = remove_upload instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_upload 
		 6: 
		 7: upload->url def_%v_3 upload[2.5,] 	 SYMBOL:	 ARGS:
		 8: %self->remove_file def_%v_4 %self[2.0,] %v_3[2.7,] 	 SYMBOL:	 ARGS:%v_3,
		 9: RETURN %v_4[2.8,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = remove_optimized_image instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_optimized_image 
		 6: 
		 7: optimized_image->url def_%v_3 optimized_image[2.5,] 	 SYMBOL:	 ARGS:
		 8: %self->remove_file def_%v_4 %self[2.0,] %v_3[2.7,] 	 SYMBOL:	 ARGS:%v_3,
		 9: RETURN %v_4[2.8,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = remove_file instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_url 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_been_uploaded? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_url 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = download_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_upload 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cdn_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_url 
		 6: 
		 7: RETURN url[2.5,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = absolute_base_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = relative_base_url instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = external? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = internal? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->external? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->! def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = path_for instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_upload 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = download instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_upload 
		 6: 
		 7: (DistributedMutex) def_%v_3 
		 8: COPY TYPE_StringLiteral "download_" def_%v_4 
		 9: upload->sha1 def_%v_5 upload[2.5,] 	 SYMBOL:	 ARGS:
		 10: BUILDSTRING def_%v_6 %v_4[2.8,] %v_5[2.9,] 
		 11: %v_3->synchronize def_%v_7 %v_3[2.7,] %v_6[2.10,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_6,%v_3,
CLOSURE BEGIN: upload[2.5,2.9,] %self[2.0,] max_file_size_kb[] filename[] file[] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: upload->sha1 def_%cl_1_3 upload[] 	 SYMBOL:	 ARGS:
		 2: (File) def_%cl_1_4 
		 3: upload->original_filename def_%cl_1_5 upload[3.1,] 	 SYMBOL:	 ARGS:
		 4: %cl_1_4->extname def_%cl_1_6 %cl_1_4[3.2,] %cl_1_5[3.3,] 	 SYMBOL:	 ARGS:%cl_1_5,
		 5: BUILDSTRING def_%cl_1_7 %cl_1_3[3.1,] %cl_1_6[3.4,] 
		 6: COPY TYPE_PASS def_filename %cl_1_7[3.5,] 
		 7: 
		 8: %self->get_from_cache def_%cl_1_8 %self[2.0,] %cl_1_7[3.5,] 	 SYMBOL:	 ARGS:filename,
		 9: COPY TYPE_PASS def_file %cl_1_8[3.8,] 
		 10: 
		 11: %cl_1_8->! def_%cl_1_9 %cl_1_8[3.8,] 	 SYMBOL:	 ARGS:
		 12: BRANCH %cl_1_9[3.11,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: (SiteSetting) def_%cl_1_10 
		 2: %cl_1_10->max_image_size_kb def_%cl_1_11 %cl_1_10[4.1,] 	 SYMBOL:	 ARGS:
		 3: (SiteSetting) def_%cl_1_12 
		 4: %cl_1_12->max_attachment_size_kb def_%cl_1_13 %cl_1_12[4.3,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_Array def_%cl_1_14 %cl_1_11[4.2,] %cl_1_13[4.4,] 
		 6: %cl_1_14->max def_%cl_1_15 %cl_1_14[4.5,] 	 SYMBOL:	 ARGS:
		 7: %cl_1_15->kilobytes def_%cl_1_16 %cl_1_15[4.6,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_PASS def_max_file_size_kb %cl_1_16[4.7,] 
		 9: 
		 10: (SiteSetting) def_%cl_1_17 
		 11: %cl_1_17->scheme def_%cl_1_18 %cl_1_17[4.10,] 	 SYMBOL:	 ARGS:
		 12: COPY TYPE_StringLiteral ":" def_%cl_1_19 
		 13: %cl_1_18->+ def_%cl_1_20 %cl_1_18[4.11,] %cl_1_19[4.12,] 	 SYMBOL:	 ARGS:%cl_1_19,
		 14: upload->url def_%cl_1_21 upload[] 	 SYMBOL:	 ARGS:
		 15: %cl_1_20->+ def_%cl_1_22 %cl_1_20[4.13,] %cl_1_21[4.14,] 	 SYMBOL:	 ARGS:%cl_1_21,
		 16: COPY TYPE_PASS def_url %cl_1_22[4.15,] 
		 17: 
		 18: (FileHelper) def_%cl_1_23 
		 19: COPY TYPE_StringLiteral "discourse-download" def_%cl_1_24 
		 20: %cl_1_23->download def_%cl_1_25 %cl_1_23[4.18,] %cl_1_22[4.15,] max_file_size_kb[4.8,] %cl_1_24[4.19,] 	 SYMBOL:	 ARGS:url,max_file_size_kb,%cl_1_24,Boolean,
		 21: COPY TYPE_PASS def_file %cl_1_25[4.20,] 
		 22: 
		 23: %self->cache_file def_%cl_1_26 %self[2.0,] %cl_1_25[4.20,] filename[3.6,] 	 SYMBOL:	 ARGS:file,filename,
		 24: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_26 
BB 6
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: RETURN file[4.21,3.9,] %self[2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_27 
		 1: def_%cl_1_28 %cl_1_27[7.0,] 
		 2: RETURN %cl_1_28[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: file[4.21,3.9,] max_file_size_kb[4.8,] url[4.16,] 
		 12: RETURN %v_7[2.11,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = purge_tombstone instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_grace_period 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_depth_for instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_id 
		 6: 
		 7: (Math) def_%v_3 
		 8: id->/ def_%v_4 id[2.5,] 	 SYMBOL:	 ARGS:Float,
		 9: %v_3->log def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,Fixnum,
		 10: %v_5->ceil def_%v_6 %v_5[2.9,] 	 SYMBOL:	 ARGS:
		 11: COPY TYPE_Array def_%v_7 %v_6[2.10,] 
		 12: %v_7->max def_%v_8 %v_7[2.11,] 	 SYMBOL:	 ARGS:
		 13: RETURN %v_8[2.12,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_path_for instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_type 
		 6: RECEIVEARG def_id 
		 7: RECEIVEARG def_sha 
		 8: RECEIVEARG def_extension 
		 9: 
		 10: %self->get_depth_for def_%v_3 %self[2.0,] id[2.6,] 	 SYMBOL:	 ARGS:id,
		 11: COPY TYPE_PASS def_depth %v_3[2.10,] 
		 12: 
		 13: (File) def_%v_4 
		 14: sha->[] def_%v_6 sha[2.7,] %v_3[2.10,] 	 SYMBOL:	 ARGS:Fixnum,depth,
		 15: COPY TYPE_StringLiteral "" def_%v_7 
		 16: %v_6->split def_%v_8 %v_6[2.14,] %v_7[2.15,] 	 SYMBOL:	 ARGS:%v_7,
		 17: def_%v_5 %v_8[2.16,] 
		 18: COPY TYPE_StringLiteral "" def_%v_9 
		 19: def_%v_10 %v_5[2.17,] %v_9[2.18,] 
		 20: %v_4->join def_%v_11 %v_4[2.13,] %v_10[2.19,] 	 SYMBOL:	 ARGS:Splat,
		 21: COPY TYPE_PASS def_tree %v_11[2.20,] 
		 22: 
		 23: COPY TYPE_StringLiteral "/" def_%v_12 
		 24: depth->+ def_%v_13 depth[2.11,] 	 SYMBOL:	 ARGS:Fixnum,
		 25: COPY TYPE_StringLiteral "X/" def_%v_14 
		 26: BUILDSTRING def_%v_15 type[2.5,] %v_12[2.23,] %v_13[2.24,] %v_14[2.25,] tree[2.21,] sha[2.7,2.14,] extension[2.8,] 
		 27: RETURN %v_15[2.26,] %self[2.0,2.10,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_path_for_upload instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_upload 
		 6: 
		 7: upload->id def_%v_3 upload[2.5,] 	 SYMBOL:	 ARGS:
		 8: upload->sha1 def_%v_4 upload[2.5,2.7,] 	 SYMBOL:	 ARGS:
		 9: upload->extension def_%v_5 upload[2.5,2.7,2.8,] 	 SYMBOL:	 ARGS:
		 10: %self->get_path_for def_%v_6 %self[2.0,] %v_3[2.7,] %v_4[2.8,] %v_5[2.9,] 	 SYMBOL:	 ARGS:FrozenString,%v_3,%v_4,%v_5,
		 11: RETURN %v_6[2.10,] %self[2.0,2.10,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_path_for_optimized_image instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_optimized_image 
		 6: 
		 7: optimized_image->upload def_%v_3 optimized_image[2.5,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_PASS def_upload %v_3[2.7,] 
		 9: 
		 10: COPY TYPE_StringLiteral "_" def_%v_4 
		 11: (OptimizedImage) def_%v_5 
		 12: (inherit VERSION) def_%v_6 %v_5[2.11,] 
		 13: %v_6[2.12,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %v_5->const_missing def_%v_6 %v_5[2.11,] 	 SYMBOL:VERSION,	 ARGS:Symbol,
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "_" def_%v_7 
		 1: optimized_image->width def_%v_8 optimized_image[2.5,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral "x" def_%v_9 
		 3: optimized_image->height def_%v_10 optimized_image[4.1,2.5,] 	 SYMBOL:	 ARGS:
		 4: optimized_image->extension def_%v_11 optimized_image[4.1,4.3,2.5,] 	 SYMBOL:	 ARGS:
		 5: BUILDSTRING def_%v_12 %v_4[2.10,] %v_6[3.0,2.12,] %v_7[4.0,] %v_8[4.1,] %v_9[4.2,] %v_10[4.3,] %v_11[4.4,] 
		 6: COPY TYPE_PASS def_extension %v_12[4.5,] 
		 7: 
		 8: upload->id def_%v_13 upload[2.8,] 	 SYMBOL:	 ARGS:
		 9: upload->sha1 def_%v_14 upload[4.8,2.8,] 	 SYMBOL:	 ARGS:
		 10: %self->get_path_for def_%v_15 %self[2.0,] %v_13[4.8,] %v_14[4.9,] extension[4.6,] 	 SYMBOL:	 ARGS:FrozenString,%v_13,%v_14,extension,
		 11: RETURN %v_15[4.10,] %self[4.10,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_cache_path_for instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_filename 
		 6: 
		 7: (CACHE_DIR) def_%v_3 
		 8: BUILDSTRING def_%v_4 %v_3[2.7,] filename[2.5,] 
		 9: RETURN %v_4[2.8,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = get_from_cache instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_filename 
		 6: 
		 7: %self->get_cache_path_for def_%v_3 %self[2.0,] filename[2.5,] 	 SYMBOL:	 ARGS:filename,
		 8: COPY TYPE_PASS def_path %v_3[2.7,] 
		 9: 
		 10: (File) def_%v_4 
		 11: %v_4->exists? def_%v_5 %v_4[2.10,] %v_3[2.7,] 	 SYMBOL:	 ARGS:path,
		 12: BRANCH %v_5[2.11,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: (File) def_%v_6 
		 1: %v_6->open def_%v_7 %v_6[3.0,] path[2.8,] 	 SYMBOL:	 ARGS:path,
		 2: RETURN %v_7[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cache_file instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_file 
		 6: RECEIVEARG def_filename 
		 7: 
		 8: %self->get_cache_path_for def_%v_3 %self[2.0,] filename[2.6,] 	 SYMBOL:	 ARGS:filename,
		 9: COPY TYPE_PASS def_path %v_3[2.8,] 
		 10: 
		 11: (File) def_%v_4 
		 12: %v_4->dirname def_%v_5 %v_4[2.11,] %v_3[2.8,] 	 SYMBOL:	 ARGS:path,
		 13: COPY TYPE_PASS def_dir %v_5[2.12,] 
		 14: 
		 15: (Dir) def_%v_6 
		 16: %v_6->[] def_%v_7 %v_6[2.15,] %v_5[2.12,] 	 SYMBOL:	 ARGS:dir,
		 17: %v_7->present? def_%v_8 %v_7[2.16,] 	 SYMBOL:	 ARGS:
		 18: BRANCH %v_8[2.17,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
		 1: 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: (FileUtils) def_%v_10 
		 1: %v_10->mkdir_p def_%v_11 %v_10[4.0,] dir[2.13,] 	 SYMBOL:	 ARGS:dir,
		 2: COPY TYPE_PASS def_%v_9 %v_11[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (FileUtils) def_%v_12 
		 2: file->path def_%v_13 file[2.5,] 	 SYMBOL:	 ARGS:
		 3: %v_12->cp def_%v_14 %v_12[5.1,] %v_13[5.2,] path[2.9,] 	 SYMBOL:	 ARGS:%v_13,path,
		 4: 
		 5: COPY TYPE_StringLiteral "ls -tr " def_%v_15 
		 6: (CACHE_DIR) def_%v_16 
		 7: COPY TYPE_StringLiteral " | head -n +" def_%v_17 
		 8: (CACHE_MAXIMUM_SIZE) def_%v_18 
		 9: COPY TYPE_StringLiteral " | xargs rm -f" def_%v_19 
		 10: def_%v_20 %v_15[5.5,] %v_16[5.6,] %v_17[5.7,] %v_18[5.8,] %v_19[5.9,] 
		 11: RETURN %v_20[5.10,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

