SET IRMethod, name = per_facet instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = per_filter instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = burst_factor instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = facets instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "topic" def_%v_3 
		 7: COPY TYPE_StringLiteral "category" def_%v_4 
		 8: COPY TYPE_StringLiteral "user" def_%v_5 
		 9: COPY TYPE_StringLiteral "private_messages" def_%v_6 
		 10: COPY TYPE_Array def_%v_7 %v_3[2.6,] %v_4[2.7,] %v_5[2.8,] %v_6[2.9,] 
		 11: RETURN %v_7[2.10,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = long_locale instanceMethod = false
BB 1
	outgoing: 29 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 15 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->default_locale def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->to_sym def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: def_%v_7 %v_5[2.8,] 
		 10: BRANCH %v_7[2.9,] 
BB 3
	outgoing: 4 16 
	datadep: 
	instructions:
		 0: def_%v_8 %v_5[2.8,] 
		 1: BRANCH %v_8[3.0,] 
BB 4
	outgoing: 5 17 
	datadep: 
	instructions:
		 0: def_%v_9 %v_5[2.8,] 
		 1: BRANCH %v_9[4.0,] 
BB 5
	outgoing: 6 18 
	datadep: 
	instructions:
		 0: def_%v_10 %v_5[2.8,] 
		 1: BRANCH %v_10[5.0,] 
BB 6
	outgoing: 7 19 
	datadep: 
	instructions:
		 0: def_%v_11 %v_5[2.8,] 
		 1: BRANCH %v_11[6.0,] 
BB 7
	outgoing: 8 20 
	datadep: 
	instructions:
		 0: def_%v_12 %v_5[2.8,] 
		 1: BRANCH %v_12[7.0,] 
BB 8
	outgoing: 9 21 
	datadep: 
	instructions:
		 0: def_%v_13 %v_5[2.8,] 
		 1: BRANCH %v_13[8.0,] 
BB 9
	outgoing: 10 22 
	datadep: 
	instructions:
		 0: def_%v_14 %v_5[2.8,] 
		 1: BRANCH %v_14[9.0,] 
BB 10
	outgoing: 11 23 
	datadep: 
	instructions:
		 0: def_%v_15 %v_5[2.8,] 
		 1: BRANCH %v_15[10.0,] 
BB 11
	outgoing: 12 24 
	datadep: 
	instructions:
		 0: def_%v_16 %v_5[2.8,] 
		 1: BRANCH %v_16[11.0,] 
BB 12
	outgoing: 13 25 
	datadep: 
	instructions:
		 0: def_%v_17 %v_5[2.8,] 
		 1: BRANCH %v_17[12.0,] 
BB 13
	outgoing: 14 26 
	datadep: 
	instructions:
		 0: def_%v_18 %v_5[2.8,] 
		 1: BRANCH %v_18[13.0,] 
BB 14
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "simple" def_%v_31 
		 2: COPY TYPE_PASS def_%v_6 %v_31[14.1,] 
		 3: RETURN %v_31[14.1,] %self[2.0,] 
BB 15
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "danish" def_%v_19 
		 2: COPY TYPE_PASS def_%v_6 %v_19[15.1,] 
		 3: RETURN %v_19[15.1,] %self[2.0,] 
BB 16
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "german" def_%v_20 
		 2: COPY TYPE_PASS def_%v_6 %v_20[16.1,] 
		 3: RETURN %v_20[16.1,] %self[2.0,] 
BB 17
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "english" def_%v_21 
		 2: COPY TYPE_PASS def_%v_6 %v_21[17.1,] 
		 3: RETURN %v_21[17.1,] %self[2.0,] 
BB 18
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "spanish" def_%v_22 
		 2: COPY TYPE_PASS def_%v_6 %v_22[18.1,] 
		 3: RETURN %v_22[18.1,] %self[2.0,] 
BB 19
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "french" def_%v_23 
		 2: COPY TYPE_PASS def_%v_6 %v_23[19.1,] 
		 3: RETURN %v_23[19.1,] %self[2.0,] 
BB 20
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "italian" def_%v_24 
		 2: COPY TYPE_PASS def_%v_6 %v_24[20.1,] 
		 3: RETURN %v_24[20.1,] %self[2.0,] 
BB 21
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "dutch" def_%v_25 
		 2: COPY TYPE_PASS def_%v_6 %v_25[21.1,] 
		 3: RETURN %v_25[21.1,] %self[2.0,] 
BB 22
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "norwegian" def_%v_26 
		 2: COPY TYPE_PASS def_%v_6 %v_26[22.1,] 
		 3: RETURN %v_26[22.1,] %self[2.0,] 
BB 23
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "portuguese" def_%v_27 
		 2: COPY TYPE_PASS def_%v_6 %v_27[23.1,] 
		 3: RETURN %v_27[23.1,] %self[2.0,] 
BB 24
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "portuguese" def_%v_28 
		 2: COPY TYPE_PASS def_%v_6 %v_28[24.1,] 
		 3: RETURN %v_28[24.1,] %self[2.0,] 
BB 25
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "swedish" def_%v_29 
		 2: COPY TYPE_PASS def_%v_6 %v_29[25.1,] 
		 3: RETURN %v_29[25.1,] %self[2.0,] 
BB 26
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "russian" def_%v_30 
		 2: COPY TYPE_PASS def_%v_6 %v_30[26.1,] 
		 3: RETURN %v_30[26.1,] %self[2.0,] 
BB 29
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = rebuild_problem_posts instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_limit 
		 6: limit[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_limit 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_3 
		 2: %v_3->joins def_%v_4 %v_3[4.1,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 3: COPY TYPE_StringLiteral "posts.id IN (
               SELECT p2.id FROM posts p2
               LEFT JOIN post_search_data pd ON locale = ? AND p2.id = pd.post_id
               WHERE pd.post_id IS NULL
              )" def_%v_5 
		 4: (SiteSetting) def_%v_6 
		 5: %v_6->default_locale def_%v_7 %v_6[4.4,] 	 SYMBOL:	 ARGS:
		 6: %v_4->where def_%v_8 %v_4[4.2,] %v_5[4.3,] %v_7[4.5,] 	 SYMBOL:	 ARGS:%v_5,%v_7,
		 7: %v_8->limit def_%v_9 %v_8[4.6,] 	 SYMBOL:	 ARGS:Fixnum,
		 8: COPY TYPE_PASS def_posts %v_9[4.7,] 
		 9: 
		 10: %v_9->each def_%v_10 %v_9[4.7,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_9,
CLOSURE BEGIN: post[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_post 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: post->cooked def_%cl_1_3 post[2.2,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral " " def_%cl_1_5 
		 3: %cl_1_3->+ def_%cl_1_6 %cl_1_3[3.1,] %cl_1_5[3.2,] 	 SYMBOL:	 ARGS:%cl_1_5,
		 4: post->cooked= def_%cl_1_4 %cl_1_6[3.3,] 	 SYMBOL:	 ARGS:%cl_1_6,
		 5: 
		 6: (SearchObserver) def_%cl_1_7 
		 7: %cl_1_7->index def_%cl_1_8 %cl_1_7[3.6,] post[3.1,3.4,2.2,] 	 SYMBOL:	 ARGS:post,
		 8: RETURN %cl_1_8[3.7,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_9 
		 1: def_%cl_1_10 %cl_1_9[4.0,] 
		 2: RETURN %cl_1_10[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 11: 
		 12: (Post) def_%v_11 
		 13: %v_11->joins def_%v_12 %v_11[4.12,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 14: COPY TYPE_StringLiteral "posts.id IN (
               SELECT p2.id FROM posts p2
               LEFT JOIN topic_search_data pd ON locale = ? AND p2.topic_id = pd.topic_id
               WHERE pd.topic_id IS NULL AND p2.post_number = 1
              )" def_%v_13 
		 15: (SiteSetting) def_%v_14 
		 16: %v_14->default_locale def_%v_15 %v_14[4.15,] 	 SYMBOL:	 ARGS:
		 17: %v_12->where def_%v_16 %v_12[4.13,] %v_13[4.14,] %v_15[4.16,] 	 SYMBOL:	 ARGS:%v_13,%v_15,
		 18: %v_16->limit def_%v_17 %v_16[4.17,] 	 SYMBOL:	 ARGS:Fixnum,
		 19: COPY TYPE_PASS def_posts %v_17[4.18,] 
		 20: 
		 21: %v_17->each def_%v_18 %v_17[4.18,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_17,
CLOSURE BEGIN: post[4.10,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_post 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: post->cooked def_%cl_2_3 post[2.2,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral " " def_%cl_2_5 
		 3: %cl_2_3->+ def_%cl_2_6 %cl_2_3[3.1,] %cl_2_5[3.2,] 	 SYMBOL:	 ARGS:%cl_2_5,
		 4: post->cooked= def_%cl_2_4 %cl_2_6[3.3,] 	 SYMBOL:	 ARGS:%cl_2_6,
		 5: 
		 6: (SearchObserver) def_%cl_2_7 
		 7: %cl_2_7->index def_%cl_2_8 %cl_2_7[3.6,] post[3.1,3.4,2.2,] 	 SYMBOL:	 ARGS:post,
		 8: RETURN %cl_2_8[3.7,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_9 
		 1: def_%cl_2_10 %cl_2_9[4.0,] 
		 2: RETURN %cl_2_10[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 22: 
		 23: RETURN %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = prepare_data instanceMethod = false
BB 1
	outgoing: 24 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_search_data 
		 6: 
		 7: search_data->squish def_%v_3 search_data[2.5,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_PASS def_data %v_3[2.7,] 
		 9: 
		 10: COPY TYPE_StringLiteral "zh_TW" def_%v_4 
		 11: COPY TYPE_StringLiteral "zh_CN" def_%v_5 
		 12: COPY TYPE_StringLiteral "ja" def_%v_6 
		 13: COPY TYPE_StringLiteral "ko" def_%v_7 
		 14: COPY TYPE_Array def_%v_8 %v_4[2.10,] %v_5[2.11,] %v_6[2.12,] %v_7[2.13,] 
		 15: (SiteSetting) def_%v_9 
		 16: %v_9->default_locale def_%v_10 %v_9[2.15,] 	 SYMBOL:	 ARGS:
		 17: %v_8->include? def_%v_11 %v_8[2.14,] %v_10[2.16,] 	 SYMBOL:	 ARGS:%v_10,
		 18: BRANCH %v_11[2.17,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_12 
		 1: %v_12->search_tokenize_chinese_japanese_korean def_%v_13 %v_12[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_11 %v_13[3.1,] 
BB 4
	outgoing: 5 22 
	datadep: 
	instructions:
		 0: BRANCH %v_11[3.2,2.17,] 
BB 5
	outgoing: 6 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_14 
		 2: %v_14[5.1,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: (inherit RMMSeg) def_%v_14 
		 1: %v_14[6.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
		 1: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_FrozenString frozen:"constant" def_%v_14 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_14[8.0,7.0,] 
BB 10
	outgoing: 14 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_15 
		 1: 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "rmmseg" def_%v_16 
		 2: %self->require def_%v_17 %self[2.0,] %v_16[11.1,] 	 SYMBOL:	 ARGS:%v_16,
		 3: 
		 4: (RMMSeg) def_%v_18 
		 5: (inherit Dictionary) def_%v_19 %v_18[11.4,] 
		 6: %v_19[11.5,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: %v_18->const_missing def_%v_19 %v_18[11.4,] 	 SYMBOL:Dictionary,	 ARGS:Symbol,
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: %v_19->load_dictionaries def_%v_20 %v_19[12.0,11.5,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_15 %v_20[13.0,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: 
		 1: (RMMSeg) def_%v_21 
		 2: (inherit Algorithm) def_%v_22 %v_21[14.1,] 
		 3: %v_22[14.2,] 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: %v_21->const_missing def_%v_22 %v_21[14.1,] 	 SYMBOL:Algorithm,	 ARGS:Symbol,
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: %v_22->new def_%v_23 %v_22[15.0,14.2,] search_data[2.5,] 	 SYMBOL:	 ARGS:search_data,
		 1: COPY TYPE_PASS def_algo %v_23[16.0,] 
		 2: 
		 3: COPY TYPE_StringLiteral "" def_%v_24 
		 4: COPY TYPE_PASS def_data %v_24[16.3,] 
		 5: 
BB 17
	outgoing: 18 20 
	datadep: 
	instructions:
		 0: algo->next_token def_%v_26 algo[16.1,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_token %v_26[17.0,] 
		 2: BRANCH %v_26[17.0,] 
BB 18
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: token->text def_%v_27 token[17.1,] 	 SYMBOL:	 ARGS:
		 3: data-><< def_%v_28 data[16.4,] %v_27[18.2,] 	 SYMBOL:	 ARGS:%v_27,
		 4: COPY TYPE_StringLiteral " " def_%v_29 
		 5: %v_28-><< def_%v_30 %v_28[18.3,] %v_29[18.4,] 	 SYMBOL:	 ARGS:%v_29,
		 6: 
BB 20
	outgoing: 23 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_25 
		 1: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_25 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "UTF-8" def_%v_31 
		 2: data->force_encoding def_%v_32 data[2.8,16.4,] %v_31[23.1,] 	 SYMBOL:	 ARGS:%v_31,
		 3: 
		 4: RETURN data[23.2,2.8,16.4,] %self[2.0,] 
BB 24
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = initialize instanceMethod = true
BB 1
	outgoing: 24 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_term 
		 6: RECEIVECONSTARG def_opts 
		 7: opts[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.6,] 
		 2: BRANCH opts[3.0,2.6,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_4 
		 1: COPY TYPE_PASS def_%v_3 %v_4[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: ATTRASSIGN %self->opts %v_3[5.1,4.1,] 
		 1: 
		 2: GETFIELD %self->opts def_%v_5 %self[6.0,2.0,] 
		 3: %v_5->[] def_%v_6 %v_5[6.2,] 	 SYMBOL:guardian,	 ARGS:Symbol,
		 4: BRANCH %v_6[6.3,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: (Guardian) def_%v_7 
		 1: %v_7->new def_%v_8 %v_7[7.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_6 %v_8[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: ATTRASSIGN %self->guardian %v_6[7.2,6.3,] 
		 1: 
		 2: GETFIELD %self->opts def_%v_9 %self[6.0,2.0,] 
		 3: %v_9->[] def_%v_10 %v_9[8.2,] 	 SYMBOL:search_context,	 ARGS:Symbol,
		 4: ATTRASSIGN %self->search_context %v_10[8.3,] 
		 5: 
		 6: GETFIELD %self->opts def_%v_11 %self[6.0,2.0,] 
		 7: %v_11->[] def_%v_12 %v_11[8.6,] 	 SYMBOL:include_blurbs,	 ARGS:Symbol,
		 8: BRANCH %v_12[8.7,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Boolean def_%v_12 
BB 10
	outgoing: 11 14 
	datadep: 
	instructions:
		 0: ATTRASSIGN %self->include_blurbs %v_12[9.0,8.7,] 
		 1: 
		 2: GETFIELD %self->opts def_%v_13 %self[6.0,2.0,] 
		 3: %v_13->[] def_%v_14 %v_13[10.2,] 	 SYMBOL:blurb_length,	 ARGS:Symbol,
		 4: ATTRASSIGN %self->blurb_length %v_14[10.3,] 
		 5: 
		 6: (Search) def_%v_15 
		 7: %v_15->per_facet def_%v_16 %v_15[10.6,] 	 SYMBOL:	 ARGS:
		 8: ATTRASSIGN %self->limit %v_16[10.7,] 
		 9: 
		 10: %self->process_advanced_search! def_%v_17 %self[10.0,10.4,10.8,8.0,8.4,6.0,2.0,] term[2.5,] 	 SYMBOL:	 ARGS:term,
		 11: COPY TYPE_PASS def_term %v_17[10.10,] 
		 12: 
		 13: %v_17->present? def_%v_18 %v_17[10.10,] 	 SYMBOL:	 ARGS:
		 14: BRANCH %v_18[10.13,] 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: 
		 1: (Search) def_%v_19 
		 2: term->to_s def_%v_20 term[10.11,] 	 SYMBOL:	 ARGS:
		 3: %v_19->prepare_data def_%v_21 %v_19[11.1,] %v_20[11.2,] 	 SYMBOL:	 ARGS:%v_20,
		 4: ATTRASSIGN %self->term %v_21[11.3,] 
		 5: 
		 6: (PG) def_%v_22 
		 7: (inherit Connection) def_%v_23 %v_22[11.6,] 
		 8: %v_23[11.7,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: %v_22->const_missing def_%v_23 %v_22[11.6,] 	 SYMBOL:Connection,	 ARGS:Symbol,
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: GETFIELD %self->term def_%v_24 %self[11.4,2.0,] 
		 1: %v_23->escape_string def_%v_25 %v_23[12.0,11.7,] %v_24[13.0,] 	 SYMBOL:	 ARGS:%v_24,
		 2: ATTRASSIGN %self->original_term %v_25[13.1,] 
		 3: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_25 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->search_pms def_%v_26 %self[2.0,] 
		 2: BRANCH %v_26[15.1,] 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: GETFIELD %self->guardian def_%v_27 %self[8.0,2.0,] 
		 1: %v_27->user def_%v_28 %v_27[16.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_26 %v_28[16.1,] 
BB 17
	outgoing: 18 19 
	datadep: 
	instructions:
		 0: BRANCH %v_26[16.2,15.1,] 
BB 18
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->opts def_%v_29 %self[6.0,2.0,] 
		 2: COPY TYPE_StringLiteral "private_messages" def_%v_30 
		 3: ATTRASSIGN %v_29->[] %v_30[18.2,] 
		 4: 
		 5: GETFIELD %self->guardian def_%v_31 %self[8.0,2.0,] 
		 6: %v_31->user def_%v_32 %v_31[18.5,] 	 SYMBOL:	 ARGS:
		 7: ATTRASSIGN %self->search_context %v_32[18.6,] 
		 8: 
BB 19
	outgoing: 20 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_32 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->opts def_%v_33 %self[6.0,2.0,] 
		 2: %v_33->[] def_%v_34 %v_33[20.1,] 	 SYMBOL:type_filter,	 ARGS:Symbol,
		 3: %v_34->present? def_%v_35 %v_34[20.2,] 	 SYMBOL:	 ARGS:
		 4: BRANCH %v_35[20.3,] 
BB 21
	outgoing: 23 
	datadep: 
	instructions:
		 0: 
		 1: (Search) def_%v_36 
		 2: %v_36->per_filter def_%v_37 %v_36[21.1,] 	 SYMBOL:	 ARGS:
		 3: ATTRASSIGN %self->limit %v_37[21.2,] 
		 4: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_37 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: 
		 1: (GroupedSearchResults) def_%v_38 
		 2: GETFIELD %self->opts def_%v_39 %self[6.0,2.0,] 
		 3: %v_39->[] def_%v_40 %v_39[23.2,] 	 SYMBOL:type_filter,	 ARGS:Symbol,
		 4: GETFIELD %self->search_context def_%v_41 %self[18.7,8.4,2.0,] 
		 5: GETFIELD %self->include_blurbs def_%v_42 %self[10.0,2.0,] 
		 6: GETFIELD %self->blurb_length def_%v_43 %self[10.4,2.0,] 
		 7: %v_38->new def_%v_44 %v_38[23.1,] %v_40[23.3,] term[10.11,] %v_41[23.4,] %v_42[23.5,] %v_43[23.6,] 	 SYMBOL:	 ARGS:%v_40,term,%v_41,%v_42,%v_43,
		 8: ATTRASSIGN %self->results %v_44[23.7,] 
		 9: RETURN %v_44[23.7,] %self[23.8,21.3,18.7,13.2,10.0,10.4,10.8,11.4,8.0,8.4,6.0,2.0,] 
BB 24
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = execute instanceMethod = false
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_term 
		 6: RECEIVECONSTARG def_opts 
		 7: opts[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->new def_%v_3 %self[2.0,] term[2.5,] opts[3.0,2.6,] 	 SYMBOL:	 ARGS:term,opts,
		 2: %v_3->execute def_%v_4 %v_3[4.1,] 	 SYMBOL:	 ARGS:
		 3: RETURN %v_4[4.2,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = execute instanceMethod = true
BB 1
	outgoing: 38 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->term def_%v_3 %self[2.0,] 
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: GETFIELD %self->term def_%v_5 %self[2.0,] 
		 1: %v_5->length def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: GETFIELD %self->opts def_%v_7 %self[2.0,] 
		 3: %v_7->[] def_%v_8 %v_7[3.2,] 	 SYMBOL:min_search_term_length,	 ARGS:Symbol,
		 4: BRANCH %v_8[3.3,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: (SiteSetting) def_%v_9 
		 1: %v_9->min_search_term_length def_%v_10 %v_9[4.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_8 %v_10[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %v_6->< def_%v_11 %v_6[3.1,] %v_8[4.2,3.3,] 	 SYMBOL:	 ARGS:%v_8,
		 1: COPY TYPE_PASS def_%v_4 %v_11[5.0,] 
BB 6
	outgoing: 7 11 
	datadep: 
	instructions:
		 0: BRANCH %v_4[5.1,2.7,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->filters def_%v_12 %self[2.0,] 
		 2: %v_12->present? def_%v_13 %v_12[7.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_13[7.2,] 
BB 8
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
		 1: 
BB 9
	outgoing: 38 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->opts def_%v_15 %self[2.0,] 
		 2: %v_15->[] def_%v_16 %v_15[12.1,] 	 SYMBOL:search_for_id,	 ARGS:Symbol,
		 3: BRANCH %v_16[12.2,] 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: GETFIELD %self->results def_%v_17 %self[2.0,] 
		 1: %v_17->type_filter def_%v_18 %v_17[13.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral "topic" def_%v_19 
		 3: %v_18->== def_%v_20 %v_18[13.1,] %v_19[13.2,] 	 SYMBOL:	 ARGS:%v_19,
		 4: COPY TYPE_PASS def_%v_16 %v_20[13.3,] 
BB 14
	outgoing: 15 33 
	datadep: 
	instructions:
		 0: BRANCH %v_16[13.4,12.2,] 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->term def_%v_21 %self[2.0,] 
		 2: COPY TYPE_Regexp def_%v_22 
		 3: %v_21->=~ def_%v_23 %v_21[15.1,] 	 SYMBOL:	 ARGS:%v_22,
		 4: BRANCH %v_23[15.3,] 
BB 16
	outgoing: 32 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->term def_%v_24 %self[2.0,] 
		 2: %v_24->to_i def_%v_25 %v_24[16.1,] 	 SYMBOL:	 ARGS:
		 3: %self->single_topic def_%v_26 %self[2.0,] %v_25[16.2,] 	 SYMBOL:	 ARGS:%v_25,
		 4: 
BB 17
	outgoing: 19 
	datadep: 
	instructions:
		 0: 
		 1: GLOBALVAR $! def_%v_27 
BB 19
	outgoing: 20 21 24 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: (Rails) def_%v_30 
		 3: %v_30->application def_%v_31 %v_30[19.2,] 	 SYMBOL:	 ARGS:
		 4: %v_31->routes def_%v_32 %v_31[19.3,] 	 SYMBOL:	 ARGS:
		 5: GETFIELD %self->term def_%v_33 %self[2.0,] 
		 6: %v_32->recognize_path def_%v_34 %v_32[19.4,] %v_33[19.5,] 	 SYMBOL:	 ARGS:%v_33,
		 7: COPY TYPE_PASS def_route %v_34[19.6,] 
		 8: 
		 9: %v_34->[] def_%v_35 %v_34[19.6,] 	 SYMBOL:topic_id,	 ARGS:Symbol,
		 10: %v_35->present? def_%v_36 %v_35[19.9,] 	 SYMBOL:	 ARGS:
		 11: BRANCH %v_36[19.10,] 
BB 20
	outgoing: 22 24 
	datadep: 
	instructions:
		 0: route->[] def_%v_37 route[19.7,] 	 SYMBOL:topic_id,	 ARGS:Symbol,
		 1: %self->single_topic def_%v_38 %self[2.0,] %v_37[20.0,] 	 SYMBOL:	 ARGS:%v_37,
		 2: 
BB 21
	outgoing: 22 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_38 
BB 22
	outgoing: 23 24 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_29 %v_38[21.0,20.1,] 
		 1: 
		 2: %v_27[17.1,] 
BB 23
	outgoing: 31 
	datadep: 
	instructions:
		 0: 
BB 24
	outgoing: 25 26 30 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_39 
		 2: (ActionController) def_%v_40 
		 3: (inherit RoutingError) def_%v_41 %v_40[24.2,] 
		 4: %v_41[24.3,] 
BB 25
	outgoing: 26 30 
	datadep: 
	instructions:
		 0: %v_40->const_missing def_%v_41 %v_40[24.2,] 	 SYMBOL:RoutingError,	 ARGS:Symbol,
BB 26
	outgoing: 27 28 30 
	datadep: 
	instructions:
		 0: def_%v_42 %v_41[25.0,24.3,] %v_39[24.1,] 
		 1: BRANCH %v_42[26.0,] 
BB 27
	outgoing: 30 38 
	datadep: 
	instructions:
		 0: %v_39[24.1,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_29 
		 1: 
		 2: %v_27[17.1,] 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: 
BB 30
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%v_43 
		 1: def_%v_44 %v_43[30.0,] %v_27[17.1,] 
		 2: %v_43[30.0,] 
BB 31
	outgoing: 32 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_26 %v_29[22.0,28.0,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: 
BB 33
	outgoing: 34 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_26 
BB 34
	outgoing: 35 36 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%v_45 %self[2.0,] 
		 2: %v_45->posts def_%v_46 %v_45[34.1,] 	 SYMBOL:	 ARGS:
		 3: %v_46->present? def_%v_47 %v_46[34.2,] 	 SYMBOL:	 ARGS:
		 4: BRANCH %v_47[34.3,] 
BB 35
	outgoing: 37 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_48 
		 1: 
BB 36
	outgoing: 37 
	datadep: 
	instructions:
		 0: %self->find_grouped_results def_%v_49 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_48 %v_49[36.0,] 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%v_50 %self[2.0,] 
		 2: RETURN %v_50[37.1,] %self[2.0,] 
BB 38
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = advanced_filter instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_trigger 
		 6: def_%v_3 
		 7: def_block %v_3[2.6,] 
		 8: 
		 9: def_%v_5 %self[2.0,] 
		 10: COPY TYPE_PASS def_%v_4 %v_5[2.9,] 
		 11: %v_5[2.9,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->advanced_filters def_%v_6 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_4 %v_6[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.1,2.10,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_7 
		 1: ATTRASSIGN %self->advanced_filters %v_7[5.0,] 
		 2: COPY TYPE_PASS def_%v_6 %v_7[5.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: ATTRASSIGN %v_6->[] trigger[2.5,] block[2.7,] 
		 1: RETURN block[2.7,] %self[5.1,2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = advanced_filters instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->advanced_filters def_%v_3 %self[2.0,] 
		 7: RETURN %v_3[2.6,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = process_advanced_search! instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_term 
		 6: 
		 7: term->to_s def_%v_3 term[2.5,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_Regexp def_%v_4 
		 9: %v_3->scan def_%v_5 %v_3[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 10: %v_5->to_a def_%v_6 %v_5[2.9,] 	 SYMBOL:	 ARGS:
		 11: %v_6->map def_%v_7 %v_6[2.10,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_6,
CLOSURE BEGIN: word[] %self[2.0,] matcher[] block[] topic_id[] topic[] found[] 
BB 1
	outgoing: 33 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 31 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_%cl_1_1 
		 3: def_%cl_1_2 %cl_1_1[2.2,] 
		 4: def_word %cl_1_2[2.3,] 
		 5: def__ %cl_1_2[2.3,] 
		 6: COPY TYPE_CurrentScope def_%current_scope 
		 7: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 31 
	datadep: 
	instructions:
		 0: 
		 1: word->blank? def_%cl_1_5 word[2.4,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %cl_1_5[3.1,] 
BB 4
	outgoing: 31 33 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[2.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_6 
BB 6
	outgoing: 7 8 31 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Boolean def_found 
		 2: 
		 3: (Search) def_%cl_1_7 
		 4: %cl_1_7->advanced_filters def_%cl_1_8 %cl_1_7[6.3,] 	 SYMBOL:	 ARGS:
		 5: %cl_1_8->each def_%cl_1_9 %cl_1_8[6.4,] %self[2.0,] 	 SYMBOL:	 ARGS:%cl_1_8,
CLOSURE BEGIN: word[2.4,] matcher[] %self[2.0,] block[] 
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_matcher 
		 3: RECEIVEARG def_block 
		 4: COPY TYPE_CurrentScope def_%current_scope 
		 5: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 9 11 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Regexp def_%cl_2_3 
		 2: COPY TYPE_StringLiteral "" def_%cl_2_4 
		 3: word->gsub def_%cl_2_5 word[] %cl_2_4[3.2,] 	 SYMBOL:	 ARGS:%cl_2_3,%cl_2_4,
		 4: COPY TYPE_PASS def_cleaned %cl_2_5[3.3,] 
		 5: 
		 6: %cl_2_5->=~ def_%cl_2_6 %cl_2_5[3.3,] matcher[2.2,] 	 SYMBOL:	 ARGS:matcher,
		 7: BRANCH %cl_2_6[3.6,] 
BB 4
	outgoing: 5 6 11 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_8 %self[2.0,] 
		 2: COPY TYPE_PASS def_%cl_2_7 %cl_2_8[4.1,] 
		 3: %cl_2_8[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: GETFIELD %self->filters def_%cl_2_9 %self[2.0,] 
		 1: COPY TYPE_PASS def_%cl_2_7 %cl_2_9[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_7[5.1,4.2,] 
BB 7
	outgoing: 8 11 
	datadep: 
	instructions:
		 0: COPY TYPE_Array def_%cl_2_10 
		 1: ATTRASSIGN %self->filters %cl_2_10[7.0,] 
		 2: COPY TYPE_PASS def_%cl_2_9 %cl_2_10[7.0,] 
BB 8
	outgoing: 11 13 
	datadep: 
	instructions:
		 0: COPY TYPE_NthRef def_%cl_2_11 
		 1: COPY TYPE_Array def_%cl_2_12 block[2.3,] %cl_2_11[8.0,] 
		 2: %cl_2_9-><< def_%cl_2_13 %cl_2_9[7.2,5.0,] %cl_2_12[8.1,] 	 SYMBOL:	 ARGS:%cl_2_12,
		 3: 
		 4: COPY TYPE_Boolean def_found 
		 5: COPY TYPE_Boolean def_%cl_2_14 
		 6: RETURN %self[7.1,2.0,] 
BB 9
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: def_%cl_2_15 
		 1: def_%cl_2_16 %cl_2_15[11.0,] 
		 2: RETURN %cl_2_16[11.1,] %self[7.1,2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: found[8.4,] cleaned[3.4,] block[2.3,] 
		 6: 
		 7: COPY TYPE_StringLiteral "order:latest" def_%cl_1_10 
		 8: word->== def_%cl_1_11 word[2.4,] %cl_1_10[6.7,] 	 SYMBOL:	 ARGS:%cl_1_10,
		 9: BRANCH %cl_1_11[6.8,] 
BB 7
	outgoing: 31 33 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->order 
		 2: 
		 3: COPY TYPE_Nil def_%cl_1_12 
		 4: RETURN %self[7.1,2.0,] 
BB 8
	outgoing: 9 16 31 
	datadep: 
	instructions:
		 0: COPY TYPE_Regexp def_%cl_1_13 
		 1: word->=~ def_%cl_1_14 word[2.4,] 	 SYMBOL:	 ARGS:%cl_1_13,
		 2: BRANCH %cl_1_14[8.1,] 
BB 9
	outgoing: 10 14 31 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_NthRef def_%cl_1_15 
		 2: %cl_1_15->to_i def_%cl_1_16 %cl_1_15[9.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_topic_id %cl_1_16[9.2,] 
		 4: 
		 5: %cl_1_16->> def_%cl_1_17 %cl_1_16[9.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 6: BRANCH %cl_1_17[9.5,] 
BB 10
	outgoing: 11 12 31 
	datadep: 
	instructions:
		 0: 
		 1: (Topic) def_%cl_1_18 
		 2: HASH-id- def_%cl_1_19 topic_id[9.3,] 
		 3: %cl_1_18->find_by def_%cl_1_20 %cl_1_18[10.1,] %cl_1_19[10.2,] 	 SYMBOL:	 ARGS:%cl_1_19,
		 4: COPY TYPE_PASS def_topic %cl_1_20[10.3,] 
		 5: 
		 6: GETFIELD %self->guardian def_%cl_1_21 %self[2.0,] 
		 7: %cl_1_21->can_see? def_%cl_1_22 %cl_1_21[10.6,] %cl_1_20[10.3,] 	 SYMBOL:	 ARGS:topic,
		 8: BRANCH %cl_1_22[10.7,] 
BB 11
	outgoing: 13 31 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->search_context topic[10.4,] 
		 2: COPY TYPE_PASS def_%cl_1_23 topic[10.4,] 
		 3: 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_23 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_23 
BB 15
	outgoing: 29 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Nil def_%cl_1_24 
		 2: 
BB 16
	outgoing: 17 18 31 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "order:views" def_%cl_1_25 
		 1: word->== def_%cl_1_26 word[2.4,] %cl_1_25[16.0,] 	 SYMBOL:	 ARGS:%cl_1_25,
		 2: BRANCH %cl_1_26[16.1,] 
BB 17
	outgoing: 28 31 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->order 
		 2: 
		 3: COPY TYPE_Nil def_%cl_1_27 
		 4: 
BB 18
	outgoing: 19 20 31 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "order:likes" def_%cl_1_28 
		 1: word->== def_%cl_1_29 word[2.4,] %cl_1_28[18.0,] 	 SYMBOL:	 ARGS:%cl_1_28,
		 2: BRANCH %cl_1_29[18.1,] 
BB 19
	outgoing: 27 31 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->order 
		 2: 
		 3: COPY TYPE_Nil def_%cl_1_30 
		 4: 
BB 20
	outgoing: 21 22 31 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "in:private" def_%cl_1_31 
		 1: word->== def_%cl_1_32 word[2.4,] %cl_1_31[20.0,] 	 SYMBOL:	 ARGS:%cl_1_31,
		 2: BRANCH %cl_1_32[20.1,] 
BB 21
	outgoing: 26 31 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->search_pms 
		 2: 
		 3: COPY TYPE_Nil def_%cl_1_33 
		 4: 
BB 22
	outgoing: 23 24 
	datadep: 
	instructions:
		 0: 
		 1: BRANCH found[6.1,6.5,] 
BB 23
	outgoing: 25 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_34 
		 1: 
BB 24
	outgoing: 25 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_34 word[2.4,] 
BB 25
	outgoing: 26 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_33 %cl_1_34[24.0,23.0,] 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_30 %cl_1_33[25.0,21.3,] 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_27 %cl_1_30[26.0,19.3,] 
BB 28
	outgoing: 29 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_24 %cl_1_27[27.0,17.3,] 
BB 29
	outgoing: 33 
	datadep: 
	instructions:
		 0: RETURN %cl_1_24[28.0,15.1,] %self[17.1,19.1,11.1,21.1,2.0,] 
BB 31
	outgoing: 33 
	datadep: 
	instructions:
		 0: def_%cl_1_35 
		 1: def_%cl_1_36 %cl_1_35[31.0,] 
		 2: RETURN %cl_1_36[31.1,] %self[2.0,7.1,11.1,17.1,19.1,21.1,] 
BB 33
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: found[6.1,6.5,] topic[10.4,] topic_id[9.3,] _[2.5,] 
		 12: %v_7->compact def_%v_8 %v_7[2.11,] 	 SYMBOL:	 ARGS:
		 13: COPY TYPE_StringLiteral " " def_%v_9 
		 14: %v_8->join def_%v_10 %v_8[2.12,] %v_9[2.13,] 	 SYMBOL:	 ARGS:%v_9,
		 15: RETURN %v_10[2.14,] %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = find_grouped_results instanceMethod = true
BB 1
	outgoing: 31 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: GLOBALVAR $! def_%v_3 
BB 4
	outgoing: 5 11 23 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: GETFIELD %self->results def_%v_6 %self[2.0,] 
		 3: %v_6->type_filter def_%v_7 %v_6[4.2,] 	 SYMBOL:	 ARGS:
		 4: %v_7->present? def_%v_8 %v_7[4.3,] 	 SYMBOL:	 ARGS:
		 5: BRANCH %v_8[4.4,] 
BB 5
	outgoing: 6 7 23 
	datadep: 
	instructions:
		 0: 
		 1: (Search) def_%v_9 
		 2: %v_9->facets def_%v_10 %v_9[5.1,] 	 SYMBOL:	 ARGS:
		 3: GETFIELD %self->results def_%v_11 %self[2.0,] 
		 4: %v_11->type_filter def_%v_12 %v_11[5.3,] 	 SYMBOL:	 ARGS:
		 5: %v_10->include? def_%v_13 %v_10[5.2,] %v_12[5.4,] 	 SYMBOL:	 ARGS:%v_12,
		 6: BRANCH %v_13[5.5,] 
BB 6
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
		 1: 
BB 7
	outgoing: 8 9 23 
	datadep: 
	instructions:
		 0: (Discourse) def_%v_15 
		 1: (inherit InvalidAccess) def_%v_16 %v_15[7.0,] 
		 2: %v_16[7.1,] 
BB 8
	outgoing: 9 23 
	datadep: 
	instructions:
		 0: %v_15->const_missing def_%v_16 %v_15[7.0,] 	 SYMBOL:InvalidAccess,	 ARGS:Symbol,
BB 9
	outgoing: 10 23 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "invalid type filter" def_%v_17 
		 1: %v_16->new def_%v_18 %v_16[8.0,7.1,] %v_17[9.0,] 	 SYMBOL:	 ARGS:%v_17,
		 2: %self->raise def_%v_19 %self[2.0,] %v_18[9.1,] 	 SYMBOL:	 ARGS:%v_18,
		 3: COPY TYPE_PASS def_%v_14 %v_19[9.2,] 
BB 10
	outgoing: 21 23 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%v_20 %self[2.0,] 
		 2: %v_20->type_filter def_%v_21 %v_20[10.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "_search" def_%v_22 
		 4: BUILDSTRING def_%v_23 %v_21[10.2,] %v_22[10.3,] 
		 5: %self->send def_%v_24 %self[2.0,] %v_23[10.4,] 	 SYMBOL:	 ARGS:%v_23,
		 6: 
BB 11
	outgoing: 12 13 23 
	datadep: 
	instructions:
		 0: 
		 1: (Search) def_%v_25 
		 2: %v_25->per_facet def_%v_26 %v_25[11.1,] 	 SYMBOL:	 ARGS:
		 3: %v_26->+ def_%v_27 %v_26[11.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: ATTRASSIGN %self->limit %v_27[11.3,] 
		 5: 
		 6: 
		 7: GETFIELD %self->search_context def_%v_28 %self[2.0,] 
		 8: BRANCH %v_28[11.7,] 
BB 12
	outgoing: 20 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_29 
		 1: 
BB 13
	outgoing: 14 15 23 
	datadep: 
	instructions:
		 0: GETFIELD %self->term def_%v_30 %self[2.0,] 
		 1: %v_30->present? def_%v_31 %v_30[13.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_31[13.1,] 
BB 14
	outgoing: 16 23 
	datadep: 
	instructions:
		 0: %self->user_search def_%v_32 %self[11.4,2.0,] 	 SYMBOL:	 ARGS:
		 1: 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_32 
BB 16
	outgoing: 17 18 23 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->term def_%v_33 %self[2.0,] 
		 2: %v_33->present? def_%v_34 %v_33[16.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_34[16.2,] 
BB 17
	outgoing: 19 23 
	datadep: 
	instructions:
		 0: %self->category_search def_%v_35 %self[11.4,2.0,] 	 SYMBOL:	 ARGS:
		 1: 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_35 
BB 19
	outgoing: 20 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_29 %v_35[18.0,17.0,] 
BB 20
	outgoing: 21 23 
	datadep: 
	instructions:
		 0: 
		 1: %self->topic_search def_%v_36 %self[11.4,2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_24 %v_36[20.1,] 
BB 21
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: 
		 1: %self->add_more_topics_if_expected def_%v_37 %self[11.4,2.0,] 	 SYMBOL:	 ARGS:
		 2: 
		 3: GETFIELD %self->results def_%v_38 %self[21.1,2.0,] 
		 4: COPY TYPE_PASS def_%v_5 %v_38[21.3,] 
		 5: 
		 6: %v_3[2.5,] 
BB 22
	outgoing: 30 
	datadep: 
	instructions:
		 0: 
BB 23
	outgoing: 24 25 29 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_39 
		 2: (ActiveRecord) def_%v_40 
		 3: (inherit StatementInvalid) def_%v_41 %v_40[23.2,] 
		 4: %v_41[23.3,] 
BB 24
	outgoing: 25 29 
	datadep: 
	instructions:
		 0: %v_40->const_missing def_%v_41 %v_40[23.2,] 	 SYMBOL:StatementInvalid,	 ARGS:Symbol,
BB 25
	outgoing: 26 27 29 
	datadep: 
	instructions:
		 0: def_%v_42 %v_41[24.0,23.3,] %v_39[23.1,] 
		 1: BRANCH %v_42[25.0,] 
BB 26
	outgoing: 29 31 
	datadep: 
	instructions:
		 0: %v_39[23.1,] 
BB 27
	outgoing: 28 29 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: %v_3[2.5,] 
BB 28
	outgoing: 30 
	datadep: 
	instructions:
		 0: 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: def_%v_43 
		 1: def_%v_44 %v_43[29.0,] %v_3[2.5,] 
		 2: %v_43[29.0,] 
BB 30
	outgoing: 31 
	datadep: 
	instructions:
		 0: RETURN %v_5[21.4,27.0,] %self[11.4,2.0,] 
BB 31
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = add_more_topics_if_expected instanceMethod = true
BB 1
	outgoing: 18 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_Fixnum def_expected_topics 
		 7: 
		 8: GETFIELD %self->results def_%v_3 %self[2.0,] 
		 9: %v_3->type_filter def_%v_4 %v_3[2.8,] 	 SYMBOL:	 ARGS:
		 10: %v_4->present? def_%v_5 %v_4[2.9,] 	 SYMBOL:	 ARGS:
		 11: BRANCH %v_5[2.10,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: (Search) def_%v_7 
		 1: %v_7->facets def_%v_8 %v_7[4.0,] 	 SYMBOL:	 ARGS:
		 2: %v_8->size def_%v_9 %v_8[4.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_expected_topics %v_9[4.2,] 
		 4: COPY TYPE_PASS def_%v_6 %v_9[4.2,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%v_10 %self[2.0,] 
		 2: %v_10->type_filter def_%v_11 %v_10[5.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral "topic" def_%v_12 
		 4: %v_11->== def_%v_13 %v_11[5.2,] %v_12[5.3,] 	 SYMBOL:	 ARGS:%v_12,
		 5: BRANCH %v_13[5.4,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: (Search) def_%v_14 
		 1: %v_14->per_facet def_%v_15 %v_14[6.0,] 	 SYMBOL:	 ARGS:
		 2: (Search) def_%v_16 
		 3: %v_16->facets def_%v_17 %v_16[6.2,] 	 SYMBOL:	 ARGS:
		 4: %v_17->size def_%v_18 %v_17[6.3,] 	 SYMBOL:	 ARGS:
		 5: %v_15->* def_%v_19 %v_15[6.1,] %v_18[6.4,] 	 SYMBOL:	 ARGS:%v_18,
		 6: COPY TYPE_PASS def_expected_topics %v_19[6.5,] 
		 7: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_19 
BB 8
	outgoing: 9 16 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%v_20 %self[2.0,] 
		 2: %v_20->posts def_%v_21 %v_20[8.1,] 	 SYMBOL:	 ARGS:
		 3: %v_21->length def_%v_22 %v_21[8.2,] 	 SYMBOL:	 ARGS:
		 4: expected_topics->- def_%v_23 expected_topics[6.6,4.3,2.6,] %v_22[8.3,] 	 SYMBOL:	 ARGS:%v_22,
		 5: COPY TYPE_PASS def_expected_topics %v_23[8.4,] 
		 6: 
		 7: %v_23->> def_%v_24 %v_23[8.4,] 	 SYMBOL:	 ARGS:Fixnum,
		 8: BRANCH %v_24[8.7,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: (Search) def_%v_25 
		 2: %v_25->burst_factor def_%v_26 %v_25[9.1,] 	 SYMBOL:	 ARGS:
		 3: expected_topics->* def_%v_27 expected_topics[8.5,] %v_26[9.2,] 	 SYMBOL:	 ARGS:%v_26,
		 4: %self->posts_query def_%v_28 %self[2.0,] %v_27[9.3,] 	 SYMBOL:	 ARGS:%v_27,
		 5: COPY TYPE_PASS def_extra_posts %v_28[9.4,] 
		 6: 
		 7: GETFIELD %self->results def_%v_29 %self[9.4,2.0,] 
		 8: %v_29->posts def_%v_30 %v_29[9.7,] 	 SYMBOL:	 ARGS:
		 9: %v_30->present? def_%v_31 %v_30[9.8,] 	 SYMBOL:	 ARGS:
		 10: BRANCH %v_31[9.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "posts.topic_id NOT in (?)" def_%v_32 
		 1: GETFIELD %self->results def_%v_33 %self[2.0,] 
		 2: %v_33->posts def_%v_34 %v_33[10.1,] 	 SYMBOL:	 ARGS:
		 3: %v_34->map def_%v_35 %v_34[10.2,] 	 SYMBOL:topic_id,	 ARGS:
		 4: extra_posts->where def_%v_36 extra_posts[9.5,] %v_32[10.0,] %v_35[10.3,] 	 SYMBOL:	 ARGS:%v_32,%v_35,
		 5: COPY TYPE_PASS def_extra_posts %v_36[10.4,] 
		 6: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_36 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 15 14 
	datadep: 
	instructions:
		 0: extra_posts->each def_%v_37 extra_posts[10.5,9.5,] %self[2.0,] 	 SYMBOL:	 ARGS:extra_posts,
CLOSURE BEGIN: %self[2.0,] post[] expected_topics[8.5,] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_post 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%cl_1_3 %self[2.0,] 
		 2: %cl_1_3->add def_%cl_1_4 %cl_1_3[3.1,] post[2.2,] 	 SYMBOL:	 ARGS:post,
		 3: 
		 4: expected_topics->- def_%cl_1_5 expected_topics[] 	 SYMBOL:	 ARGS:Fixnum,
		 5: COPY TYPE_PASS def_expected_topics %cl_1_5[3.4,] 
		 6: 
		 7: %cl_1_5->== def_%cl_1_6 %cl_1_5[3.4,] 	 SYMBOL:	 ARGS:Fixnum,
		 8: BRANCH %cl_1_6[3.7,] 
BB 4
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_8 
		 1: def_%cl_1_9 %cl_1_8[7.0,] 
		 2: RETURN %cl_1_9[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: expected_topics[3.5,] 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%v_38 
		 1: def_%v_37 %v_38[14.0,] 
BB 15
	outgoing: 18 
	datadep: 
	instructions:
		 0: RETURN %v_37[14.1,13.0,] %self[2.0,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 18
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = single_topic instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_id 
		 6: 
		 7: (Post) def_%v_3 
		 8: HASH-topic_id-post_number- def_%v_4 id[2.5,] 
		 9: %v_3->find_by def_%v_5 %v_3[2.7,] %v_4[2.8,] 	 SYMBOL:	 ARGS:%v_4,
		 10: COPY TYPE_PASS def_post %v_5[2.9,] 
		 11: 
		 12: GETFIELD %self->guardian def_%v_6 %self[2.0,] 
		 13: %v_6->can_see? def_%v_7 %v_6[2.12,] %v_5[2.9,] 	 SYMBOL:	 ARGS:post,
		 14: BRANCH %v_7[2.13,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
		 1: 
		 2: GETFIELD %self->results def_%v_9 %self[2.0,] 
		 3: %v_9->add def_%v_10 %v_9[3.2,] post[2.10,] 	 SYMBOL:	 ARGS:post,
		 4: 
		 5: GETFIELD %self->results def_%v_11 %self[2.0,] 
		 6: RETURN %v_11[3.5,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = secure_category_ids instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->secure_category_ids def_%v_3 %self[2.0,] 
		 7: %v_3->nil? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: GETFIELD %self->guardian def_%v_7 %self[2.0,] 
		 3: %v_7->secure_category_ids def_%v_8 %v_7[3.2,] 	 SYMBOL:	 ARGS:
		 4: ATTRASSIGN %self->secure_category_ids %v_8[3.3,] 
		 5: RETURN %v_8[3.3,] %self[3.4,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: GETFIELD %self->secure_category_ids def_%v_6 %self[2.0,] 
		 1: RETURN %v_6[4.0,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = category_search instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->secure_category_ids def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: 
		 8: (Category) def_%v_4 
		 9: %v_4->includes def_%v_5 %v_4[2.8,] 	 SYMBOL:category_search_data,	 ARGS:Symbol,
		 10: COPY TYPE_StringLiteral "category_search_data.search_data @@ " def_%v_6 
		 11: 
		 12: %self->ts_query def_%v_7 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 13: BUILDSTRING def_%v_8 %v_6[2.10,] %v_7[2.12,] 
		 14: %v_5->where def_%v_9 %v_5[2.9,] %v_8[2.13,] 	 SYMBOL:	 ARGS:%v_8,
		 15: %v_9->references def_%v_10 %v_9[2.14,] 	 SYMBOL:category_search_data,	 ARGS:Symbol,
		 16: COPY TYPE_StringLiteral "topics_month DESC" def_%v_11 
		 17: %v_10->order def_%v_12 %v_10[2.15,] %v_11[2.16,] 	 SYMBOL:	 ARGS:%v_11,
		 18: GETFIELD %self->guardian def_%v_13 %self[2.0,2.6,2.12,] 
		 19: %v_12->secured def_%v_14 %v_12[2.17,] %v_13[2.18,] 	 SYMBOL:	 ARGS:%v_13,
		 20: GETFIELD %self->limit def_%v_15 %self[2.0,2.6,2.12,] 
		 21: %v_14->limit def_%v_16 %v_14[2.19,] %v_15[2.20,] 	 SYMBOL:	 ARGS:%v_15,
		 22: COPY TYPE_PASS def_categories %v_16[2.21,] 
		 23: 
		 24: %v_16->each def_%v_17 %v_16[2.21,] %self[2.0,2.6,2.12,] 	 SYMBOL:	 ARGS:%v_16,
CLOSURE BEGIN: %self[2.0,2.6,2.12,] category[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_category 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%cl_1_3 %self[2.0,] 
		 2: %cl_1_3->add def_%cl_1_4 %cl_1_3[3.1,] category[2.2,] 	 SYMBOL:	 ARGS:category,
		 3: RETURN %cl_1_4[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
		 1: def_%cl_1_6 %cl_1_5[4.0,] 
		 2: RETURN %cl_1_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 25: RETURN %v_17[2.24,] %self[2.0,2.6,2.12,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = user_search instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (SiteSetting) def_%v_3 
		 7: %v_3->hide_user_profiles_from_public def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->guardian def_%v_5 %self[2.0,] 
		 1: %v_5->user def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: %v_6->! def_%v_7 %v_6[3.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_4 %v_7[3.2,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.3,2.7,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
		 1: 
		 2: (User) def_%v_9 
		 3: %v_9->includes def_%v_10 %v_9[6.2,] 	 SYMBOL:user_search_data,	 ARGS:Symbol,
		 4: %v_10->references def_%v_11 %v_10[6.3,] 	 SYMBOL:user_search_data,	 ARGS:Symbol,
		 5: HASH-active- def_%v_12 
		 6: %v_11->where def_%v_13 %v_11[6.4,] %v_12[6.5,] 	 SYMBOL:	 ARGS:%v_12,
		 7: HASH-staged- def_%v_14 
		 8: %v_13->where def_%v_15 %v_13[6.6,] %v_14[6.7,] 	 SYMBOL:	 ARGS:%v_14,
		 9: COPY TYPE_StringLiteral "user_search_data.search_data @@ " def_%v_16 
		 10: 
		 11: COPY TYPE_StringLiteral "simple" def_%v_17 
		 12: %self->ts_query def_%v_18 %self[2.0,] %v_17[6.11,] 	 SYMBOL:	 ARGS:%v_17,
		 13: BUILDSTRING def_%v_19 %v_16[6.9,] %v_18[6.12,] 
		 14: %v_15->where def_%v_20 %v_15[6.8,] %v_19[6.13,] 	 SYMBOL:	 ARGS:%v_19,
		 15: COPY TYPE_StringLiteral "CASE WHEN username_lower = '" def_%v_21 
		 16: 
		 17: GETFIELD %self->original_term def_%v_22 %self[6.12,2.0,] 
		 18: %v_22->downcase def_%v_23 %v_22[6.17,] 	 SYMBOL:	 ARGS:
		 19: COPY TYPE_StringLiteral "' THEN 0 ELSE 1 END" def_%v_24 
		 20: BUILDSTRING def_%v_25 %v_21[6.15,] %v_23[6.18,] %v_24[6.19,] 
		 21: %v_20->order def_%v_26 %v_20[6.14,] %v_25[6.20,] 	 SYMBOL:	 ARGS:%v_25,
		 22: COPY TYPE_StringLiteral "last_posted_at DESC" def_%v_27 
		 23: %v_26->order def_%v_28 %v_26[6.21,] %v_27[6.22,] 	 SYMBOL:	 ARGS:%v_27,
		 24: GETFIELD %self->limit def_%v_29 %self[6.12,2.0,] 
		 25: %v_28->limit def_%v_30 %v_28[6.23,] %v_29[6.24,] 	 SYMBOL:	 ARGS:%v_29,
		 26: COPY TYPE_PASS def_users %v_30[6.25,] 
		 27: 
		 28: %v_30->each def_%v_31 %v_30[6.25,] %self[6.12,2.0,] 	 SYMBOL:	 ARGS:%v_30,
CLOSURE BEGIN: %self[6.12,2.0,] user[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_user 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%cl_1_3 %self[2.0,] 
		 2: %cl_1_3->add def_%cl_1_4 %cl_1_3[3.1,] user[2.2,] 	 SYMBOL:	 ARGS:user,
		 3: RETURN %cl_1_4[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
		 1: def_%cl_1_6 %cl_1_5[4.0,] 
		 2: RETURN %cl_1_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 29: RETURN %v_31[6.28,] %self[6.12,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = posts_query instanceMethod = true
BB 1
	outgoing: 71 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_limit 
		 6: RECEIVECONSTARG def_opts 
		 7: opts[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_opts 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_3 opts[3.0,2.6,] 
		 2: COPY TYPE_PASS def_%v_4 opts[3.0,2.6,] 
		 3: BRANCH opts[3.0,2.6,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: HASH- def_%v_5 
		 1: COPY TYPE_PASS def_opts %v_5[5.0,] 
		 2: COPY TYPE_PASS def_%v_4 %v_5[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_6 
		 2: (Topic) def_%v_7 
		 3: GETFIELD %self->guardian def_%v_8 %self[2.0,] 
		 4: %v_8->user def_%v_9 %v_8[6.3,] 	 SYMBOL:	 ARGS:
		 5: %v_7->visible_post_types def_%v_10 %v_7[6.2,] %v_9[6.4,] 	 SYMBOL:	 ARGS:%v_9,
		 6: HASH-post_type- def_%v_11 %v_10[6.5,] 
		 7: %v_6->where def_%v_12 %v_6[6.1,] %v_11[6.6,] 	 SYMBOL:	 ARGS:%v_11,
		 8: %v_12->joins def_%v_13 %v_12[6.7,] 	 SYMBOL:post_search_data,topic,	 ARGS:Symbol,Symbol,
		 9: COPY TYPE_StringLiteral "LEFT JOIN categories ON categories.id = topics.category_id" def_%v_14 
		 10: %v_13->joins def_%v_15 %v_13[6.8,] %v_14[6.9,] 	 SYMBOL:	 ARGS:%v_14,
		 11: COPY TYPE_StringLiteral "topics.deleted_at" def_%v_16 
		 12: HASH- def_%v_17 %v_16[6.11,] 
		 13: %v_15->where def_%v_18 %v_15[6.10,] %v_17[6.12,] 	 SYMBOL:	 ARGS:%v_17,
		 14: COPY TYPE_StringLiteral "topics.visible" def_%v_19 
		 15: %v_18->where def_%v_20 %v_18[6.13,] %v_19[6.14,] 	 SYMBOL:	 ARGS:%v_19,
		 16: COPY TYPE_PASS def_posts %v_20[6.15,] 
		 17: 
		 18: GETFIELD %self->search_context def_%v_21 %self[2.0,] 
		 19: %v_21->present? def_%v_22 %v_21[6.18,] 	 SYMBOL:	 ARGS:
		 20: BRANCH %v_22[6.19,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: GETFIELD %self->search_context def_%v_23 %self[2.0,] 
		 1: (Topic) def_%v_24 
		 2: %v_23->is_a? def_%v_25 %v_23[7.0,] %v_24[7.1,] 	 SYMBOL:	 ARGS:%v_24,
		 3: COPY TYPE_PASS def_%v_22 %v_25[7.2,] 
BB 8
	outgoing: 9 12 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_is_topic_search %v_22[7.3,6.19,] 
		 1: 
		 2: opts->[] def_%v_26 opts[5.1,3.0,2.6,] 	 SYMBOL:private_messages,	 ARGS:Symbol,
		 3: BRANCH %v_26[8.2,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_27 is_topic_search[8.0,] 
		 1: BRANCH is_topic_search[8.0,] 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: GETFIELD %self->search_context def_%v_28 %self[2.0,] 
		 1: %v_28->private_message? def_%v_29 %v_28[10.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_27 %v_29[10.1,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_26 %v_27[10.2,9.0,] 
BB 12
	outgoing: 13 17 
	datadep: 
	instructions:
		 0: BRANCH %v_26[11.0,8.2,] 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.archetype =  ?" def_%v_30 
		 2: (Archetype) def_%v_31 
		 3: %v_31->private_message def_%v_32 %v_31[13.2,] 	 SYMBOL:	 ARGS:
		 4: posts->where def_%v_33 posts[6.16,] %v_30[13.1,] %v_32[13.3,] 	 SYMBOL:	 ARGS:%v_30,%v_32,
		 5: COPY TYPE_PASS def_posts %v_33[13.4,] 
		 6: 
		 7: GETFIELD %self->guardian def_%v_34 %self[2.0,] 
		 8: %v_34->is_admin? def_%v_35 %v_34[13.7,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_35[13.8,] 
BB 14
	outgoing: 16 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_36 
		 1: 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.id IN (SELECT topic_id FROM topic_allowed_users WHERE user_id = ?)" def_%v_37 
		 2: GETFIELD %self->guardian def_%v_38 %self[2.0,] 
		 3: %v_38->user def_%v_39 %v_38[15.2,] 	 SYMBOL:	 ARGS:
		 4: %v_39->id def_%v_40 %v_39[15.3,] 	 SYMBOL:	 ARGS:
		 5: posts->where def_%v_41 posts[13.5,] %v_37[15.1,] %v_40[15.4,] 	 SYMBOL:	 ARGS:%v_37,%v_40,
		 6: COPY TYPE_PASS def_posts %v_41[15.5,] 
		 7: COPY TYPE_PASS def_%v_36 %v_41[15.5,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.archetype <> ?" def_%v_42 
		 2: (Archetype) def_%v_43 
		 3: %v_43->private_message def_%v_44 %v_43[17.2,] 	 SYMBOL:	 ARGS:
		 4: posts->where def_%v_45 posts[6.16,] %v_42[17.1,] %v_44[17.3,] 	 SYMBOL:	 ARGS:%v_42,%v_44,
		 5: COPY TYPE_PASS def_posts %v_45[17.4,] 
		 6: COPY TYPE_PASS def_%v_36 %v_45[17.4,] 
BB 18
	outgoing: 19 23 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->term def_%v_46 %self[2.0,] 
		 2: %v_46->present? def_%v_47 %v_46[18.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_47[18.2,] 
BB 19
	outgoing: 20 21 
	datadep: 
	instructions:
		 0: 
		 1: BRANCH is_topic_search[8.0,] 
BB 20
	outgoing: 22 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "JOIN users u ON u.id = posts.user_id" def_%v_48 
		 2: posts->joins def_%v_49 posts[17.5,15.6,13.5,] %v_48[20.1,] 	 SYMBOL:	 ARGS:%v_48,
		 3: COPY TYPE_PASS def_posts %v_49[20.2,] 
		 4: 
		 5: COPY TYPE_StringLiteral "posts.raw  || ' ' || u.username || ' ' || u.name ilike ?" def_%v_50 
		 6: COPY TYPE_StringLiteral "%" def_%v_51 
		 7: GETFIELD %self->term def_%v_52 %self[2.0,] 
		 8: COPY TYPE_StringLiteral "%" def_%v_53 
		 9: BUILDSTRING def_%v_54 %v_51[20.6,] %v_52[20.7,] %v_53[20.8,] 
		 10: %v_49->where def_%v_55 %v_49[20.2,] %v_50[20.5,] %v_54[20.9,] 	 SYMBOL:	 ARGS:%v_50,%v_54,
		 11: COPY TYPE_PASS def_posts %v_55[20.10,] 
		 12: 
BB 21
	outgoing: 22 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "post_search_data.search_data @@ " def_%v_56 
		 2: %self->ts_query def_%v_57 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: BUILDSTRING def_%v_58 %v_56[21.1,] %v_57[21.2,] 
		 4: posts->where def_%v_59 posts[17.5,15.6,13.5,] %v_58[21.3,] 	 SYMBOL:	 ARGS:%v_58,
		 5: COPY TYPE_PASS def_posts %v_59[21.4,] 
		 6: 
		 7: GETFIELD %self->term def_%v_60 %self[21.2,2.0,] 
		 8: COPY TYPE_Regexp def_%v_61 
		 9: %v_60->scan def_%v_62 %v_60[21.7,] 	 SYMBOL:	 ARGS:%v_61,
		 10: %v_62->flatten def_%v_63 %v_62[21.9,] 	 SYMBOL:	 ARGS:
		 11: COPY TYPE_PASS def_exact_terms %v_63[21.10,] 
		 12: 
		 13: %v_63->each def_%v_64 %v_63[21.10,] %self[21.2,2.0,] 	 SYMBOL:	 ARGS:%v_63,
CLOSURE BEGIN: exact[] posts[21.4,21.5,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_exact 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "posts.raw ilike ?" def_%cl_1_3 
		 2: COPY TYPE_StringLiteral "%" def_%cl_1_4 
		 3: COPY TYPE_StringLiteral "%" def_%cl_1_5 
		 4: BUILDSTRING def_%cl_1_6 %cl_1_4[3.2,] exact[2.2,] %cl_1_5[3.3,] 
		 5: posts->where def_%cl_1_7 posts[] %cl_1_3[3.1,] %cl_1_6[3.4,] 	 SYMBOL:	 ARGS:%cl_1_3,%cl_1_6,
		 6: COPY TYPE_PASS def_posts %cl_1_7[3.5,] 
		 7: RETURN %cl_1_7[3.5,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_8 
		 1: def_%cl_1_9 %cl_1_8[4.0,] 
		 2: RETURN %cl_1_9[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: posts[3.6,] 
		 14: COPY TYPE_PASS def_%v_55 %v_64[21.13,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_55 
BB 24
	outgoing: 25 26 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->filters def_%v_65 %self[2.0,] 
		 2: BRANCH %v_65[24.1,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: GETFIELD %self->filters def_%v_66 %self[2.0,] 
		 1: %v_66->each def_%v_67 %v_66[25.0,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_66,
CLOSURE BEGIN: block[] %self[2.0,] posts[21.5,21.13,20.3,20.11,17.5,15.6,13.5,] match[] 
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_block 
		 3: RECEIVEARG def_match 
		 4: COPY TYPE_CurrentScope def_%current_scope 
		 5: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 7 11 
	datadep: 
	instructions:
		 0: 
		 1: block->arity def_%cl_2_3 block[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_2_3->== def_%cl_2_4 %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: BRANCH %cl_2_4[3.2,] 
BB 4
	outgoing: 5 6 11 
	datadep: 
	instructions:
		 0: 
		 1: %self->instance_exec def_%cl_2_5 %self[2.0,] posts[] block[2.2,] 	 SYMBOL:	 ARGS:posts,
		 2: BRANCH %cl_2_5[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_2_5 posts[] 
BB 6
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_posts %cl_2_5[5.0,4.1,] 
		 1: RETURN %cl_2_5[5.0,4.1,] %self[2.0,] 
BB 7
	outgoing: 8 9 11 
	datadep: 
	instructions:
		 0: 
		 1: %self->instance_exec def_%cl_2_6 %self[2.0,] posts[] match[2.3,] block[2.2,] 	 SYMBOL:	 ARGS:posts,match,
		 2: BRANCH %cl_2_6[7.1,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_2_6 posts[] 
BB 9
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_posts %cl_2_6[8.0,7.1,] 
		 1: RETURN %cl_2_6[8.0,7.1,] %self[2.0,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: def_%cl_2_7 
		 1: def_%cl_2_8 %cl_2_7[11.0,] 
		 2: RETURN %cl_2_8[11.1,] %self[2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: match[2.3,] posts[9.0,6.0,] 
		 2: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_67 
BB 27
	outgoing: 28 41 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->search_context def_%v_68 %self[2.0,] 
		 2: %v_68->present? def_%v_69 %v_68[27.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_69[27.2,] 
BB 28
	outgoing: 29 33 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->search_context def_%v_70 %self[2.0,] 
		 2: (User) def_%v_71 
		 3: %v_70->is_a? def_%v_72 %v_70[28.1,] %v_71[28.2,] 	 SYMBOL:	 ARGS:%v_71,
		 4: BRANCH %v_72[28.3,] 
BB 29
	outgoing: 30 31 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_73 opts[5.1,3.0,2.6,] 	 SYMBOL:private_messages,	 ARGS:Symbol,
		 2: BRANCH %v_73[29.1,] 
BB 30
	outgoing: 32 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.id IN (SELECT topic_id
                                               FROM topic_allowed_users
                                               WHERE user_id = :user_id
                                               UNION ALL
                                               SELECT tg.topic_id
                                               FROM topic_allowed_groups tg
                                               JOIN group_users gu ON gu.user_id = :user_id AND
                                                                        gu.group_id = tg.group_id)" def_%v_74 
		 2: GETFIELD %self->search_context def_%v_75 %self[2.0,] 
		 3: %v_75->id def_%v_76 %v_75[30.2,] 	 SYMBOL:	 ARGS:
		 4: HASH-user_id- def_%v_77 %v_76[30.3,] 
		 5: posts->where def_%v_78 posts[25.1,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_74[30.1,] %v_77[30.4,] 	 SYMBOL:	 ARGS:%v_74,%v_77,
		 6: COPY TYPE_PASS def_posts %v_78[30.5,] 
		 7: 
BB 31
	outgoing: 32 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "posts.user_id = " def_%v_79 
		 2: GETFIELD %self->search_context def_%v_80 %self[2.0,] 
		 3: %v_80->id def_%v_81 %v_80[31.2,] 	 SYMBOL:	 ARGS:
		 4: BUILDSTRING def_%v_82 %v_79[31.1,] %v_81[31.3,] 
		 5: posts->where def_%v_83 posts[25.1,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_82[31.4,] 	 SYMBOL:	 ARGS:%v_82,
		 6: COPY TYPE_PASS def_posts %v_83[31.5,] 
		 7: COPY TYPE_PASS def_%v_78 %v_83[31.5,] 
BB 32
	outgoing: 40 
	datadep: 
	instructions:
		 0: 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->search_context def_%v_84 %self[2.0,] 
		 2: (Category) def_%v_85 
		 3: %v_84->is_a? def_%v_86 %v_84[33.1,] %v_85[33.2,] 	 SYMBOL:	 ARGS:%v_85,
		 4: BRANCH %v_86[33.3,] 
BB 34
	outgoing: 39 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.category_id = " def_%v_87 
		 2: GETFIELD %self->search_context def_%v_88 %self[2.0,] 
		 3: %v_88->id def_%v_89 %v_88[34.2,] 	 SYMBOL:	 ARGS:
		 4: BUILDSTRING def_%v_90 %v_87[34.1,] %v_89[34.3,] 
		 5: posts->where def_%v_91 posts[25.1,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_90[34.4,] 	 SYMBOL:	 ARGS:%v_90,
		 6: COPY TYPE_PASS def_posts %v_91[34.5,] 
		 7: 
BB 35
	outgoing: 36 37 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->search_context def_%v_92 %self[2.0,] 
		 2: (Topic) def_%v_93 
		 3: %v_92->is_a? def_%v_94 %v_92[35.1,] %v_93[35.2,] 	 SYMBOL:	 ARGS:%v_93,
		 4: BRANCH %v_94[35.3,] 
BB 36
	outgoing: 38 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.id = " def_%v_95 
		 2: GETFIELD %self->search_context def_%v_96 %self[2.0,] 
		 3: %v_96->id def_%v_97 %v_96[36.2,] 	 SYMBOL:	 ARGS:
		 4: BUILDSTRING def_%v_98 %v_95[36.1,] %v_97[36.3,] 
		 5: posts->where def_%v_99 posts[25.1,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_98[36.4,] 	 SYMBOL:	 ARGS:%v_98,
		 6: COPY TYPE_StringLiteral "posts.post_number" def_%v_100 
		 7: %v_99->order def_%v_101 %v_99[36.5,] %v_100[36.6,] 	 SYMBOL:	 ARGS:%v_100,
		 8: COPY TYPE_PASS def_posts %v_101[36.7,] 
		 9: 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_101 
BB 38
	outgoing: 39 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_91 %v_101[37.0,36.7,] 
BB 39
	outgoing: 40 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_78 %v_91[38.0,34.5,] 
BB 40
	outgoing: 42 
	datadep: 
	instructions:
		 0: 
BB 41
	outgoing: 42 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_78 
BB 42
	outgoing: 43 46 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->order def_%v_102 %self[2.0,] 
		 2: %v_102->== def_%v_103 %v_102[42.1,] 	 SYMBOL:latest,	 ARGS:Symbol,
		 3: BRANCH %v_103[42.2,] 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: GETFIELD %self->term def_%v_104 %self[2.0,] 
		 1: %v_104->blank? def_%v_105 %v_104[43.0,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %v_105[43.1,] 
BB 44
	outgoing: 45 
	datadep: 
	instructions:
		 0: GETFIELD %self->order def_%v_106 %self[2.0,] 
		 1: %v_106->! def_%v_107 %v_106[44.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_105 %v_107[44.1,] 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_103 %v_105[44.2,43.1,] 
BB 46
	outgoing: 47 51 
	datadep: 
	instructions:
		 0: BRANCH %v_103[45.0,42.2,] 
BB 47
	outgoing: 48 49 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_108 opts[5.1,3.0,2.6,] 	 SYMBOL:aggregate_search,	 ARGS:Symbol,
		 2: BRANCH %v_108[47.1,] 
BB 48
	outgoing: 50 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "MAX(posts.created_at) DESC" def_%v_109 
		 2: posts->order def_%v_110 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_109[48.1,] 	 SYMBOL:	 ARGS:%v_109,
		 3: COPY TYPE_PASS def_posts %v_110[48.2,] 
		 4: 
BB 49
	outgoing: 50 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "posts.created_at DESC" def_%v_111 
		 2: posts->order def_%v_112 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_111[49.1,] 	 SYMBOL:	 ARGS:%v_111,
		 3: COPY TYPE_PASS def_posts %v_112[49.2,] 
		 4: COPY TYPE_PASS def_%v_110 %v_112[49.2,] 
BB 50
	outgoing: 67 
	datadep: 
	instructions:
		 0: 
BB 51
	outgoing: 52 56 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->order def_%v_113 %self[2.0,] 
		 2: %v_113->== def_%v_114 %v_113[51.1,] 	 SYMBOL:views,	 ARGS:Symbol,
		 3: BRANCH %v_114[51.2,] 
BB 52
	outgoing: 53 54 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_115 opts[5.1,3.0,2.6,] 	 SYMBOL:aggregate_search,	 ARGS:Symbol,
		 2: BRANCH %v_115[52.1,] 
BB 53
	outgoing: 55 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "MAX(topics.views) DESC" def_%v_116 
		 2: posts->order def_%v_117 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_116[53.1,] 	 SYMBOL:	 ARGS:%v_116,
		 3: COPY TYPE_PASS def_posts %v_117[53.2,] 
		 4: 
BB 54
	outgoing: 55 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.views DESC" def_%v_118 
		 2: posts->order def_%v_119 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_118[54.1,] 	 SYMBOL:	 ARGS:%v_118,
		 3: COPY TYPE_PASS def_posts %v_119[54.2,] 
		 4: COPY TYPE_PASS def_%v_117 %v_119[54.2,] 
BB 55
	outgoing: 66 
	datadep: 
	instructions:
		 0: 
BB 56
	outgoing: 57 61 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->order def_%v_120 %self[2.0,] 
		 2: %v_120->== def_%v_121 %v_120[56.1,] 	 SYMBOL:likes,	 ARGS:Symbol,
		 3: BRANCH %v_121[56.2,] 
BB 57
	outgoing: 58 59 
	datadep: 
	instructions:
		 0: 
		 1: opts->[] def_%v_122 opts[5.1,3.0,2.6,] 	 SYMBOL:aggregate_search,	 ARGS:Symbol,
		 2: BRANCH %v_122[57.1,] 
BB 58
	outgoing: 60 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "MAX(posts.like_count) DESC" def_%v_123 
		 2: posts->order def_%v_124 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_123[58.1,] 	 SYMBOL:	 ARGS:%v_123,
		 3: COPY TYPE_PASS def_posts %v_124[58.2,] 
		 4: 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "posts.like_count DESC" def_%v_125 
		 2: posts->order def_%v_126 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_125[59.1,] 	 SYMBOL:	 ARGS:%v_125,
		 3: COPY TYPE_PASS def_posts %v_126[59.2,] 
		 4: COPY TYPE_PASS def_%v_124 %v_126[59.2,] 
BB 60
	outgoing: 65 
	datadep: 
	instructions:
		 0: 
BB 61
	outgoing: 62 63 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "TS_RANK_CD(TO_TSVECTOR(" def_%v_127 
		 2: %self->query_locale def_%v_128 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_StringLiteral ", topics.title), " def_%v_129 
		 4: %self->ts_query def_%v_130 %self[61.2,2.0,] 	 SYMBOL:	 ARGS:
		 5: COPY TYPE_StringLiteral ") DESC" def_%v_131 
		 6: BUILDSTRING def_%v_132 %v_127[61.1,] %v_128[61.2,] %v_129[61.3,] %v_130[61.4,] %v_131[61.5,] 
		 7: posts->order def_%v_133 posts[25.1,34.6,31.6,30.6,36.8,21.5,21.13,20.3,20.11,17.5,15.6,13.5,] %v_132[61.6,] 	 SYMBOL:	 ARGS:%v_132,
		 8: COPY TYPE_PASS def_posts %v_133[61.7,] 
		 9: 
		 10: COPY TYPE_StringLiteral "TS_RANK_CD(post_search_data.search_data, " def_%v_134 
		 11: %self->ts_query def_%v_135 %self[61.2,61.4,2.0,] 	 SYMBOL:	 ARGS:
		 12: COPY TYPE_StringLiteral ")" def_%v_136 
		 13: BUILDSTRING def_%v_137 %v_134[61.10,] %v_135[61.11,] %v_136[61.12,] 
		 14: COPY TYPE_PASS def_data_ranking %v_137[61.13,] 
		 15: 
		 16: opts->[] def_%v_138 opts[5.1,3.0,2.6,] 	 SYMBOL:aggregate_search,	 ARGS:Symbol,
		 17: BRANCH %v_138[61.16,] 
BB 62
	outgoing: 64 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "SUM(" def_%v_139 
		 2: COPY TYPE_StringLiteral ") DESC" def_%v_140 
		 3: BUILDSTRING def_%v_141 %v_139[62.1,] data_ranking[61.14,] %v_140[62.2,] 
		 4: posts->order def_%v_142 posts[61.8,] %v_141[62.3,] 	 SYMBOL:	 ARGS:%v_141,
		 5: COPY TYPE_PASS def_posts %v_142[62.4,] 
		 6: 
BB 63
	outgoing: 64 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral " DESC" def_%v_143 
		 2: BUILDSTRING def_%v_144 data_ranking[61.14,] %v_143[63.1,] 
		 3: posts->order def_%v_145 posts[61.8,] %v_144[63.2,] 	 SYMBOL:	 ARGS:%v_144,
		 4: COPY TYPE_PASS def_posts %v_145[63.3,] 
		 5: COPY TYPE_PASS def_%v_142 %v_145[63.3,] 
BB 64
	outgoing: 65 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "topics.bumped_at DESC" def_%v_146 
		 2: posts->order def_%v_147 posts[63.4,62.5,] %v_146[64.1,] 	 SYMBOL:	 ARGS:%v_146,
		 3: COPY TYPE_PASS def_posts %v_147[64.2,] 
		 4: COPY TYPE_PASS def_%v_124 %v_147[64.2,] 
BB 65
	outgoing: 66 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_117 %v_124[64.4,59.4,58.2,] 
BB 66
	outgoing: 67 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%v_110 %v_117[65.0,54.4,53.2,] 
BB 67
	outgoing: 68 69 
	datadep: 
	instructions:
		 0: 
		 1: %self->secure_category_ids def_%v_148 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_148->present? def_%v_149 %v_148[67.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_149[67.2,] 
BB 68
	outgoing: 70 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "(categories.id IS NULL) OR (NOT categories.read_restricted) OR (categories.id IN (?))" def_%v_150 
		 2: %self->secure_category_ids def_%v_151 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: posts->where def_%v_152 posts[49.3,48.3,64.3,54.3,53.3,59.3,58.3,] %v_150[68.1,] %v_151[68.2,] 	 SYMBOL:	 ARGS:%v_150,%v_151,
		 4: %v_152->references def_%v_153 %v_152[68.3,] 	 SYMBOL:categories,	 ARGS:Symbol,
		 5: COPY TYPE_PASS def_posts %v_153[68.4,] 
		 6: 
BB 69
	outgoing: 70 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "(categories.id IS NULL) OR (NOT categories.read_restricted)" def_%v_154 
		 2: posts->where def_%v_155 posts[49.3,48.3,64.3,54.3,53.3,59.3,58.3,] %v_154[69.1,] 	 SYMBOL:	 ARGS:%v_154,
		 3: %v_155->references def_%v_156 %v_155[69.2,] 	 SYMBOL:categories,	 ARGS:Symbol,
		 4: COPY TYPE_PASS def_posts %v_156[69.3,] 
		 5: COPY TYPE_PASS def_%v_153 %v_156[69.3,] 
BB 70
	outgoing: 71 
	datadep: 
	instructions:
		 0: 
		 1: posts->limit def_%v_157 posts[69.4,68.5,] limit[2.5,] 	 SYMBOL:	 ARGS:limit,
		 2: RETURN %v_157[70.1,] %self[2.0,] 
BB 71
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = query_locale instanceMethod = false
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->query_locale def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (Post) def_%v_6 
		 1: (Search) def_%v_7 
		 2: %v_7->long_locale def_%v_8 %v_7[5.1,] 	 SYMBOL:	 ARGS:
		 3: %v_6->sanitize def_%v_9 %v_6[5.0,] %v_8[5.2,] 	 SYMBOL:	 ARGS:%v_8,
		 4: ATTRASSIGN %self->query_locale %v_9[5.3,] 
		 5: RETURN %v_9[5.3,] %self[5.4,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = query_locale instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->class def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->query_locale def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = ts_query instanceMethod = false
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_term 
		 6: RECEIVECONSTARG def_locale 
		 7: locale[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_locale 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: RECEIVECONSTARG def_joiner 
		 1: joiner[4.0,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "&" def_%v_3 
		 1: COPY TYPE_PASS def_joiner %v_3[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: (Post) def_%v_4 
		 2: COPY TYPE_StringLiteral "SELECT to_tsvector(:locale, :term)" def_%v_5 
		 3: COPY TYPE_PASS def_%v_6 locale[3.0,2.6,] 
		 4: BRANCH locale[3.0,2.6,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->long_locale def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_6 %v_7[7.0,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: HASH-locale-term- def_%v_8 %v_6[7.1,6.3,] term[2.5,] 
		 1: %v_4->exec_sql def_%v_9 %v_4[6.1,] %v_5[6.2,] %v_8[8.0,] 	 SYMBOL:	 ARGS:%v_5,%v_8,
		 2: %v_9->values def_%v_10 %v_9[8.1,] 	 SYMBOL:	 ARGS:
		 3: %v_10->[] def_%v_11 %v_10[8.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: %v_11->[] def_%v_12 %v_11[8.3,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: COPY TYPE_PASS def_data %v_12[8.4,] 
		 6: 
		 7: BRANCH locale[3.0,2.6,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: (Post) def_%v_13 
		 1: %v_13->sanitize def_%v_14 %v_13[9.0,] locale[3.0,2.6,] 	 SYMBOL:	 ARGS:locale,
		 2: COPY TYPE_PASS def_locale %v_14[9.1,] 
		 3: 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_14 
BB 11
	outgoing: 12 13 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Regexp def_%v_15 
		 2: data->scan def_%v_16 data[8.5,] 	 SYMBOL:	 ARGS:%v_15,
		 3: %v_16->flatten def_%v_17 %v_16[11.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_all_terms %v_17[11.3,] 
		 5: 
		 6: %v_17->map! def_%v_18 %v_17[11.3,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_17,
CLOSURE BEGIN: t[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_t 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Regexp def_%cl_1_3 
		 2: t->split def_%cl_1_4 t[2.2,] 	 SYMBOL:	 ARGS:%cl_1_3,
		 3: %cl_1_4->[] def_%cl_1_5 %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: RETURN %cl_1_5[3.3,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_6 
		 1: def_%cl_1_7 %cl_1_6[4.0,] 
		 2: RETURN %cl_1_7[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 7: %v_18->compact! def_%v_19 %v_18[11.6,] 	 SYMBOL:	 ARGS:
		 8: 
		 9: (Post) def_%v_20 
		 10: all_terms->map def_%v_21 all_terms[11.4,] %self[2.0,] 	 SYMBOL:	 ARGS:all_terms,
CLOSURE BEGIN: t[11.6,] 
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_t 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_StringLiteral "'" def_%cl_2_3 
		 2: (PG) def_%cl_2_4 
		 3: (inherit Connection) def_%cl_2_5 %cl_2_4[3.2,] 
		 4: %cl_2_5[3.3,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: %cl_2_4->const_missing def_%cl_2_5 %cl_2_4[3.2,] 	 SYMBOL:Connection,	 ARGS:Symbol,
BB 5
	outgoing: 6 8 
	datadep: 
	instructions:
		 0: %cl_2_5->escape_string def_%cl_2_6 %cl_2_5[4.0,3.3,] t[2.2,] 	 SYMBOL:	 ARGS:t,
		 1: COPY TYPE_StringLiteral "':*" def_%cl_2_7 
		 2: BUILDSTRING def_%cl_2_8 %cl_2_3[3.1,] %cl_2_6[5.0,] %cl_2_7[5.1,] 
		 3: RETURN %cl_2_8[5.2,] %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%cl_2_9 
		 1: def_%cl_2_10 %cl_2_9[6.0,] 
		 2: RETURN %cl_2_10[6.1,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 11: COPY TYPE_StringLiteral " " def_%v_22 
		 12: COPY TYPE_StringLiteral " " def_%v_23 
		 13: BUILDSTRING def_%v_24 %v_22[11.11,] joiner[5.1,4.0,] %v_23[11.12,] 
		 14: %v_21->join def_%v_25 %v_21[11.10,] %v_24[11.13,] 	 SYMBOL:	 ARGS:%v_24,
		 15: %v_20->sanitize def_%v_26 %v_20[11.9,] %v_25[11.14,] 	 SYMBOL:	 ARGS:%v_25,
		 16: COPY TYPE_PASS def_query %v_26[11.15,] 
		 17: 
		 18: COPY TYPE_StringLiteral "TO_TSQUERY(" def_%v_27 
		 19: COPY TYPE_PASS def_%v_28 locale[9.2,3.0,2.6,] 
		 20: BRANCH locale[9.2,3.0,2.6,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: %self->query_locale def_%v_29 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_28 %v_29[12.0,] 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral ", " def_%v_30 
		 1: COPY TYPE_StringLiteral ")" def_%v_31 
		 2: BUILDSTRING def_%v_32 %v_27[11.18,] %v_28[12.1,11.19,] %v_30[13.0,] query[11.16,] %v_31[13.1,] 
		 3: RETURN %v_32[13.2,] %self[2.0,] 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = ts_query instanceMethod = true
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_locale 
		 6: locale[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_locale 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_4 %self[2.0,] 
		 2: COPY TYPE_PASS def_%v_3 %v_4[4.1,] 
		 3: %v_4[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: GETFIELD %self->ts_query_cache def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[5.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: BRANCH %v_3[5.1,4.2,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: HASH- def_%v_6 
		 1: ATTRASSIGN %self->ts_query_cache %v_6[7.0,] 
		 2: COPY TYPE_PASS def_%v_5 %v_6[7.0,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->ts_query_cache def_%v_7 %self[7.1,2.0,] 
		 2: COPY TYPE_PASS def_%v_9 locale[3.0,2.5,] 
		 3: BRANCH locale[3.0,2.5,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->query_locale def_%v_10 %self[7.1,2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_9 %v_10[9.0,] 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral " " def_%v_11 
		 1: %v_9->+ def_%v_12 %v_9[9.1,8.2,] %v_11[10.0,] 	 SYMBOL:	 ARGS:%v_11,
		 2: GETFIELD %self->term def_%v_13 %self[2.0,] 
		 3: %v_12->+ def_%v_14 %v_12[10.1,] %v_13[10.2,] 	 SYMBOL:	 ARGS:%v_13,
		 4: %v_7->[] def_%v_8 %v_7[8.1,] %v_14[10.3,] 	 SYMBOL:	 ARGS:%v_14,
		 5: BRANCH %v_8[10.4,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: (Search) def_%v_15 
		 1: GETFIELD %self->term def_%v_16 %self[2.0,] 
		 2: %v_15->ts_query def_%v_17 %v_15[11.0,] %v_16[11.1,] locale[3.0,2.5,] 	 SYMBOL:	 ARGS:%v_16,locale,
		 3: %v_7->[]= def_%v_8 %v_7[8.1,] %v_14[10.3,] %v_17[11.2,] 	 SYMBOL:	 ARGS:%v_14,%v_17,
		 4: RETURN %v_17[11.2,] %self[7.1,2.0,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %v_8[10.4,] %self[7.1,2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = aggregate_search instanceMethod = true
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_opts 
		 6: opts[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: HASH- def_%v_3 
		 1: COPY TYPE_PASS def_opts %v_3[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->order def_%v_4 %self[2.0,] 
		 2: %v_4->== def_%v_5 %v_4[4.1,] 	 SYMBOL:latest,	 ARGS:Symbol,
		 3: BRANCH %v_5[4.2,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "max" def_%v_6 
		 1: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "min" def_%v_7 
		 1: COPY TYPE_PASS def_%v_6 %v_7[6.0,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_min_or_max %v_6[6.1,5.0,] 
		 1: 
		 2: 
		 3: GETFIELD %self->order def_%v_8 %self[2.0,] 
		 4: %v_8->== def_%v_9 %v_8[7.3,] 	 SYMBOL:likes,	 ARGS:Symbol,
		 5: BRANCH %v_9[7.4,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->limit def_%v_10 %self[2.0,] 
		 2: opts->[] def_%v_11 opts[3.1,2.5,] 	 SYMBOL:private_messages,	 ARGS:Symbol,
		 3: HASH-private_messages- def_%v_12 %v_11[8.2,] 
		 4: %self->posts_query def_%v_13 %self[2.0,] %v_10[8.1,] %v_12[8.3,] 	 SYMBOL:	 ARGS:%v_10,%v_12,
		 5: COPY TYPE_StringLiteral "topics.id" def_%v_14 
		 6: COPY TYPE_StringLiteral "post_number" def_%v_15 
		 7: %v_13->select def_%v_16 %v_13[8.4,] %v_14[8.5,] %v_15[8.6,] 	 SYMBOL:	 ARGS:%v_14,%v_15,
		 8: %v_16->to_sql def_%v_17 %v_16[8.7,] 	 SYMBOL:	 ARGS:
		 9: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->limit def_%v_18 %self[2.0,] 
		 2: opts->[] def_%v_19 opts[3.1,2.5,] 	 SYMBOL:private_messages,	 ARGS:Symbol,
		 3: HASH-aggregate_search-private_messages- def_%v_20 %v_19[9.2,] 
		 4: %self->posts_query def_%v_21 %self[2.0,] %v_18[9.1,] %v_20[9.3,] 	 SYMBOL:	 ARGS:%v_18,%v_20,
		 5: COPY TYPE_StringLiteral "topics.id" def_%v_22 
		 6: 
		 7: COPY TYPE_StringLiteral "(post_number) post_number" def_%v_23 
		 8: BUILDSTRING def_%v_24 min_or_max[7.0,] %v_23[9.7,] 
		 9: %v_21->select def_%v_25 %v_21[9.4,] %v_22[9.5,] %v_24[9.8,] 	 SYMBOL:	 ARGS:%v_22,%v_24,
		 10: COPY TYPE_StringLiteral "topics.id" def_%v_26 
		 11: %v_25->group def_%v_27 %v_25[9.9,] %v_26[9.10,] 	 SYMBOL:	 ARGS:%v_26,
		 12: %v_27->to_sql def_%v_28 %v_27[9.11,] 	 SYMBOL:	 ARGS:
		 13: COPY TYPE_PASS def_%v_17 %v_28[9.12,] 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_post_sql %v_17[9.13,8.8,] 
		 1: 
		 2: COPY TYPE_StringLiteral "SELECT *, row_number() over() row_number FROM (" def_%v_29 
		 3: COPY TYPE_StringLiteral ") xxx" def_%v_30 
		 4: BUILDSTRING def_%v_31 %v_29[10.2,] %v_17[9.13,8.8,] %v_30[10.3,] 
		 5: COPY TYPE_PASS def_post_sql %v_31[10.4,] 
		 6: 
		 7: (Post) def_%v_32 
		 8: HASH-topic- def_%v_33 
		 9: %v_32->includes def_%v_34 %v_32[10.7,] %v_33[10.8,] 	 SYMBOL:	 ARGS:%v_33,
		 10: COPY TYPE_StringLiteral "JOIN (" def_%v_35 
		 11: 
		 12: COPY TYPE_StringLiteral ") x ON x.id = posts.topic_id AND x.post_number = posts.post_number" def_%v_36 
		 13: BUILDSTRING def_%v_37 %v_35[10.10,] post_sql[10.0,10.5,] %v_36[10.12,] 
		 14: %v_34->joins def_%v_38 %v_34[10.9,] %v_37[10.13,] 	 SYMBOL:	 ARGS:%v_37,
		 15: COPY TYPE_StringLiteral "row_number" def_%v_39 
		 16: %v_38->order def_%v_40 %v_38[10.14,] %v_39[10.15,] 	 SYMBOL:	 ARGS:%v_39,
		 17: COPY TYPE_PASS def_posts %v_40[10.16,] 
		 18: 
		 19: %v_40->each def_%v_41 %v_40[10.16,] %self[2.0,] 	 SYMBOL:	 ARGS:%v_40,
CLOSURE BEGIN: %self[2.0,] post[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_post 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%cl_1_3 %self[2.0,] 
		 2: %cl_1_3->add def_%cl_1_4 %cl_1_3[3.1,] post[2.2,] 	 SYMBOL:	 ARGS:post,
		 3: RETURN %cl_1_4[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
		 1: def_%cl_1_6 %cl_1_5[4.0,] 
		 2: RETURN %cl_1_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 20: RETURN %v_41[10.19,] %self[2.0,] 
BB 11
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = private_messages_search instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->guardian def_%v_3 %self[2.0,] 
		 7: %v_3->user def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: (Discourse) def_%v_6 
		 1: (inherit InvalidAccess) def_%v_7 %v_6[4.0,] 
		 2: %v_7[4.1,] 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: %v_6->const_missing def_%v_7 %v_6[4.0,] 	 SYMBOL:InvalidAccess,	 ARGS:Symbol,
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "anonymous can not search PMs" def_%v_8 
		 1: %v_7->new def_%v_9 %v_7[5.0,4.1,] %v_8[6.0,] 	 SYMBOL:	 ARGS:%v_8,
		 2: %self->raise def_%v_10 %self[2.0,] %v_9[6.1,] 	 SYMBOL:	 ARGS:%v_9,
		 3: COPY TYPE_PASS def_%v_5 %v_10[6.2,] 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: HASH-private_messages- def_%v_11 
		 2: %self->aggregate_search def_%v_12 %self[2.0,] %v_11[7.1,] 	 SYMBOL:	 ARGS:%v_11,
		 3: RETURN %v_12[7.2,] %self[7.2,2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = topic_search instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: GETFIELD %self->search_context def_%v_3 %self[2.0,] 
		 7: (Topic) def_%v_4 
		 8: %v_3->is_a? def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: BRANCH %v_5[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->limit def_%v_6 %self[2.0,] 
		 2: %self->posts_query def_%v_7 %self[2.0,] %v_6[3.1,] 	 SYMBOL:	 ARGS:%v_6,
		 3: COPY TYPE_StringLiteral "posts.topic_id = ?" def_%v_8 
		 4: GETFIELD %self->search_context def_%v_9 %self[3.2,2.0,] 
		 5: %v_9->id def_%v_10 %v_9[3.4,] 	 SYMBOL:	 ARGS:
		 6: %v_7->where def_%v_11 %v_7[3.2,] %v_8[3.3,] %v_10[3.5,] 	 SYMBOL:	 ARGS:%v_8,%v_10,
		 7: HASH-topic- def_%v_12 
		 8: %v_11->includes def_%v_13 %v_11[3.6,] %v_12[3.7,] 	 SYMBOL:	 ARGS:%v_12,
		 9: COPY TYPE_PASS def_posts %v_13[3.8,] 
		 10: 
		 11: %v_13->each def_%v_14 %v_13[3.8,] %self[3.2,2.0,] 	 SYMBOL:	 ARGS:%v_13,
CLOSURE BEGIN: %self[3.2,2.0,] post[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_post 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: GETFIELD %self->results def_%cl_1_3 %self[2.0,] 
		 2: %cl_1_3->add def_%cl_1_4 %cl_1_3[3.1,] post[2.2,] 	 SYMBOL:	 ARGS:post,
		 3: RETURN %cl_1_4[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
		 1: def_%cl_1_6 %cl_1_5[4.0,] 
		 2: RETURN %cl_1_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 12: RETURN %v_14[3.11,] %self[3.2,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->aggregate_search def_%v_15 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_15[4.1,] %self[4.1,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

