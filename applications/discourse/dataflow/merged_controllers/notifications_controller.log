SET IRMethod, name = index instanceMethod = true
BB 1
	outgoing: 20 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 15 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->current_user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_PASS def_user %v_3[2.6,] 
		 8: 
		 9: %self->params def_%v_4 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 10: %v_4->[] def_%v_5 %v_4[2.9,] 	 SYMBOL:recent,	 ARGS:Symbol,
		 11: %v_5->present? def_%v_6 %v_5[2.10,] 	 SYMBOL:	 ARGS:
		 12: BRANCH %v_6[2.11,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->params def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_7->[] def_%v_8 %v_7[3.1,] 	 SYMBOL:limit,	 ARGS:Symbol,
		 3: BRANCH %v_8[3.2,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_%v_8 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: %v_8->to_i def_%v_9 %v_8[4.0,3.2,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_limit %v_9[5.0,] 
		 2: 
		 3: %v_9->> def_%v_10 %v_9[5.0,] 	 SYMBOL:	 ARGS:Fixnum,
		 4: BRANCH %v_10[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Fixnum def_limit 
		 1: COPY TYPE_Fixnum def_%v_11 
		 2: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_11 
BB 8
	outgoing: 9 13 
	datadep: 
	instructions:
		 0: 
		 1: (Notification) def_%v_12 
		 2: %self->current_user def_%v_13 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_12->recent_report def_%v_14 %v_12[8.1,] %v_13[8.2,] limit[6.0,5.1,] 	 SYMBOL:	 ARGS:%v_13,limit,
		 4: COPY TYPE_PASS def_notifications %v_14[8.3,] 
		 5: 
		 6: %v_14->present? def_%v_15 %v_14[8.3,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_15[8.6,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: notifications->map def_%v_16 notifications[8.4,] 	 SYMBOL:id,	 ARGS:
		 2: %v_16->max def_%v_17 %v_16[9.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_max_id %v_17[9.2,] 
		 4: 
		 5: %self->params def_%v_18 %self[2.0,] 	 SYMBOL:	 ARGS:
		 6: %v_18->has_key? def_%v_19 %v_18[9.5,] 	 SYMBOL:silent,	 ARGS:Symbol,
		 7: BRANCH %v_19[9.6,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_20 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: %self->current_user def_%v_21 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_21->saw_notification_id def_%v_22 %v_21[11.0,] max_id[9.3,] 	 SYMBOL:	 ARGS:max_id,
		 2: COPY TYPE_PASS def_%v_20 %v_22[11.1,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_20 
BB 14
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
		 1: %self->current_user def_%v_23 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_23->reload def_%v_24 %v_23[14.1,] 	 SYMBOL:	 ARGS:
		 3: 
		 4: %self->current_user def_%v_25 %self[14.1,2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_25->publish_notifications_state def_%v_26 %v_25[14.4,] 	 SYMBOL:	 ARGS:
		 6: 
		 7: (NotificationSerializer) def_%v_27 
		 8: HASH-root- def_%v_28 
		 9: %self->render_serialized def_%v_29 %self[14.1,14.4,2.0,] notifications[8.4,] %v_27[14.7,] %v_28[14.8,] 	 SYMBOL:	 ARGS:notifications,%v_27,%v_28,
		 10: RETURN %v_29[14.9,] %self[14.1,14.4,14.9,2.0,] 
BB 15
	outgoing: 16 17 
	datadep: 
	instructions:
		 0: 
		 1: %self->params def_%v_30 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_30->[] def_%v_31 %v_30[15.1,] 	 SYMBOL:offset,	 ARGS:Symbol,
		 3: %v_31->to_i def_%v_32 %v_31[15.2,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_PASS def_offset %v_32[15.3,] 
		 5: 
		 6: %self->params def_%v_33 %self[15.1,2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_33->[] def_%v_34 %v_33[15.6,] 	 SYMBOL:username,	 ARGS:Symbol,
		 8: BRANCH %v_34[15.7,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: (User) def_%v_35 
		 1: %self->params def_%v_36 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_36->[] def_%v_37 %v_36[16.1,] 	 SYMBOL:username,	 ARGS:Symbol,
		 3: %v_37->to_s def_%v_38 %v_37[16.2,] 	 SYMBOL:	 ARGS:
		 4: %v_35->find_by_username def_%v_39 %v_35[16.0,] %v_38[16.3,] 	 SYMBOL:	 ARGS:%v_38,
		 5: COPY TYPE_PASS def_user %v_39[16.4,] 
		 6: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_39 
BB 18
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
		 1: %self->guardian def_%v_40 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_40->ensure_can_see_notifications! def_%v_41 %v_40[18.1,] user[16.5,2.7,] 	 SYMBOL:	 ARGS:user,
		 3: 
		 4: (Notification) def_%v_42 
		 5: user->id def_%v_43 user[16.5,2.7,] 	 SYMBOL:	 ARGS:
		 6: HASH-user_id- def_%v_44 %v_43[18.5,] 
		 7: %v_42->where def_%v_45 %v_42[18.4,] %v_44[18.6,] 	 SYMBOL:	 ARGS:%v_44,
		 8: %v_45->visible def_%v_46 %v_45[18.7,] 	 SYMBOL:	 ARGS:
		 9: %v_46->includes def_%v_47 %v_46[18.8,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 10: HASH-created_at- def_%v_48 
		 11: %v_47->order def_%v_49 %v_47[18.9,] %v_48[18.10,] 	 SYMBOL:	 ARGS:%v_48,
		 12: COPY TYPE_PASS def_notifications %v_49[18.11,] 
		 13: 
		 14: %v_49->dup def_%v_50 %v_49[18.11,] 	 SYMBOL:	 ARGS:
		 15: %v_50->count def_%v_51 %v_50[18.14,] 	 SYMBOL:	 ARGS:
		 16: COPY TYPE_PASS def_total_rows %v_51[18.15,] 
		 17: 
		 18: notifications->offset def_%v_52 notifications[18.12,] offset[15.4,] 	 SYMBOL:	 ARGS:offset,
		 19: %v_52->limit def_%v_53 %v_52[18.18,] 	 SYMBOL:	 ARGS:Fixnum,
		 20: COPY TYPE_PASS def_notifications %v_53[18.19,] 
		 21: 
		 22: (NotificationSerializer) def_%v_54 
		 23: %self->serialize_data def_%v_55 %self[18.1,2.0,] %v_53[18.19,] %v_54[18.22,] 	 SYMBOL:	 ARGS:notifications,%v_54,
		 24: user->username def_%v_56 user[18.5,16.5,2.7,] 	 SYMBOL:	 ARGS:
		 25: offset->+ def_%v_57 offset[15.4,] 	 SYMBOL:	 ARGS:Fixnum,
		 26: HASH-username-offset- def_%v_58 %v_56[18.24,] %v_57[18.25,] 
		 27: %self->notifications_path def_%v_59 %self[18.1,18.23,2.0,] %v_58[18.26,] 	 SYMBOL:	 ARGS:%v_58,
		 28: HASH-notifications-total_rows_notifications-load_more_notifications- def_%v_60 %v_55[18.23,] total_rows[18.16,] %v_59[18.27,] 
		 29: %self->render_json_dump def_%v_61 %self[18.1,18.23,18.27,2.0,] %v_60[18.28,] 	 SYMBOL:	 ARGS:%v_60,
		 30: RETURN %v_61[18.29,] %self[18.1,18.23,18.27,18.29,2.0,] 
BB 20
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = mark_read instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (Notification) def_%v_3 
		 7: %self->current_user def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_4->id def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:
		 9: HASH-user_id- def_%v_6 %v_5[2.8,] 
		 10: %v_3->where def_%v_7 %v_3[2.6,] %v_6[2.9,] 	 SYMBOL:	 ARGS:%v_6,
		 11: %v_7->includes def_%v_8 %v_7[2.10,] 	 SYMBOL:topic,	 ARGS:Symbol,
		 12: HASH-read- def_%v_9 
		 13: %v_8->where def_%v_10 %v_8[2.11,] %v_9[2.12,] 	 SYMBOL:	 ARGS:%v_9,
		 14: HASH-read- def_%v_11 
		 15: %v_10->update_all def_%v_12 %v_10[2.13,] %v_11[2.14,] 	 SYMBOL:	 ARGS:%v_11,
		 16: 
		 17: %self->current_user def_%v_13 %self[2.0,2.7,] 	 SYMBOL:	 ARGS:
		 18: (Notification) def_%v_14 
		 19: %self->current_user def_%v_15 %self[2.0,2.7,2.17,] 	 SYMBOL:	 ARGS:
		 20: %v_14->recent_report def_%v_16 %v_14[2.18,] %v_15[2.19,] 	 SYMBOL:	 ARGS:%v_15,Fixnum,
		 21: %v_16->max def_%v_17 %v_16[2.20,] 	 SYMBOL:	 ARGS:
		 22: %v_13->saw_notification_id def_%v_18 %v_13[2.17,] %v_17[2.21,] 	 SYMBOL:	 ARGS:%v_17,
		 23: 
		 24: %self->current_user def_%v_19 %self[2.0,2.7,2.17,2.19,] 	 SYMBOL:	 ARGS:
		 25: %v_19->reload def_%v_20 %v_19[2.24,] 	 SYMBOL:	 ARGS:
		 26: 
		 27: %self->current_user def_%v_21 %self[2.0,2.7,2.17,2.19,2.24,] 	 SYMBOL:	 ARGS:
		 28: %v_21->publish_notifications_state def_%v_22 %v_21[2.27,] 	 SYMBOL:	 ARGS:
		 29: 
		 30: %self->success_json def_%v_23 %self[2.0,2.7,2.17,2.19,2.24,2.27,] 	 SYMBOL:	 ARGS:
		 31: HASH-json- def_%v_24 %v_23[2.30,] 
		 32: %self->render def_%v_25 %self[2.0,2.7,2.17,2.19,2.24,2.27,2.30,] %v_24[2.31,] 	 SYMBOL:	 ARGS:%v_24,
		 33: RETURN %v_25[2.32,] %self[2.0,2.7,2.17,2.19,2.24,2.27,2.30,2.32,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

